!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).window=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n||e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){(function(e){function n(e){this._db=e,this._operations=[],this._written=!1}n.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},n.prototype.put=function(e,t){this._checkWritten();var n=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(n)throw n;if(n=this._db._checkKeyValue(t,"value",this._db._isBuffer))throw n;return this._db._isBuffer(e)||(e=String(e)),this._db._isBuffer(t)||(t=String(t)),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},n.prototype.del=function(e){this._checkWritten();var t=this._db._checkKeyValue(e,"key",this._db._isBuffer);if(t)throw t;return this._db._isBuffer(e)||(e=String(e)),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},n.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},n.prototype.write=function(t,n){if(this._checkWritten(),"function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("write() requires a callback argument");return"object"!=typeof t&&(t={}),this._written=!0,"function"==typeof this._write?this._write(n):"function"==typeof this._db._batch?this._db._batch(this._operations,t,n):void e.nextTick(n)},t.exports=n}).call(this,e("_process"))},{_process:134}],2:[function(e,t,n){(function(e){function n(e){this.db=e,this._ended=!1,this._nexting=!1}n.prototype.next=function(t){var n=this;if("function"!=typeof t)throw new Error("next() requires a callback argument");return n._ended?t(new Error("cannot call next() after end()")):n._nexting?t(new Error("cannot call next() before previous next() has completed")):(n._nexting=!0,"function"==typeof n._next?n._next(function(){n._nexting=!1,t.apply(null,arguments)}):void e.nextTick(function(){n._nexting=!1,t()}))},n.prototype.end=function(t){if("function"!=typeof t)throw new Error("end() requires a callback argument");return this._ended?t(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(t):void e.nextTick(t))},t.exports=n}).call(this,e("_process"))},{_process:134}],3:[function(e,t,n){(function(n,r){function i(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e}var o=e("xtend"),s=e("./abstract-iterator"),a=e("./abstract-chained-batch");i.prototype.open=function(e,t){if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");if("object"!=typeof e&&(e={}),"function"==typeof this._open)return this._open(e,t);r.nextTick(t)},i.prototype.close=function(e){if("function"!=typeof e)throw new Error("close() requires a callback argument");if("function"==typeof this._close)return this._close(e);r.nextTick(e)},i.prototype.get=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("get() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._get?this._get(e,t,n):void r.nextTick(function(){n(new Error("NotFound"))}))},i.prototype.put=function(e,t,n,i){var o;if("function"==typeof n&&(i=n),"function"!=typeof i)throw new Error("put() requires a callback argument");return(o=this._checkKeyValue(e,"key",this._isBuffer))?i(o):(o=this._checkKeyValue(t,"value",this._isBuffer))?i(o):(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||r.browser||(t=String(t)),"object"!=typeof n&&(n={}),"function"==typeof this._put?this._put(e,t,n,i):void r.nextTick(i))},i.prototype.del=function(e,t,n){var i;if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("del() requires a callback argument");return(i=this._checkKeyValue(e,"key",this._isBuffer))?n(i):(this._isBuffer(e)||(e=String(e)),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,n):void r.nextTick(n))},i.prototype.batch=function(e,t,n){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(n=t),"function"!=typeof n)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return n(new Error("batch(array) requires an array argument"));"object"!=typeof t&&(t={});for(var i,o,s=0,a=e.length;s<a;s++)if("object"==typeof(i=e[s])){if(o=this._checkKeyValue(i.type,"type",this._isBuffer))return n(o);if(o=this._checkKeyValue(i.key,"key",this._isBuffer))return n(o);if("put"==i.type&&(o=this._checkKeyValue(i.value,"value",this._isBuffer)))return n(o)}if("function"==typeof this._batch)return this._batch(e,t,n);r.nextTick(n)},i.prototype.approximateSize=function(e,t,n){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof n)throw new Error("approximateSize() requires a callback argument");if(this._isBuffer(e)||(e=String(e)),this._isBuffer(t)||(t=String(t)),"function"==typeof this._approximateSize)return this._approximateSize(e,t,n);r.nextTick(function(){n(null,0)})},i.prototype._setupIteratorOptions=function(e){var t=this;return e=o(e),["start","end","gt","gte","lt","lte"].forEach(function(n){e[n]&&t._isBuffer(e[n])&&0===e[n].length&&delete e[n]}),e.reverse=!!e.reverse,e.reverse&&e.lt&&(e.start=e.lt),e.reverse&&e.lte&&(e.start=e.lte),!e.reverse&&e.gt&&(e.start=e.gt),!e.reverse&&e.gte&&(e.start=e.gte),(e.reverse&&e.lt&&!e.lte||!e.reverse&&e.gt&&!e.gte)&&(e.exclusiveStart=!0),e},i.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new s(this)},i.prototype._chainedBatch=function(){return new a(this)},i.prototype._isBuffer=function(e){return n.isBuffer(e)},i.prototype._checkKeyValue=function(e,t){if(null===e||void 0===e)return new Error(t+" cannot be `null` or `undefined`");if(this._isBuffer(e)){if(0===e.length)return new Error(t+" cannot be an empty Buffer")}else if(""===String(e))return new Error(t+" cannot be an empty String")},t.exports.AbstractLevelDOWN=i,t.exports.AbstractIterator=s,t.exports.AbstractChainedBatch=a}).call(this,{isBuffer:e("../is-buffer/index.js")},e("_process"))},{"../is-buffer/index.js":41,"./abstract-chained-batch":1,"./abstract-iterator":2,_process:134,xtend:4}],4:[function(e,t,n){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}},{}],5:[function(e,t,n){(function(n){"use strict";function r(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function i(e){return n.Buffer&&"function"==typeof n.Buffer.isBuffer?n.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function o(e){return Object.prototype.toString.call(e)}function s(e){return!i(e)&&("function"==typeof n.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function a(e){if(v.isFunction(e)){if(k)return e.name;var t=e.toString().match(S);return t&&t[1]}}function u(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function f(e){if(k||!v.isFunction(e))return v.inspect(e);var t=a(e);return"[Function"+(t?": "+t:"")+"]"}function l(e){return u(f(e.actual),128)+" "+e.operator+" "+u(f(e.expected),128)}function c(e,t,n,r,i){throw new x.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function h(e,t){e||c(e,!0,t,"==",x.ok)}function d(e,t,n,a){if(e===t)return!0;if(i(e)&&i(t))return 0===r(e,t);if(v.isDate(e)&&v.isDate(t))return e.getTime()===t.getTime();if(v.isRegExp(e)&&v.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&o(e)===o(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===r(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var u=(a=a||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===a.expected.indexOf(t)||(a.actual.push(e),a.expected.push(t),g(e,t,n,a))}return n?e===t:e==t}function p(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function g(e,t,n,r){if(null===e||void 0===e||null===t||void 0===t)return!1;if(v.isPrimitive(e)||v.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=p(e),o=p(t);if(i&&!o||!i&&o)return!1;if(i)return e=E.call(e),t=E.call(t),d(e,t,n);var s,a,u=T(e),f=T(t);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),a=u.length-1;a>=0;a--)if(u[a]!==f[a])return!1;for(a=u.length-1;a>=0;a--)if(s=u[a],!d(e[s],t[s],n,r))return!1;return!0}function b(e,t,n){d(e,t,!0)&&c(e,t,n,"notDeepStrictEqual",b)}function _(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function y(e){var t;try{e()}catch(e){t=e}return t}function m(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=y(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&c(i,n,"Missing expected exception"+r);var o="string"==typeof r,s=!e&&v.isError(i),a=!e&&i&&!n;if((s&&o&&_(i,n)||a)&&c(i,n,"Got unwanted exception"+r),e&&i&&n&&!_(i,n)||!e&&i)throw i}var v=e("util/"),w=Object.prototype.hasOwnProperty,E=Array.prototype.slice,k="foo"===function(){}.name,x=t.exports=h,S=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=a(t),o=r.indexOf("\n"+i);if(o>=0){var s=r.indexOf("\n",o+1);r=r.substring(s+1)}this.stack=r}}},v.inherits(x.AssertionError,Error),x.fail=c,x.ok=h,x.equal=function(e,t,n){e!=t&&c(e,t,n,"==",x.equal)},x.notEqual=function(e,t,n){e==t&&c(e,t,n,"!=",x.notEqual)},x.deepEqual=function(e,t,n){d(e,t,!1)||c(e,t,n,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(e,t,n){d(e,t,!0)||c(e,t,n,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(e,t,n){d(e,t,!1)&&c(e,t,n,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=b,x.strictEqual=function(e,t,n){e!==t&&c(e,t,n,"===",x.strictEqual)},x.notStrictEqual=function(e,t,n){e===t&&c(e,t,n,"!==",x.notStrictEqual)},x.throws=function(e,t,n){m(!0,e,t,n)},x.doesNotThrow=function(e,t,n){m(!1,e,t,n)},x.ifError=function(e){if(e)throw e};var T=Object.keys||function(e){var t=[];for(var n in e)w.call(e,n)&&t.push(n);return t}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"util/":159}],6:[function(e,t,n){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function o(e,t,n){for(var r,o=[],s=t;s<n;s+=3)r=(e[s]<<16)+(e[s+1]<<8)+e[s+2],o.push(i(r));return o.join("")}n.byteLength=function(e){return 3*e.length/4-r(e)},n.toByteArray=function(e){var t,n,i,o,s,f=e.length;o=r(e),s=new u(3*f/4-o),n=o>0?f-4:f;var l=0;for(t=0;t<n;t+=4)i=a[e.charCodeAt(t)]<<18|a[e.charCodeAt(t+1)]<<12|a[e.charCodeAt(t+2)]<<6|a[e.charCodeAt(t+3)],s[l++]=i>>16&255,s[l++]=i>>8&255,s[l++]=255&i;return 2===o?(i=a[e.charCodeAt(t)]<<2|a[e.charCodeAt(t+1)]>>4,s[l++]=255&i):1===o&&(i=a[e.charCodeAt(t)]<<10|a[e.charCodeAt(t+1)]<<4|a[e.charCodeAt(t+2)]>>2,s[l++]=i>>8&255,s[l++]=255&i),s},n.fromByteArray=function(e){for(var t,n=e.length,r=n%3,i="",a=[],u=0,f=n-r;u<f;u+=16383)a.push(o(e,u,u+16383>f?f:u+16383));return 1===r?(t=e[n-1],i+=s[t>>2],i+=s[t<<4&63],i+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],i+=s[t>>10],i+=s[t>>4&63],i+=s[t<<2&63],i+="="),a.push(i),a.join("")};for(var s=[],a=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,c=f.length;l<c;++l)s[l]=f[l],a[f.charCodeAt(l)]=l;a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],7:[function(e,t,n){(function(n){function r(e){if(!(this instanceof r))return new r(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)})}else n.isBuffer(e)?this.append(e):Array.isArray(e)&&e.forEach(function(e){n.isBuffer(e)&&this.append(e)}.bind(this));i.call(this)}var i=e("readable-stream").Duplex;e("util").inherits(r,i),r.prototype._offset=function(e){for(var t,n=0,r=0;r<this._bufs.length;r++){if(t=n+this._bufs[r].length,e<t)return[r,e-n];n=t}},r.prototype.append=function(e){return this._bufs.push(n.isBuffer(e)?e:new n(e)),this.length+=e.length,this},r.prototype._write=function(e,t,n){this.append(e),n&&n()},r.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},r.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},r.prototype.get=function(e){return this.slice(e,e+1)[0]},r.prototype.slice=function(e,t){return this.copy(null,0,e,t)},r.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||new n(0);if(i<=0)return e||new n(0);var o,s,a=!!e,u=this._offset(r),f=i-r,l=f,c=a&&t||0,h=u[1];if(0===r&&i==this.length){if(!a)return n.concat(this._bufs);for(s=0;s<this._bufs.length;s++)this._bufs[s].copy(e,c),c+=this._bufs[s].length;return e}if(l<=this._bufs[u[0]].length-h)return a?this._bufs[u[0]].copy(e,t,h,h+l):this._bufs[u[0]].slice(h,h+l);for(a||(e=new n(f)),s=u[0];s<this._bufs.length;s++){if(o=this._bufs[s].length-h,!(l>o)){this._bufs[s].copy(e,c,h,h+l);break}this._bufs[s].copy(e,c,h),c+=o,l-=o,h&&(h=0)}return e},r.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},r.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},r.prototype.duplicate=function(){for(var e=0,t=new r;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},r.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){r.prototype[t]=function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),t.exports=r}).call(this,e("buffer").Buffer)},{buffer:19,"readable-stream":14,util:159}],8:[function(e,t,n){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],9:[function(e,t,n){(function(n){function r(e){if(!(this instanceof r))return new r(e);a.call(this,e),u.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}t.exports=r;var o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},s=e("core-util-is");s.inherits=e("inherits");var a=e("./_stream_readable"),u=e("./_stream_writable");s.inherits(r,a),function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}(o(u.prototype),function(e){r.prototype[e]||(r.prototype[e]=u.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":11,"./_stream_writable":13,_process:134,"core-util-is":21,inherits:40}],10:[function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":12,"core-util-is":21,inherits:40}],11:[function(e,t,n){(function(n){function r(t,n){var r=(t=t||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(A||(A=e("string_decoder/").StringDecoder),this.decoder=new A(t.encoding),this.encoding=t.encoding)}function i(e){if(!(this instanceof i))return new i(e);this._readableState=new r(e,this),this.readable=!0,T.call(this)}function o(e,t,n,r,i){var o=f(t,n);if(o)e.emit("error",o);else if(null===n||void 0===n)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):(t.reading=!1,t.buffer.push(n)),t.needReadable&&c(e),d(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=I)e=I;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,t){var n=null;return x.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.length>0?c(e):v(e)}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?n.nextTick(function(){h(e)}):h(e))}function h(e){e.emit("readable")}function d(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&b(e)}}function b(e){function t(e,t,i){!1===e.write(n)&&r.awaitDrain++}var n,r=e._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=e.read());)if(1===r.pipesCount?t(r.pipes):w(r.pipes,t),e.emit("data",n),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(S.listenerCount(e,"data")>0&&y(e));r.ranOut=!0}function _(){this._readableState.ranOut&&(this._readableState.ranOut=!1,b(this))}function y(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,i=!1;e.readable=!0,e.pipe=T.prototype.pipe,e.on=e.addListener=T.prototype.on,e.on("readable",function(){i=!0;for(var t;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(i=!1,e._readableState.needReadable=!0)}),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,i?n.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function m(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):x.concat(r,i),r.length=0;else if(e<r[0].length)n=(l=r[0]).slice(0,e),r[0]=l.slice(e);else if(e===r[0].length)n=r.shift();else{n=o?"":new x(e);for(var a=0,u=0,f=r.length;u<f&&a<e;u++){var l=r[0],c=Math.min(e-a,l.length);o?n+=l.slice(0,c):l.copy(n,a,0,c),c<l.length?r[0]=l.slice(c):r.shift(),a+=c}}return n}function v(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function E(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),x=e("buffer").Buffer;i.ReadableState=r;var S=e("events").EventEmitter;S.listenerCount||(S.listenerCount=function(e,t){return e.listeners(t).length});var T=e("stream"),R=e("core-util-is");R.inherits=e("inherits");var A;R.inherits(i,T),i.prototype.push=function(e,t){var n=this._readableState;return"string"!=typeof e||n.objectMode||(t=t||n.defaultEncoding)!==n.encoding&&(e=new x(e,t),t=""),o(this,n,e,t,!1)},i.prototype.unshift=function(e){return o(this,this._readableState,e,"",!0)},i.prototype.setEncoding=function(t){A||(A=e("string_decoder/").StringDecoder),this._readableState.decoder=new A(t),this._readableState.encoding=t};var I=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var n,r=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return c(this),null;if(0===(e=u(e,t))&&t.ended)return n=null,t.length>0&&t.decoder&&(n=m(e,t),t.length-=n.length),0===t.length&&v(this),n;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=u(r,t)),null===(n=e>0?m(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&v(this),n},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){e===l&&o()}function i(){e.end()}function o(){e.removeListener("close",a),e.removeListener("finish",u),e.removeListener("drain",d),e.removeListener("error",s),e.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),e._writableState&&!e._writableState.needDrain||d()}function s(t){f(),e.removeListener("error",s),0===S.listenerCount(e,"error")&&e.emit("error",t)}function a(){e.removeListener("finish",u),f()}function u(){e.removeListener("close",a),f()}function f(){l.unpipe(e)}var l=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1;var h=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?i:o;c.endEmitted?n.nextTick(h):l.once("end",h),e.on("unpipe",r);var d=g(l);return e.on("drain",d),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(s):e._events.error=[s,e._events.error]:e.on("error",s),e.once("close",a),e.once("finish",u),e.emit("pipe",l),c.flowing||(this.on("readable",_),c.flowing=!0,n.nextTick(function(){b(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",_),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",_),t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=E(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var n=T.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||y(this),"readable"===e&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&c(this):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){y(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){y(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))});for(var i in e)"function"==typeof e[i]&&void 0===this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return w(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){n&&(n=!1,e.resume())},r},i._fromList=m}).call(this,e("_process"))},{_process:134,buffer:19,"core-util-is":21,events:26,inherits:40,isarray:8,stream:151,"string_decoder/":153}],12:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e);this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=(e._readableState,e._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":9,"core-util-is":21,inherits:40}],13:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=!1===e.decodeStrings;this.decodeStrings=!r,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");if(!(this instanceof o||this instanceof n))return new o(t);this._writableState=new i(t,this),this.writable=!0,E.call(this)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!v.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!t.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new v(t,n)),t}function f(e,t,n,i,o){n=u(t,n,i),v.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing?t.buffer.push(new r(n,i,o)):l(e,t,s,n,i,o),a}function l(e,t,n,r,i,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,e._write(r,i,t.onwrite),t.sync=!1}function c(e,t,r,i,o){r?n.nextTick(function(){o(i)}):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(h(r),t)c(e,r,i,t,o);else{var s=_(e,r);s||r.bufferProcessing||!r.buffer.length||b(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||g(e,t),r(),n&&y(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function b(e,t){t.bufferProcessing=!0;for(var n=0;n<t.buffer.length;n++){var r=t.buffer[n],i=r.chunk,o=r.encoding,s=r.callback;if(l(e,t,t.objectMode?1:i.length,i,o,s),t.writing){n++;break}}t.bufferProcessing=!1,n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}function _(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){var n=_(e,t);return n&&(t.finished=!0,e.emit("finish")),n}function m(e,t,r){t.ending=!0,y(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var v=e("buffer").Buffer;o.WritableState=i;var w=e("core-util-is");w.inherits=e("inherits");var E=e("stream");w.inherits(o,E),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return"function"==typeof t&&(n=t,t=null),v.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,0,n):a(this,r,e,n)&&(i=f(this,r,e,t,n)),i},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),void 0!==e&&null!==e&&this.write(e,t),r.ending||r.finished||m(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":9,_process:134,buffer:19,"core-util-is":21,inherits:40,stream:151}],14:[function(e,t,n){(function(r){var i=e("stream");(n=t.exports=e("./lib/_stream_readable.js")).Stream=i,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=e("stream"))}).call(this,e("_process"))},{"./lib/_stream_duplex.js":9,"./lib/_stream_passthrough.js":10,"./lib/_stream_readable.js":11,"./lib/_stream_transform.js":12,"./lib/_stream_writable.js":13,_process:134,stream:151}],15:[function(e,t,n){},{}],16:[function(e,t,n){var r=e("level-js"),i=e("levelup"),o=e("level-filesystem"),s=i("level-filesystem",{db:r});t.exports=o(s)},{"level-filesystem":55,"level-js":64,levelup:83}],17:[function(e,t,n){(function(t,r){function i(e){if(e<n.DEFLATE||e>n.UNZIP)throw new TypeError("Bad argument");this.mode=e,this.init_done=!1,this.write_in_progress=!1,this.pending_close=!1,this.windowBits=0,this.level=0,this.memLevel=0,this.strategy=0,this.dictionary=null}function o(e,t){for(var n=0;n<e.length;n++)this[t+n]=e[n]}var s=e("pako/lib/zlib/messages"),a=e("pako/lib/zlib/zstream"),u=e("pako/lib/zlib/deflate.js"),f=e("pako/lib/zlib/inflate.js"),l=e("pako/lib/zlib/constants");for(var c in l)n[c]=l[c];n.NONE=0,n.DEFLATE=1,n.INFLATE=2,n.GZIP=3,n.GUNZIP=4,n.DEFLATERAW=5,n.INFLATERAW=6,n.UNZIP=7,i.prototype.init=function(e,t,r,i,o){switch(this.windowBits=e,this.level=t,this.memLevel=r,this.strategy=i,this.mode!==n.GZIP&&this.mode!==n.GUNZIP||(this.windowBits+=16),this.mode===n.UNZIP&&(this.windowBits+=32),this.mode!==n.DEFLATERAW&&this.mode!==n.INFLATERAW||(this.windowBits=-this.windowBits),this.strm=new a,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:s=u.deflateInit2(this.strm,this.level,n.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:case n.UNZIP:var s=f.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}s===n.Z_OK?(this.write_in_progress=!1,this.init_done=!0):this._error(s)},i.prototype.params=function(){throw new Error("deflateParams Not supported")},i.prototype._writeCheck=function(){if(!this.init_done)throw new Error("write before init");if(this.mode===n.NONE)throw new Error("already finalized");if(this.write_in_progress)throw new Error("write already in progress");if(this.pending_close)throw new Error("close is pending")},i.prototype.write=function(e,n,r,i,o,s,a){this._writeCheck(),this.write_in_progress=!0;var u=this;return t.nextTick(function(){u.write_in_progress=!1;var t=u._write(e,n,r,i,o,s,a);u.callback(t[0],t[1]),u.pending_close&&u.close()}),this},i.prototype.writeSync=function(e,t,n,r,i,o,s){return this._writeCheck(),this._write(e,t,n,r,i,o,s)},i.prototype._write=function(e,t,i,s,a,l,c){if(this.write_in_progress=!0,e!==n.Z_NO_FLUSH&&e!==n.Z_PARTIAL_FLUSH&&e!==n.Z_SYNC_FLUSH&&e!==n.Z_FULL_FLUSH&&e!==n.Z_FINISH&&e!==n.Z_BLOCK)throw new Error("Invalid flush value");null==t&&(t=new r(0),s=0,i=0),a._set?a.set=a._set:a.set=o;var h=this.strm;switch(h.avail_in=s,h.input=t,h.next_in=i,h.avail_out=c,h.output=a,h.next_out=l,this.mode){case n.DEFLATE:case n.GZIP:case n.DEFLATERAW:d=u.deflate(h,e);break;case n.UNZIP:case n.INFLATE:case n.GUNZIP:case n.INFLATERAW:var d=f.inflate(h,e);break;default:throw new Error("Unknown mode "+this.mode)}return d!==n.Z_STREAM_END&&d!==n.Z_OK&&this._error(d),this.write_in_progress=!1,[h.avail_in,h.avail_out]},i.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,this.mode===n.DEFLATE||this.mode===n.GZIP||this.mode===n.DEFLATERAW?u.deflateEnd(this.strm):f.inflateEnd(this.strm),this.mode=n.NONE)},i.prototype.reset=function(){switch(this.mode){case n.DEFLATE:case n.DEFLATERAW:e=u.deflateReset(this.strm);break;case n.INFLATE:case n.INFLATERAW:var e=f.inflateReset(this.strm)}e!==n.Z_OK&&this._error(e)},i.prototype._error=function(e){this.onerror(s[e]+": "+this.strm.msg,e),this.write_in_progress=!1,this.pending_close&&this.close()},n.Zlib=i}).call(this,e("_process"),e("buffer").Buffer)},{_process:134,buffer:19,"pako/lib/zlib/constants":101,"pako/lib/zlib/deflate.js":103,"pako/lib/zlib/inflate.js":105,"pako/lib/zlib/messages":107,"pako/lib/zlib/zstream":109}],18:[function(e,t,n){(function(t,r){function i(e,t,n){function i(){for(var t;null!==(t=e.read());)s.push(t),a+=t.length;e.once("readable",i)}function o(){var t=r.concat(s,a);s=[],n(null,t),e.close()}var s=[],a=0;e.on("error",function(t){e.removeListener("end",o),e.removeListener("readable",i),n(t)}),e.on("end",o),e.end(t),i()}function o(e,t){if("string"==typeof t&&(t=new r(t)),!r.isBuffer(t))throw new TypeError("Not a string or buffer");var n=g.Z_FINISH;return e._processChunk(t,n)}function s(e){if(!(this instanceof s))return new s(e);d.call(this,e,g.DEFLATE)}function a(e){if(!(this instanceof a))return new a(e);d.call(this,e,g.INFLATE)}function u(e){if(!(this instanceof u))return new u(e);d.call(this,e,g.GZIP)}function f(e){if(!(this instanceof f))return new f(e);d.call(this,e,g.GUNZIP)}function l(e){if(!(this instanceof l))return new l(e);d.call(this,e,g.DEFLATERAW)}function c(e){if(!(this instanceof c))return new c(e);d.call(this,e,g.INFLATERAW)}function h(e){if(!(this instanceof h))return new h(e);d.call(this,e,g.UNZIP)}function d(e,t){if(this._opts=e=e||{},this._chunkSize=e.chunkSize||n.Z_DEFAULT_CHUNK,p.call(this,e),e.flush&&e.flush!==g.Z_NO_FLUSH&&e.flush!==g.Z_PARTIAL_FLUSH&&e.flush!==g.Z_SYNC_FLUSH&&e.flush!==g.Z_FULL_FLUSH&&e.flush!==g.Z_FINISH&&e.flush!==g.Z_BLOCK)throw new Error("Invalid flush flag: "+e.flush);if(this._flushFlag=e.flush||g.Z_NO_FLUSH,e.chunkSize&&(e.chunkSize<n.Z_MIN_CHUNK||e.chunkSize>n.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+e.chunkSize);if(e.windowBits&&(e.windowBits<n.Z_MIN_WINDOWBITS||e.windowBits>n.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+e.windowBits);if(e.level&&(e.level<n.Z_MIN_LEVEL||e.level>n.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+e.level);if(e.memLevel&&(e.memLevel<n.Z_MIN_MEMLEVEL||e.memLevel>n.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+e.memLevel);if(e.strategy&&e.strategy!=n.Z_FILTERED&&e.strategy!=n.Z_HUFFMAN_ONLY&&e.strategy!=n.Z_RLE&&e.strategy!=n.Z_FIXED&&e.strategy!=n.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+e.strategy);if(e.dictionary&&!r.isBuffer(e.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._binding=new g.Zlib(t);var i=this;this._hadError=!1,this._binding.onerror=function(e,t){i._binding=null,i._hadError=!0;var r=new Error(e);r.errno=t,r.code=n.codes[t],i.emit("error",r)};var o=n.Z_DEFAULT_COMPRESSION;"number"==typeof e.level&&(o=e.level);var s=n.Z_DEFAULT_STRATEGY;"number"==typeof e.strategy&&(s=e.strategy),this._binding.init(e.windowBits||n.Z_DEFAULT_WINDOWBITS,o,e.memLevel||n.Z_DEFAULT_MEMLEVEL,s,e.dictionary),this._buffer=new r(this._chunkSize),this._offset=0,this._closed=!1,this._level=o,this._strategy=s,this.once("end",this.close)}var p=e("_stream_transform"),g=e("./binding"),b=e("util"),_=e("assert").ok;g.Z_MIN_WINDOWBITS=8,g.Z_MAX_WINDOWBITS=15,g.Z_DEFAULT_WINDOWBITS=15,g.Z_MIN_CHUNK=64,g.Z_MAX_CHUNK=1/0,g.Z_DEFAULT_CHUNK=16384,g.Z_MIN_MEMLEVEL=1,g.Z_MAX_MEMLEVEL=9,g.Z_DEFAULT_MEMLEVEL=8,g.Z_MIN_LEVEL=-1,g.Z_MAX_LEVEL=9,g.Z_DEFAULT_LEVEL=g.Z_DEFAULT_COMPRESSION,Object.keys(g).forEach(function(e){e.match(/^Z/)&&(n[e]=g[e])}),n.codes={Z_OK:g.Z_OK,Z_STREAM_END:g.Z_STREAM_END,Z_NEED_DICT:g.Z_NEED_DICT,Z_ERRNO:g.Z_ERRNO,Z_STREAM_ERROR:g.Z_STREAM_ERROR,Z_DATA_ERROR:g.Z_DATA_ERROR,Z_MEM_ERROR:g.Z_MEM_ERROR,Z_BUF_ERROR:g.Z_BUF_ERROR,Z_VERSION_ERROR:g.Z_VERSION_ERROR},Object.keys(n.codes).forEach(function(e){n.codes[n.codes[e]]=e}),n.Deflate=s,n.Inflate=a,n.Gzip=u,n.Gunzip=f,n.DeflateRaw=l,n.InflateRaw=c,n.Unzip=h,n.createDeflate=function(e){return new s(e)},n.createInflate=function(e){return new a(e)},n.createDeflateRaw=function(e){return new l(e)},n.createInflateRaw=function(e){return new c(e)},n.createGzip=function(e){return new u(e)},n.createGunzip=function(e){return new f(e)},n.createUnzip=function(e){return new h(e)},n.deflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new s(t),e,n)},n.deflateSync=function(e,t){return o(new s(t),e)},n.gzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new u(t),e,n)},n.gzipSync=function(e,t){return o(new u(t),e)},n.deflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new l(t),e,n)},n.deflateRawSync=function(e,t){return o(new l(t),e)},n.unzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new h(t),e,n)},n.unzipSync=function(e,t){return o(new h(t),e)},n.inflate=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new a(t),e,n)},n.inflateSync=function(e,t){return o(new a(t),e)},n.gunzip=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new f(t),e,n)},n.gunzipSync=function(e,t){return o(new f(t),e)},n.inflateRaw=function(e,t,n){return"function"==typeof t&&(n=t,t={}),i(new c(t),e,n)},n.inflateRawSync=function(e,t){return o(new c(t),e)},b.inherits(d,p),d.prototype.params=function(e,r,i){if(e<n.Z_MIN_LEVEL||e>n.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+e);if(r!=n.Z_FILTERED&&r!=n.Z_HUFFMAN_ONLY&&r!=n.Z_RLE&&r!=n.Z_FIXED&&r!=n.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+r);if(this._level!==e||this._strategy!==r){var o=this;this.flush(g.Z_SYNC_FLUSH,function(){o._binding.params(e,r),o._hadError||(o._level=e,o._strategy=r,i&&i())})}else t.nextTick(i)},d.prototype.reset=function(){return this._binding.reset()},d.prototype._flush=function(e){this._transform(new r(0),"",e)},d.prototype.flush=function(e,n){var i=this._writableState;if(("function"==typeof e||void 0===e&&!n)&&(n=e,e=g.Z_FULL_FLUSH),i.ended)n&&t.nextTick(n);else if(i.ending)n&&this.once("end",n);else if(i.needDrain){var o=this;this.once("drain",function(){o.flush(n)})}else this._flushFlag=e,this.write(new r(0),"",n)},d.prototype.close=function(e){if(e&&t.nextTick(e),!this._closed){this._closed=!0,this._binding.close();var n=this;t.nextTick(function(){n.emit("close")})}},d.prototype._transform=function(e,t,n){var i,o=this._writableState,s=(o.ending||o.ended)&&(!e||o.length===e.length);if(null===!e&&!r.isBuffer(e))return n(new Error("invalid input"));s?i=g.Z_FINISH:(i=this._flushFlag,e.length>=o.length&&(this._flushFlag=this._opts.flush||g.Z_NO_FLUSH));this._processChunk(e,i,n)},d.prototype._processChunk=function(e,t,n){function i(l,d){if(!u._hadError){var p=s-d;if(_(p>=0,"have should not go down"),p>0){var g=u._buffer.slice(u._offset,u._offset+p);u._offset+=p,f?u.push(g):(c.push(g),h+=g.length)}if((0===d||u._offset>=u._chunkSize)&&(s=u._chunkSize,u._offset=0,u._buffer=new r(u._chunkSize)),0===d){if(a+=o-l,o=l,!f)return!0;var b=u._binding.write(t,e,a,o,u._buffer,u._offset,u._chunkSize);return b.callback=i,void(b.buffer=e)}if(!f)return!1;n()}}var o=e&&e.length,s=this._chunkSize-this._offset,a=0,u=this,f="function"==typeof n;if(!f){var l,c=[],h=0;this.on("error",function(e){l=e});do{var d=this._binding.writeSync(t,e,a,o,this._buffer,this._offset,s)}while(!this._hadError&&i(d[0],d[1]));if(this._hadError)throw l;var p=r.concat(c,h);return this.close(),p}var g=this._binding.write(t,e,a,o,this._buffer,this._offset,s);g.buffer=e,g.callback=i},b.inherits(s,d),b.inherits(a,d),b.inherits(u,d),b.inherits(f,d),b.inherits(l,d),b.inherits(c,d),b.inherits(h,d)}).call(this,e("_process"),e("buffer").Buffer)},{"./binding":17,_process:134,_stream_transform:148,assert:5,buffer:19,util:159}],19:[function(e,t,n){"use strict";function r(e){if(e>G)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=i.prototype,t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return u(e)}return o(e,t,n)}function o(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return Z(e)?c(e,t,n):"string"==typeof e?f(e,t):h(e)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function a(e,t,n){return s(e),e<=0?r(e):void 0!==t?"string"==typeof n?r(e).fill(t,n):r(e).fill(t):r(e)}function u(e){return s(e),r(e<0?0:0|d(e))}function f(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,t),o=r(n),s=o.write(e,t);return s!==n&&(o=o.slice(0,s)),o}function l(e){for(var t=e.length<0?0:0|d(e.length),n=r(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function c(e,t,n){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),r.__proto__=i.prototype,r}function h(e){if(i.isBuffer(e)){var t=0|d(e.length),n=r(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if(Y(e)||"length"in e)return"number"!=typeof e.length||q(e.length)?r(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(e){if(e>=G)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+G.toString(16)+" bytes");return 0|e}function p(e,t){if(i.isBuffer(e))return e.length;if(Y(e)||Z(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,q(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){function o(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}var s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}var f;if(i){var l=-1;for(f=n;f<a;f++)if(o(e,f)===o(t,-1===l?0:f-l)){if(-1===l&&(l=f),f-l+1===u)return l*s}else-1!==l&&(f-=f-l),l=-1}else for(n+u>a&&(n=a-u),f=n;f>=0;f--){for(var c=!0,h=0;h<u;h++)if(o(e,f+h)!==o(t,h)){c=!1;break}if(c)return f}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(q(a))return s;e[n+s]=a}return s}function v(e,t,n,r){return H(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(z(t),e,n,r)}function E(e,t,n,r){return w(e,t,n,r)}function k(e,t,n,r){return H(W(t),e,n,r)}function x(e,t,n,r){return H(F(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?V.fromByteArray(e):V.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var u,f,l,c;switch(a){case 1:o<128&&(s=o);break;case 2:128==(192&(u=e[i+1]))&&(c=(31&o)<<6|63&u)>127&&(s=c);break;case 3:u=e[i+1],f=e[i+2],128==(192&u)&&128==(192&f)&&(c=(15&o)<<12|(63&u)<<6|63&f)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:u=e[i+1],f=e[i+2],l=e[i+3],128==(192&u)&&128==(192&f)&&128==(192&l)&&(c=(15&o)<<18|(63&u)<<12|(63&f)<<6|63&l)>65535&&c<1114112&&(s=c)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return R(r)}function R(e){var t=e.length;if(t<=X)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=X));return n}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=P(e[o]);return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(e,t,n,r,23,4),n+4}function C(e,t,n,r,i){return t=+t,n>>>=0,i||j(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(e,t,n,r,52,8),n+8}function M(e){if((e=e.trim().replace(J,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function P(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function F(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}function W(e){return V.toByteArray(M(e))}function H(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function Z(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function Y(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function q(e){return e!==e}var V=e("base64-js"),K=e("ieee754");n.Buffer=i,n.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},n.INSPECT_MAX_BYTES=50;var G=2147483647;n.kMaxLength=G,i.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),i.poolSize=8192,i.from=function(e,t,n){return o(e,t,n)},i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,i.alloc=function(e,t,n){return a(e,t,n)},i.allocUnsafe=function(e){return u(e)},i.allocUnsafeSlow=function(e){return u(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer},i.compare=function(e,t){if(!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,s=Math.min(n,r);o<s;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=i.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!i.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},i.byteLength=p,i.prototype._isBuffer=!0,i.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},i.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},i.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},i.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},i.prototype.compare=function(e,t,n,r,o){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;for(var s=o-r,a=n-t,u=Math.min(s,a),f=this.slice(r,o),l=e.slice(t,n),c=0;c<u;++c)if(f[c]!==l[c]){s=f[c],a=l[c];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return E(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=i.prototype,r},i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},i.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},i.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),K.read(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),K.read(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),K.read(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),K.read(this,e,!1,52,8)},i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return C(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return C(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0);var s;if("number"==typeof e)for(s=t;s<n;++s)this[s]=e;else{var a=i.isBuffer(e)?e:new i(e,r),u=a.length;for(s=0;s<n-t;++s)this[s+t]=a[s%u]}return this};var J=/[^+/0-9A-Za-z-_]/g},{"base64-js":6,ieee754:39}],20:[function(e,t,n){(function(e){"use strict";function n(e){return Object.prototype.toString.call(e)}function r(t,n,r,o){function s(t,r){if(null===t)return null;if(0==r)return t;var l,c;if("object"!=typeof t)return t;if(i.isArray(t))l=[];else if(i.isRegExp(t))l=new RegExp(t.source,i.getRegExpFlags(t)),t.lastIndex&&(l.lastIndex=t.lastIndex);else if(i.isDate(t))l=new Date(t.getTime());else{if(f&&e.isBuffer(t))return l=new e(t.length),t.copy(l),l;void 0===o?(c=Object.getPrototypeOf(t),l=Object.create(c)):(l=Object.create(o),c=o)}if(n){var h=a.indexOf(t);if(-1!=h)return u[h];a.push(t),u.push(l)}for(var d in t){var p;c&&(p=Object.getOwnPropertyDescriptor(c,d)),p&&null==p.set||(l[d]=s(t[d],r-1))}return l}var a=[],u=[],f=void 0!==e;return void 0===n&&(n=!0),void 0===r&&(r=1/0),s(t,r)}var i={isArray:function(e){return Array.isArray(e)||"object"==typeof e&&"[object Array]"===n(e)},isDate:function(e){return"object"==typeof e&&"[object Date]"===n(e)},isRegExp:function(e){return"object"==typeof e&&"[object RegExp]"===n(e)},getRegExpFlags:function(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}};"object"==typeof t&&(t.exports=r),r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t}}).call(this,e("buffer").Buffer)},{buffer:19}],21:[function(e,t,n){(function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":41}],22:[function(e,t,n){(function(n,r){function i(e){s.call(this,"string"==typeof e?e:""),this._db=void 0,this._operations=[]}var o=e("util"),s=e("abstract-leveldown").AbstractLevelDOWN;o.inherits(i,s),i.prototype.setDb=function(e){this._db=e,this._operations.forEach(function(t){e[t.method].apply(e,t.args)})},i.prototype._open=function(e,t){return r.nextTick(t)},i.prototype._operation=function(e,t){if(this._db)return this._db[e].apply(this._db,t);this._operations.push({method:e,args:t})},"put get del batch approximateSize".split(" ").forEach(function(e){i.prototype["_"+e]=function(){this._operation(e,arguments)}}),i.prototype._isBuffer=function(e){return n.isBuffer(e)},i.prototype._iterator=function(){throw new TypeError("not implemented")},t.exports=i}).call(this,{isBuffer:e("../is-buffer/index.js")},e("_process"))},{"../is-buffer/index.js":41,_process:134,"abstract-leveldown":3,util:159}],23:[function(e,t,n){!function(e,r){"object"==typeof n?t.exports=r():e.download=r()}(this,function(){return function e(t,n,r){function i(e){var t=e.split(/[:;,]/),n=t[1],r=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),i=r.length,o=0,s=new Uint8Array(i);for(o;o<i;++o)s[o]=r.charCodeAt(o);return new g([s],{type:n})}function o(e,t){if("download"in d)return d.href=e,d.setAttribute("download",b),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout(function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout(function(){u.URL.revokeObjectURL(d.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,f)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,f)),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}var s,a,u=window,f="application/octet-stream",l=r||f,c=t,h=!n&&!r&&c,d=document.createElement("a"),p=function(e){return String(e)},g=u.Blob||u.MozBlob||u.WebKitBlob||p,b=n||"download";if(g=g.call?g.bind(u):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),h&&h.length<2048&&(b=h.split("/").pop().split("?")[0],d.href=h,-1!==d.href.indexOf(h))){var _=new XMLHttpRequest;return _.open("GET",h,!0),_.responseType="blob",_.onload=function(t){e(t.target.response,b,f)},setTimeout(function(){_.send()},0),_}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(c.length>2096103.424&&g!==p))return navigator.msSaveBlob?navigator.msSaveBlob(i(c),b):o(c);l=(c=i(c)).type||f}else if(/([\x80-\xff])/.test(c)){var y=0,m=new Uint8Array(c.length),v=m.length;for(y;y<v;++y)m[y]=c.charCodeAt(y);c=new g([m],{type:l})}if(s=c instanceof g?c:new g([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(s,b);if(u.URL)o(u.URL.createObjectURL(s),!0);else{if("string"==typeof s||s.constructor===p)try{return o("data:"+l+";base64,"+u.btoa(s))}catch(e){return o("data:"+l+","+encodeURIComponent(s))}(a=new FileReader).onload=function(e){o(this.result)},a.readAsDataURL(s)}return!0}})},{}],24:[function(e,t,n){function r(e,t,n){s(this,{type:e,name:e,cause:"string"!=typeof t?t:n,message:t&&"string"!=typeof t?t.message:t},"ewr")}function i(e,t){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee),r.call(this,"CustomError",e,t)}function o(e,t,n){var o=function(n,i){r.call(this,t,n,i),"FilesystemError"==t&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(e.errno[this.cause.errno]?e.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,arguments.callee)};return o.prototype=n?new n:new i,o}var s=e("prr");i.prototype=new Error,t.exports=function(e){var t=function(t,n){return o(e,t,n)};return{CustomError:i,FilesystemError:t("FilesystemError"),createError:t}}},{prr:135}],25:[function(e,t,n){var r=t.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];t.exports.errno={},t.exports.code={},r.forEach(function(e){t.exports.errno[e.errno]=e,t.exports.code[e.code]=e}),t.exports.custom=e("./custom")(t.exports),t.exports.create=t.exports.custom.createError},{"./custom":24}],26:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function o(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!o(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,o,u,f;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),r=(f=n.slice()).length,u=0;u<r;u++)f[u].apply(this,o);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},r.prototype.removeListener=function(e,t){var n,r,o,a;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(n)){for(a=o;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],27:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function(e,t,n){if("[object Function]"!==i.call(t))throw new TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var s=0;s<o;s++)t.call(n,e[s],s,e);else for(var a in e)r.call(e,a)&&t.call(n,e[a],a,e)}},{}],28:[function(e,t,n){(function(t,r){var i=e("readable-stream/writable"),o=e("readable-stream/readable"),s=e("readable-stream/duplex"),a=new r(0),u=function(){},f=function(e){return"function"==typeof e?e:function(t){t(null,e)}},l=function(e,n){var r=!1,i=!1;return e._read=function(){r=!0},e.destroy=function(){i=!0},n(function(n,o){if(n)return e.emit("error",n);var s=function(){for(var t;null!==(t=o.read());)r=!1,e.push(t)};if(o.on("readable",function(){r&&s()}),o.on("end",function(){s(),e.push(null)}),o.on("error",function(t){e.emit("error",t)}),o.on("close",function(){s(),t.nextTick(function(){e.emit("close")})}),e._read=function(){r=!0,s()},e.destroy=function(){i||(i=!0,o.destroy&&o.destroy())},i)return i=!1,void e.destroy();r&&s()}),e},c=function(e,t){var n=u,r=!1;return e._write=function(e,t,r){n=r},e.destroy=function(){r=!0},e.write(a),t(function(t,i){if(t)return e.emit("error",t);i.on("close",function(){e.emit("close")}),i.on("error",function(t){e.emit("error",t)}),e._write=function(e,t,n){if(e===a)return n();i.write(e,t,n)};var o=e.emit;if(i.on("finish",function(){o.call(e,"finish")}),e.destroy=function(){r||(r=!0,i.destroy&&i.destroy())},e.emit=function(t){if("finish"!==t)return o.apply(e,arguments);i.end()},r)return r=!1,void e.destroy();n()}),e};n.readable=function(e,t){return 1===arguments.length?n.readable(null,e):(e||(e={}),l(new o(e),f(t)))},n.writable=function(e,t){return 1===arguments.length?n.writable(null,e):(e||(e={}),c(new i(e),f(t)))},n.duplex=function(e,t,r){if(2===arguments.length)return n.duplex(null,e,t);e||(e={});var i=new s(e);return c(i,f(t)),l(i,f(r)),i}}).call(this,e("_process"),e("buffer").Buffer)},{_process:134,buffer:19,"readable-stream/duplex":30,"readable-stream/readable":36,"readable-stream/writable":37}],29:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],30:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":31}],31:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{"./_stream_readable":33,"./_stream_writable":35,_process:134,"core-util-is":21,dup:9,inherits:40}],32:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"./_stream_transform":34,"core-util-is":21,dup:10,inherits:40}],33:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{_process:134,buffer:19,"core-util-is":21,dup:11,events:26,inherits:40,isarray:29,stream:151,"string_decoder/":153}],34:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{"./_stream_duplex":31,"core-util-is":21,dup:12,inherits:40}],35:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{"./_stream_duplex":31,_process:134,buffer:19,"core-util-is":21,dup:13,inherits:40,stream:151}],36:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./lib/_stream_duplex.js":31,"./lib/_stream_passthrough.js":32,"./lib/_stream_readable.js":33,"./lib/_stream_transform.js":34,"./lib/_stream_writable.js":35,_process:134,dup:14,stream:151}],37:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":35}],38:[function(e,t,n){!function(e,n,r){"use strict";void 0!==t&&t.exports?t.exports=n():r.IDBStore=n()}(0,function(){"use strict";function e(e,t){var n,r;for(n in t)(r=t[n])!==a[n]&&r!==e[n]&&(e[n]=r);return e}function t(e){return"error"in e.target?"VersionError"==e.target.error.name:"errorCode"in e.target&&12==e.target.errorCode}var n=function(e){throw e},r=function(){},i={storeName:"Store",storePrefix:"IDBWrapper-",dbVersion:1,keyPath:"id",autoIncrement:!0,onStoreReady:function(){},onError:n,indexes:[],implementationPreference:["indexedDB","webkitIndexedDB","mozIndexedDB","shimIndexedDB"]},o=function(e,t){void 0===t&&"function"==typeof e&&(t=e),"[object Object]"!=Object.prototype.toString.call(e)&&(e={});for(var n in i)this[n]=void 0!==e[n]?e[n]:i[n];this.dbName=this.storePrefix+this.storeName,this.dbVersion=parseInt(this.dbVersion,10)||1,t&&(this.onStoreReady=t);var r="object"==typeof window?window:self,o=this.implementationPreference.filter(function(e){return e in r});this.implementation=o[0],this.idb=r[this.implementation],this.keyRange=r.IDBKeyRange||r.webkitIDBKeyRange||r.mozIDBKeyRange,this.consts={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange",NEXT:"next",NEXT_NO_DUPLICATE:"nextunique",PREV:"prev",PREV_NO_DUPLICATE:"prevunique"},this.openDB()},s={constructor:o,version:"1.7.1",db:null,dbName:null,dbVersion:null,store:null,storeName:null,storePrefix:null,keyPath:null,autoIncrement:null,indexes:null,implementationPreference:null,implementation:"",onStoreReady:null,onError:null,_insertIdCount:0,openDB:function(){var e=this.idb.open(this.dbName,this.dbVersion),n=!1;e.onerror=function(e){if(t(e))this.onError(new Error("The version number provided is lower than the existing one."));else{var n;if(e.target.error)n=e.target.error;else{var r="IndexedDB unknown error occurred when opening DB "+this.dbName+" version "+this.dbVersion;"errorCode"in e.target&&(r+=" with error code "+e.target.errorCode),n=new Error(r)}this.onError(n)}}.bind(this),e.onsuccess=function(e){if(!n)if(this.db)this.onStoreReady();else if(this.db=e.target.result,"string"!=typeof this.db.version)if(this.db.objectStoreNames.contains(this.storeName)){var t=this.db.transaction([this.storeName],this.consts.READ_ONLY);this.store=t.objectStore(this.storeName);var r=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var t=e.name;if(!t)return n=!0,void this.onError(new Error("Cannot create index: No index name given."));if(this.normalizeIndexData(e),this.hasIndex(t)){var i=this.store.index(t);this.indexComplies(i,e)||(n=!0,this.onError(new Error('Cannot modify index "'+t+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),r.splice(r.indexOf(t),1)}else n=!0,this.onError(new Error('Cannot create new index "'+t+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))},this),r.length&&(n=!0,this.onError(new Error('Cannot delete index(es) "'+r.toString()+'" for current version. Please bump version number to '+(this.dbVersion+1)+"."))),n||this.onStoreReady()}else this.onError(new Error("Object store couldn't be created."));else this.onError(new Error("The IndexedDB implementation in this browser is outdated. Please upgrade your browser."))}.bind(this),e.onupgradeneeded=function(e){if(this.db=e.target.result,this.db.objectStoreNames.contains(this.storeName))this.store=e.target.transaction.objectStore(this.storeName);else{var t={autoIncrement:this.autoIncrement};null!==this.keyPath&&(t.keyPath=this.keyPath),this.store=this.db.createObjectStore(this.storeName,t)}var r=Array.prototype.slice.call(this.getIndexList());this.indexes.forEach(function(e){var t=e.name;if(t||(n=!0,this.onError(new Error("Cannot create index: No index name given."))),this.normalizeIndexData(e),this.hasIndex(t)){var i=this.store.index(t);this.indexComplies(i,e)||(this.store.deleteIndex(t),this.store.createIndex(t,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})),r.splice(r.indexOf(t),1)}else this.store.createIndex(t,e.keyPath,{unique:e.unique,multiEntry:e.multiEntry})},this),r.length&&r.forEach(function(e){this.store.deleteIndex(e)},this)}.bind(this)},deleteDatabase:function(e,t){if(this.idb.deleteDatabase){this.db.close();var n=this.idb.deleteDatabase(this.dbName);n.onsuccess=e,n.onerror=t}else t(new Error("Browser does not support IndexedDB deleteDatabase!"))},put:function(e,t,i,o){null!==this.keyPath&&(o=i,i=t,t=e),o||(o=n),i||(i=r);var s,a=!1,u=null,f=this.db.transaction([this.storeName],this.consts.READ_WRITE);return f.oncomplete=function(){(a?i:o)(u)},f.onabort=o,f.onerror=o,null!==this.keyPath?(this._addIdPropertyIfNeeded(t),s=f.objectStore(this.storeName).put(t)):s=f.objectStore(this.storeName).put(t,e),s.onsuccess=function(e){a=!0,u=e.target.result},s.onerror=o,f},get:function(e,t,i){i||(i=n),t||(t=r);var o=!1,s=null,a=this.db.transaction([this.storeName],this.consts.READ_ONLY);a.oncomplete=function(){(o?t:i)(s)},a.onabort=i,a.onerror=i;var u=a.objectStore(this.storeName).get(e);return u.onsuccess=function(e){o=!0,s=e.target.result},u.onerror=i,a},remove:function(e,t,i){i||(i=n),t||(t=r);var o=!1,s=null,a=this.db.transaction([this.storeName],this.consts.READ_WRITE);a.oncomplete=function(){(o?t:i)(s)},a.onabort=i,a.onerror=i;var u=a.objectStore(this.storeName).delete(e);return u.onsuccess=function(e){o=!0,s=e.target.result},u.onerror=i,a},batch:function(e,t,i){if(i||(i=n),t||(t=r),"[object Array]"!=Object.prototype.toString.call(e))i(new Error("dataArray argument must be of type Array."));else if(0===e.length)return t(!0);var o=e.length,s=!1,a=!1,u=this.db.transaction([this.storeName],this.consts.READ_WRITE);u.oncomplete=function(){(a?t:i)(a)},u.onabort=i,u.onerror=i;var f=function(){0!==--o||s||(s=!0,a=!0)};return e.forEach(function(e){var t=e.type,n=e.key,r=e.value,o=function(e){u.abort(),s||(s=!0,i(e,t,n))};if("remove"==t){var a=u.objectStore(this.storeName).delete(n);a.onsuccess=f,a.onerror=o}else if("put"==t){var l;null!==this.keyPath?(this._addIdPropertyIfNeeded(r),l=u.objectStore(this.storeName).put(r)):l=u.objectStore(this.storeName).put(r,n),l.onsuccess=f,l.onerror=o}},this),u},putBatch:function(e,t,n){var r=e.map(function(e){return{type:"put",value:e}});return this.batch(r,t,n)},upsertBatch:function(e,t,i,o){"function"==typeof t&&(o=i=t,t={}),o||(o=n),i||(i=r),t||(t={}),"[object Array]"!=Object.prototype.toString.call(e)&&o(new Error("dataArray argument must be of type Array."));var s=t.keyField||this.keyPath,a=e.length,u=!1,f=!1,l=0,c=this.db.transaction([this.storeName],this.consts.READ_WRITE);c.oncomplete=function(){f?i(e):o(!1)},c.onabort=o,c.onerror=o;var h=function(t){e[l++][s]=t.target.result,0!==--a||u||(u=!0,f=!0)};return e.forEach(function(e){var t,n=e.key;null!==this.keyPath?(this._addIdPropertyIfNeeded(e),t=c.objectStore(this.storeName).put(e)):t=c.objectStore(this.storeName).put(e,n),t.onsuccess=h,t.onerror=function(e){c.abort(),u||(u=!0,o(e))}},this),c},removeBatch:function(e,t,n){var r=e.map(function(e){return{type:"remove",key:e}});return this.batch(r,t,n)},getBatch:function(e,t,i,o){if(i||(i=n),t||(t=r),o||(o="sparse"),"[object Array]"!=Object.prototype.toString.call(e))i(new Error("keyArray argument must be of type Array."));else if(0===e.length)return t([]);var s=[],a=e.length,u=!1,f=!1,l=null,c=this.db.transaction([this.storeName],this.consts.READ_ONLY);c.oncomplete=function(){(f?t:i)(l)},c.onabort=i,c.onerror=i;var h=function(e){e.target.result||"dense"==o?s.push(e.target.result):"sparse"==o&&s.length++,0===--a&&(u=!0,f=!0,l=s)};return e.forEach(function(e){var t=c.objectStore(this.storeName).get(e);t.onsuccess=h,t.onerror=function(e){u=!0,l=e,i(e),c.abort()}},this),c},getAll:function(e,t){t||(t=n),e||(e=r);var i=this.db.transaction([this.storeName],this.consts.READ_ONLY),o=i.objectStore(this.storeName);return o.getAll?this._getAllNative(i,o,e,t):this._getAllCursor(i,o,e,t),i},_getAllNative:function(e,t,n,r){var i=!1,o=null;e.oncomplete=function(){(i?n:r)(o)},e.onabort=r,e.onerror=r;var s=t.getAll();s.onsuccess=function(e){i=!0,o=e.target.result},s.onerror=r},_getAllCursor:function(e,t,n,r){var i=[],o=!1,s=null;e.oncomplete=function(){(o?n:r)(s)},e.onabort=r,e.onerror=r;var a=t.openCursor();a.onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):(o=!0,s=i)},a.onError=r},clear:function(e,t){t||(t=n),e||(e=r);var i=!1,o=null,s=this.db.transaction([this.storeName],this.consts.READ_WRITE);s.oncomplete=function(){(i?e:t)(o)},s.onabort=t,s.onerror=t;var a=s.objectStore(this.storeName).clear();return a.onsuccess=function(e){i=!0,o=e.target.result},a.onerror=t,s},_addIdPropertyIfNeeded:function(e){void 0===e[this.keyPath]&&(e[this.keyPath]=this._insertIdCount+++Date.now())},getIndexList:function(){return this.store.indexNames},hasIndex:function(e){return this.store.indexNames.contains(e)},normalizeIndexData:function(e){e.keyPath=e.keyPath||e.name,e.unique=!!e.unique,e.multiEntry=!!e.multiEntry},indexComplies:function(e,t){return["keyPath","unique","multiEntry"].every(function(n){if("multiEntry"==n&&void 0===e[n]&&!1===t[n])return!0;if("keyPath"==n&&"[object Array]"==Object.prototype.toString.call(t[n])){var r=t.keyPath,i=e.keyPath;if("string"==typeof i)return r.toString()==i;if("function"!=typeof i.contains&&"function"!=typeof i.indexOf)return!1;if(i.length!==r.length)return!1;for(var o=0,s=r.length;o<s;o++)if(!(i.contains&&i.contains(r[o])||i.indexOf(-1!==r[o])))return!1;return!0}return t[n]==e[n]})},iterate:function(t,r){var i="desc"==(r=e({index:null,order:"ASC",autoContinue:!0,filterDuplicates:!1,keyRange:null,writeAccess:!1,onEnd:null,onError:n,limit:1/0,offset:0,allowItemRejection:!1},r||{})).order.toLowerCase()?"PREV":"NEXT";r.filterDuplicates&&(i+="_NO_DUPLICATE");var o=!1,s=this.db.transaction([this.storeName],this.consts[r.writeAccess?"READ_WRITE":"READ_ONLY"]),a=s.objectStore(this.storeName);r.index&&(a=a.index(r.index));var u=0;s.oncomplete=function(){o?r.onEnd?r.onEnd():t(null):r.onError(null)},s.onabort=r.onError,s.onerror=r.onError;var f=a.openCursor(r.keyRange,this.consts[i]);return f.onerror=r.onError,f.onsuccess=function(e){var n=e.target.result;if(n)if(r.offset)n.advance(r.offset),r.offset=0;else{var i=t(n.value,n,s);r.allowItemRejection&&!1===i||u++,r.autoContinue&&(u+r.offset<r.limit?n.continue():o=!0)}else o=!0},s},query:function(e,t){var n=[],r=0;return t=t||{},t.autoContinue=!0,t.writeAccess=!1,t.allowItemRejection=!!t.filter,t.onEnd=function(){e(n,r)},this.iterate(function(e){r++;var i=!t.filter||t.filter(e);return!1!==i&&n.push(e),i},t)},count:function(t,r){var i=(r=e({index:null,keyRange:null},r||{})).onError||n,o=!1,s=null,a=this.db.transaction([this.storeName],this.consts.READ_ONLY);a.oncomplete=function(){(o?t:i)(s)},a.onabort=i,a.onerror=i;var u=a.objectStore(this.storeName);r.index&&(u=u.index(r.index));var f=u.count(r.keyRange);return f.onsuccess=function(e){o=!0,s=e.target.result},f.onError=i,a},makeKeyRange:function(e){var t,n=void 0!==e.lower,r=void 0!==e.upper;switch(!0){case void 0!==e.only:t=this.keyRange.only(e.only);break;case n&&r:t=this.keyRange.bound(e.lower,e.upper,e.excludeLower,e.excludeUpper);break;case n:t=this.keyRange.lowerBound(e.lower,e.excludeLower);break;case r:t=this.keyRange.upperBound(e.upper,e.excludeUpper);break;default:throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.')}return t}},a={};return o.prototype=s,o.version=s.version,o},this)},{}],39:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,f=u>>1,l=-7,c=n?i-1:0,h=n?-1:1,d=e[t+c];for(c+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+c],c+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+c],c+=h,l-=8);if(0===o)o=1-f;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=f}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,f=8*o-i-1,l=(1<<f)-1,c=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+c>=1?h/u:h*Math.pow(2,1-c))*u>=2&&(s++,u/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(t*u-1)*Math.pow(2,i),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,f+=i;f>0;e[n+d]=255&s,d+=p,s/=256,f-=8);e[n+d-p]|=128*g}},{}],40:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],41:[function(e,t,n){function r(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function i(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&r(e.slice(0,0))}t.exports=function(e){return null!=e&&(r(e)||i(e)||!!e._isBuffer)}},{}],42:[function(e,t,n){var r=Object.prototype,i=r.hasOwnProperty,o=r.toString,s=function(e){return e!==e},a={boolean:1,number:1,string:1,undefined:1},u=t.exports={};u.a=u.type=function(e,t){return typeof e===t},u.defined=function(e){return void 0!==e},u.empty=function(e){var t,n=o.call(e);if("[object Array]"===n||"[object Arguments]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(i.call(e,t))return!1;return!0}return"[object String]"===n&&""===e},u.equal=function(e,t){var n,r=o.call(e);if(r!==o.call(t))return!1;if("[object Object]"===r){for(n in e)if(!u.equal(e[n],t[n]))return!1;return!0}if("[object Array]"===r){if((n=e.length)!==t.length)return!1;for(;--n;)if(!u.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r?e.getTime()===t.getTime():e===t},u.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!a[n]},u.instance=u.instanceof=function(e,t){return e instanceof t},u.null=function(e){return null===e},u.undefined=function(e){return void 0===e},u.arguments=function(e){var t="[object Arguments]"===o.call(e),n=!u.array(e)&&u.arraylike(e)&&u.object(e)&&u.fn(e.callee);return t||n},u.array=function(e){return"[object Array]"===o.call(e)},u.arguments.empty=function(e){return u.arguments(e)&&0===e.length},u.array.empty=function(e){return u.array(e)&&0===e.length},u.arraylike=function(e){return!!e&&!u.boolean(e)&&i.call(e,"length")&&isFinite(e.length)&&u.number(e.length)&&e.length>=0},u.boolean=function(e){return"[object Boolean]"===o.call(e)},u.false=function(e){return u.boolean(e)&&(!1===e||!1===e.valueOf())},u.true=function(e){return u.boolean(e)&&(!0===e||!0===e.valueOf())},u.date=function(e){return"[object Date]"===o.call(e)},u.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},u.error=function(e){return"[object Error]"===o.call(e)},u.fn=u.function=function(e){return"undefined"!=typeof window&&e===window.alert||"[object Function]"===o.call(e)},u.number=function(e){return"[object Number]"===o.call(e)},u.infinite=function(e){return e===1/0||e===-1/0},u.decimal=function(e){return u.number(e)&&!s(e)&&!u.infinite(e)&&e%1!=0},u.divisibleBy=function(e,t){var n=u.infinite(e),r=u.infinite(t),i=u.number(e)&&!s(e)&&u.number(t)&&!s(t)&&0!==t;return n||r||i&&e%t==0},u.int=function(e){return u.number(e)&&!s(e)&&e%1==0},u.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!u.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},u.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!u.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},u.nan=function(e){return!u.number(e)||e!==e},u.even=function(e){return u.infinite(e)||u.number(e)&&e===e&&e%2==0},u.odd=function(e){return u.infinite(e)||u.number(e)&&e===e&&e%2!=0},u.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!u.infinite(e)&&!u.infinite(t)&&e>=t},u.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!u.infinite(e)&&!u.infinite(t)&&e>t},u.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!u.infinite(e)&&!u.infinite(t)&&e<=t},u.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!u.infinite(e)&&!u.infinite(t)&&e<t},u.within=function(e,t,n){if(s(e)||s(t)||s(n))throw new TypeError("NaN is not a valid value");if(!u.number(e)||!u.number(t)||!u.number(n))throw new TypeError("all arguments must be numbers");return u.infinite(e)||u.infinite(t)||u.infinite(n)||e>=t&&e<=n},u.object=function(e){return e&&"[object Object]"===o.call(e)},u.hash=function(e){return u.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},u.regexp=function(e){return"[object RegExp]"===o.call(e)},u.string=function(e){return"[object String]"===o.call(e)}},{}],43:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],44:[function(e,t,n){var r=e("buffer").Buffer;t.exports=function(e){return r.isBuffer(e)||/\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(e))}},{buffer:19}],45:[function(e,t,n){(function(n,r){var i=e("readable-stream/writable"),o=e("readable-stream/readable"),s=e("level-peek"),a=e("util"),u=e("once"),f=new r(0),l={encode:function(e){return"string"==typeof e?e=new r(e):e},decode:function(e){return r.isBuffer(e)?e:new r(e)},buffer:!0,type:"raw"},c=function(){},h=function(e){return e=e.toString(16),"00000000".slice(0,-e.length)+e},d=function(e,t){var n=new r(t);return e.copy(n),n};t.exports=function(e,t){t||(t={});var p={},g=t.blockSize||65536,b=t.batch||100,_=new r(g);e.put("\0","ignore",c);var y={},m=function(t,n,i,o,s){var a=function(){--y[t].locks||delete y[t]},u=function(e){if(e.locks++,!e.block&&!n)return e.block=i,void s(null,e.block,a);e.block||(e.block=new r(g)),e.block.length<n+i.length&&(e.block=d(e.block,n+i.length)),i.copy(e.block,n),!o&&n+i.length<e.block.length&&(e.block=e.block.slice(0,n+i.length)),s(null,e.block,a)};if(y[t])return u(y[t]);e.get(t,{valueEncoding:l},function(e,n){if(e&&!e.notFound)return s(e);y[t]||(y[t]={locks:0,block:n}),u(y[t])})},v=function(e,t){if(!(this instanceof v))return new v(e,t);t||(t={}),this.name=e,this.blocks=[],this.batch=[],this.bytesWritten=0,this.truncate=!t.append,this.append=t.append,this._shouldInitAppend=this.append&&void 0===t.start,this._destroyed=!1,this._init(t.start||0),i.call(this)};a.inherits(v,i),v.prototype._init=function(e){this.blockIndex=e/g|0,this.blockOffset=e-this.blockIndex*g,this.blockLength=this.blockOffset},v.prototype._flush=function(t){if(!this.batch.length)return t();var n=this.batch[this.batch.length-1].key,r=this.batch;if(this.batch=[],!this.truncate)return e.batch(r,t);this.truncate=!1,this._truncate(r,n,t)},v.prototype._truncate=function(t,n,r){r=u(r);var i=[],o=e.createKeyStream({start:n,end:this.name+""});o.on("error",r),o.on("data",function(e){i.push({type:"del",key:e})}),o.on("end",function(){i.push.apply(i,t),e.batch(i,r)})},v.prototype._writeBlock=function(e){var t=1===this.blocks.length?this.blocks[0]:r.concat(this.blocks,this.blockLength-this.blockOffset),n=this.blockIndex,i=this.blockOffset,o=this;this.blockOffset=0,this.blockLength=0,this.blockIndex++,this.blocks=[];var s=this.name+""+h(n),a=function(e,t,n){return e.length&&o.batch.push({type:"put",key:s,value:e,valueEncoding:l}),!t&&o.batch.length<b?n():o._flush(n)};return(i||t.length!==g)&&(i||this.append)?void m(s,i,t,this.append,function(t,n,r){if(t)return e(t);a(n,!0,function(t){r(),e(t)})}):a(t,!1,e)},v.prototype._initAppend=function(e,t,n){var r=this;this._shouldInitAppend=!1,p.size(this.name,function(i,o){if(i)return n(i);r._init(o),r._write(e,t,n)})},v.prototype._write=function(e,t,n){if(!e.length||this._destroyed)return n();if(this._shouldInitAppend)return this._initAppend(e,t,n);var r,i=this,o=g-this.blockLength,s=function(e){return e?n(e):r?i._write(r,t,n):void n()};if(e.length>o&&(r=e.slice(o),e=e.slice(0,o)),this.bytesWritten+=e.length,this.blockLength+=e.length,this.blocks.push(e),e.length<o)return s();this._writeBlock(s)},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,n.nextTick(this.emit.bind(this,"close")))},v.prototype.end=function(e){var t=this,n=arguments;e&&"function"!=typeof e&&(this.write(e),e=f),this.write(f,function(){t._writeBlock(function(e){if(e)return t.emit("error",e);t._flush(function(e){if(e)return t.emit("error",e);i.prototype.end.apply(t,n)})})})};var w=function(t,n){n||(n={});var r=this,i=n.start||0,s=i/g|0,a=i-s*g,u=t+""+h(s);this.name=t,this._missing=("number"==typeof n.end?n.end:1/0)-i+1,this._paused=!1,this._destroyed=!1,this._reader=e.createReadStream({start:u,end:t+"",valueEncoding:l});var f=function(e){return u=t+""+h(++s),!!r._missing&&(!(!a||(e=e.slice(a),a=0,e.length))||(e.length>r._missing&&(e=e.slice(0,r._missing)),r._missing-=e.length,r._pause(!r.push(e)),!!r._missing))};this._reader.on("data",function(e){for(;e.key>u;)if(!f(_))return;f(e.value)}),this._reader.on("error",function(e){r.emit("error",e)}),this._reader.on("end",function(){r.push(null)}),o.call(this)};return a.inherits(w,o),w.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this._reader.destroy(),n.nextTick(this.emit.bind(this,"close")))},w.prototype._pause=function(e){this._paused!==e&&(this._paused=e,this._paused?this._reader.pause():this._reader.resume())},w.prototype._read=function(){this._pause(!1)},p.remove=function(t,n){n=u(n||c);var r=[],i=e.createKeyStream({start:t+"",end:t+""});i.on("error",n),i.on("data",function(e){r.push({type:"del",key:e})}),i.on("end",function(){e.batch(r,n)})},p.size=function(t,n){s.last(e,{start:t+"",end:t+"",valueEncoding:l},function(e,r,i){return e&&"range not found"===e.message?n(null,0):e?n(e):r.slice(0,t.length+1)!==t+""?n(null,0):void n(null,parseInt(r.toString().slice(t.length+1),16)*g+i.length)})},p.write=function(e,t,n,r){if("function"==typeof n)return p.write(e,t,null,n);n||(n={}),r||(r=c);var i=p.createWriteStream(e,n);i.on("error",r),i.on("finish",function(){r()}),i.write(t),i.end()},p.read=function(e,t,n){if("function"==typeof t)return p.read(e,null,t);t||(t={});var i=p.createReadStream(e,t),o=[];i.on("error",n),i.on("data",function(e){o.push(e)}),i.on("end",function(){n(null,1===o.length?o[0]:r.concat(o))})},p.createReadStream=function(e,t){return new w(e,t)},p.createWriteStream=function(e,t){return new v(e,t)},p}}).call(this,e("_process"),e("buffer").Buffer)},{_process:134,buffer:19,"level-peek":72,once:98,"readable-stream/readable":52,"readable-stream/writable":53,util:159}],46:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],47:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{"./_stream_readable":49,"./_stream_writable":51,_process:134,"core-util-is":21,dup:9,inherits:40}],48:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"./_stream_transform":50,"core-util-is":21,dup:10,inherits:40}],49:[function(e,t,n){(function(n){function r(t,n){var r=e("./_stream_duplex"),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(A||(A=e("string_decoder/").StringDecoder),this.decoder=new A(t.encoding),this.encoding=t.encoding)}function i(t){e("./_stream_duplex");if(!(this instanceof i))return new i(t);this._readableState=new r(t,this),this.readable=!0,T.call(this)}function o(e,t,n,r,i){var o=f(t,n);if(o)e.emit("error",o);else if(R.isNullOrUndefined(n))t.reading=!1,t.ended||l(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&i){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&c(e)),d(e,t);else i||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){if(e>=O)e=O;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||R.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function f(e,t){var n=null;return R.isBuffer(t)||R.isString(t)||R.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,c(e)}function c(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(I("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(function(){h(e)}):h(e))}function h(e){I("emit readable"),e.emit("readable"),y(e)}function d(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(function(){p(e,t)}))}function p(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(I("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function g(e){return function(){var t=e._readableState;I("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&S.listenerCount(e,"data")&&(t.flowing=!0,y(e))}}function b(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(function(){_(e,t)}))}function _(e,t){t.resumeScheduled=!1,e.emit("resume"),y(e),t.flowing&&!t.reading&&e.read(0)}function y(e){var t=e._readableState;if(I("flow",t.flowing),t.flowing)do{var n=e.read()}while(null!==n&&t.flowing)}function m(e,t){var n,r=t.buffer,i=t.length,o=!!t.decoder,s=!!t.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!e||e>=i)n=o?r.join(""):x.concat(r,i),r.length=0;else if(e<r[0].length)n=(l=r[0]).slice(0,e),r[0]=l.slice(e);else if(e===r[0].length)n=r.shift();else{n=o?"":new x(e);for(var a=0,u=0,f=r.length;u<f&&a<e;u++){var l=r[0],c=Math.min(e-a,l.length);o?n+=l.slice(0,c):l.copy(n,a,0,c),c<l.length?r[0]=l.slice(c):r.shift(),a+=c}}return n}function v(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,n.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function w(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function E(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}t.exports=i;var k=e("isarray"),x=e("buffer").Buffer;i.ReadableState=r;var S=e("events").EventEmitter;S.listenerCount||(S.listenerCount=function(e,t){return e.listeners(t).length});var T=e("stream"),R=e("core-util-is");R.inherits=e("inherits");var A,I=e("util");I=I&&I.debuglog?I.debuglog("stream"):function(){},R.inherits(i,T),i.prototype.push=function(e,t){var n=this._readableState;return R.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding)!==n.encoding&&(e=new x(e,t),t=""),o(this,n,e,t,!1)},i.prototype.unshift=function(e){return o(this,this._readableState,e,"",!0)},i.prototype.setEncoding=function(t){return A||(A=e("string_decoder/").StringDecoder),this._readableState.decoder=new A(t),this._readableState.encoding=t,this};var O=8388608;i.prototype.read=function(e){I("read",e);var t=this._readableState,n=e;if((!R.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return I("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?v(this):c(this),null;if(0===(e=u(e,t))&&t.ended)return 0===t.length&&v(this),null;var r=t.needReadable;I("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&I("length less than watermark",r=!0),(t.ended||t.reading)&&I("reading or ended",r=!1),r&&(I("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=u(n,t));var i;return i=e>0?m(e,t):null,R.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&v(this),R.isNull(i)||this.emit("data",i),i},i.prototype._read=function(e){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function r(e){I("onunpipe"),e===c&&o()}function i(){I("onend"),e.end()}function o(){I("cleanup"),e.removeListener("close",u),e.removeListener("finish",f),e.removeListener("drain",p),e.removeListener("error",a),e.removeListener("unpipe",r),c.removeListener("end",i),c.removeListener("end",o),c.removeListener("data",s),!h.awaitDrain||e._writableState&&!e._writableState.needDrain||p()}function s(t){I("ondata"),!1===e.write(t)&&(I("false write response, pause",c._readableState.awaitDrain),c._readableState.awaitDrain++,c.pause())}function a(t){I("onerror",t),l(),e.removeListener("error",a),0===S.listenerCount(e,"error")&&e.emit("error",t)}function u(){e.removeListener("finish",f),l()}function f(){I("onfinish"),e.removeListener("close",u),l()}function l(){I("unpipe"),c.unpipe(e)}var c=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,I("pipe count=%d opts=%j",h.pipesCount,t);var d=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?i:o;h.endEmitted?n.nextTick(d):c.once("end",d),e.on("unpipe",r);var p=g(c);return e.on("drain",p),c.on("data",s),e._events&&e._events.error?k(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",u),e.once("finish",f),e.emit("pipe",c),h.flowing||(I("pipe resume"),c.resume()),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}return-1===(i=E(t.pipes,e))?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=T.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&c(this);else{var o=this;n.nextTick(function(){I("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var e=this._readableState;return e.flowing||(I("resume"),e.flowing=!0,e.reading||(I("resume read 0"),this.read(0)),b(this,e)),this},i.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(I("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){I("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)&&(r.push(i)||(n=!0,e.pause()))});for(var i in e)R.isFunction(e[i])&&R.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));return w(["error","close","destroy","pause","resume"],function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){I("wrapped _read",t),n&&(n=!1,e.resume())},r},i._fromList=m}).call(this,e("_process"))},{"./_stream_duplex":47,_process:134,buffer:19,"core-util-is":21,events:26,inherits:40,isarray:46,stream:151,"string_decoder/":153,util:15}],50:[function(e,t,n){function r(e,t){this.afterTransform=function(e,n){return i(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||e.push(n),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;u.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},{"./_stream_duplex":47,"core-util-is":21,inherits:40}],51:[function(e,t,n){(function(n){function r(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function i(t,n){var r=e("./_stream_duplex"),i=(t=t||{}).highWaterMark,o=t.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!t.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(n,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(t){var n=e("./_stream_duplex");if(!(this instanceof o||this instanceof n))return new o(t);this._writableState=new i(t,this),this.writable=!0,k.call(this)}function s(e,t,r){var i=new Error("write after end");e.emit("error",i),n.nextTick(function(){r(i)})}function a(e,t,r,i){var o=!0;if(!(E.isBuffer(r)||E.isString(r)||E.isNullOrUndefined(r)||t.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");e.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(e,t,n){return!e.objectMode&&!1!==e.decodeStrings&&E.isString(t)&&(t=new w(t,n)),t}function f(e,t,n,i,o){n=u(t,n,i),E.isBuffer(n)&&(i="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new r(n,i,o)):l(e,t,!1,s,n,i,o),a}function l(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function c(e,t,r,i,o){r?n.nextTick(function(){t.pendingcb--,o(i)}):(t.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function h(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if(h(r),t)c(e,r,i,t,o);else{var s=_(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||b(e,r),i?n.nextTick(function(){p(e,r,s,o)}):p(e,r,s,o)}}function p(e,t,n,r){n||g(e,t),t.pendingcb--,r(),m(e,t)}function g(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function b(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,l(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=t.objectMode?1:o.length;if(l(e,t,!1,u,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function _(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function y(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function m(e,t){var n=_(e,t);return n&&(0===t.pendingcb?(y(e,t),t.finished=!0,e.emit("finish")):y(e,t)),n}function v(e,t,r){t.ending=!0,m(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r)),t.ended=!0}t.exports=o;var w=e("buffer").Buffer;o.WritableState=i;var E=e("core-util-is");E.inherits=e("inherits");var k=e("stream");E.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,n){var r=this._writableState,i=!1;return E.isFunction(t)&&(n=t,t=null),E.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),E.isFunction(n)||(n=function(){}),r.ended?s(this,0,n):a(this,r,e,n)&&(r.pendingcb++,i=f(this,r,e,t,n)),i},o.prototype.cork=function(){this._writableState.corked++},o.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||b(this,e))},o.prototype._write=function(e,t,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(e,t,n){var r=this._writableState;E.isFunction(e)?(n=e,e=null,t=null):E.isFunction(t)&&(n=t,t=null),E.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||v(this,r,n)}}).call(this,e("_process"))},{"./_stream_duplex":47,_process:134,buffer:19,"core-util-is":21,inherits:40,stream:151}],52:[function(e,t,n){(function(r){(n=t.exports=e("./lib/_stream_readable.js")).Stream=e("stream"),n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js"),r.browser||"disable"!==r.env.READABLE_STREAM||(t.exports=e("stream"))}).call(this,e("_process"))},{"./lib/_stream_duplex.js":47,"./lib/_stream_passthrough.js":48,"./lib/_stream_readable.js":49,"./lib/_stream_transform.js":50,"./lib/_stream_writable.js":51,_process:134,stream:151}],53:[function(e,t,n){arguments[4][37][0].apply(n,arguments)},{"./lib/_stream_writable.js":51,dup:37}],54:[function(e,t,n){var r=e("errno");Object.keys(r.code).forEach(function(e){var t=r.code[e];n[e]=function(n){var r=new Error(e+", "+t.description+(n?" '"+n+"'":""));return r.errno=t.errno,r.code=e,r.path=n,r}})},{errno:25}],55:[function(e,t,n){(function(n,r){var i=e("fwd-stream"),o=e("level-sublevel"),s=e("level-blobs"),a=e("level-peek"),u=e("once"),f=e("octal"),l=e("./errno"),c=e("./paths"),h=e("./watchers"),d=function(e,t,r){n.nextTick(function(){e(t,r)})},p=function(){};t.exports=function(e,t){var g={};e=o(e);var b=s(e.sublevel("blobs"),t),_=c(e.sublevel("stats")),y=e.sublevel("links"),m=h(),v=[],w=Date.now(),E=function(){return++w};g.mkdir=function(e,t,n){if("function"==typeof t)return g.mkdir(e,null,t);t||(t=f(777)),n||(n=p),_.follow(e,function(e,r,i){return e&&"ENOENT"!==e.code?n(e):r?n(l.EEXIST(i)):void _.put(i,{type:"directory",mode:t,size:4096},m.cb(i,n))})},g.rmdir=function(e,t){t||(t=p),_.follow(e,function(e,n,r){if(e)return t(e);g.readdir(r,function(e,n){return e?t(e):n.length?t(l.ENOTEMPTY(r)):void _.del(r,m.cb(r,t))})})},g.readdir=function(e,t){_.follow(e,function(e,n,r){return e?t(e):n?n.isDirectory()?void _.list(r,t):t(l.ENOTDIR(r)):t(l.ENOENT(r))})};var k=function(e,t,n){t(e,function(e,t,r){if(e)return n(e);if(!t.isFile())return n(null,t);var i=t&&t.blob||r;b.size(i,function(e,r){if(e)return n(e);t.size=r,n(null,t)})})};g.stat=function(e,t){k(e,_.follow,t)},g.lstat=function(e,t){k(e,_.get,t)},g.exists=function(e,t){_.follow(e,function(e){t(!e)})};var x=function(e,t,n,r){r||(r=p),t(e,function(e,t,i){if(e)return r(e);_.update(i,{mode:n},m.cb(i,r))})};g.chmod=function(e,t,n){x(e,_.follow,t,n)},g.lchmod=function(e,t,n){x(e,_.get,t,n)};var S=function(e,t,n,r,i){i||(i=p),t(e,function(e,t,o){if(e)return i(e);_.update(o,{uid:n,gid:r},m.cb(o,i))})};return g.chown=function(e,t,n,r){S(e,_.follow,t,n,r)},g.lchown=function(e,t,n,r){S(e,_.get,t,n,r)},g.utimes=function(e,t,n,r){r||(r=p),_.follow(e,function(e,i,o){if(e)return r(e);var s={};t&&(s.atime=t),n&&(s.mtime=n),_.update(o,s,m.cb(o,r))})},g.rename=function(e,t,n){n||(n=p),_.follow(e,function(e,r,i){if(e)return n(e);var o=function(){n=m.cb(t,m.cb(i,n)),_.put(t,r,function(e){if(e)return n(e);_.del(i,n)})};_.follow(t,function(e,t,s){return e&&"ENOENT"!==e.code?n(e):t?r.isDirectory()!==t.isDirectory()?n(l.EISDIR(i)):void(t.isDirectory()?g.readdir(s,function(e,t){return e?n(e):t.length?n(l.ENOTEMPTY(i)):void o()}):o()):o()})})},g.realpath=function(e,t,n){if("function"==typeof t)return g.realpath(e,null,t);_.follow(e,function(e,t,r){if(e)return n(e);n(null,r)})},g.writeFile=function(e,t,n,i){if("function"==typeof n)return g.writeFile(e,t,null,n);"string"==typeof n&&(n={encoding:n}),n||(n={}),i||(i=p),r.isBuffer(t)||(t=new r(t,n.encoding||"utf-8"));var o=n.flags||"w";n.append="w"!==o[0],_.follow(e,function(e,r,s){if(e&&"ENOENT"!==e.code)return i(e);if(r&&r.isDirectory())return i(l.EISDIR(s));if(r&&"x"===o[1])return i(l.EEXIST(s));var a=r&&r.blob||s;_.writable(s,function(e){if(e)return i(e);b.write(a,t,n,function(e){if(e)return i(e);_.put(s,{ctime:r&&r.ctime,mtime:new Date,mode:n.mode||f(666),type:"file"},m.cb(s,i))})})})},g.appendFile=function(e,t,n,r){if("function"==typeof n)return g.appendFile(e,t,null,n);"string"==typeof n&&(n={encoding:n}),n||(n={}),n.flags="a",g.writeFile(e,t,n,r)},g.unlink=function(e,t){t||(t=p),_.get(e,function(e,n,r){if(e)return t(e);if(n.isDirectory())return t(l.EISDIR(r));var i=function(e){a(y,{start:e+"",end:e+""},function(n){if(n)return b.remove(e,t);t()})},o=function(){var e=n.link.slice(0,n.link.indexOf(""));y.del(n.link,function(n){if(n)return t(n);i(e)})};_.del(r,m.cb(r,function(e){return e?t(e):n.link?o():void y.del(r+"",function(e){if(e)return t(e);i(r)})}))})},g.readFile=function(e,t,n){if("function"==typeof t)return g.readFile(e,null,t);"string"==typeof t&&(t={encoding:t}),t||(t={});t.encoding,t.flag;_.follow(e,function(e,r,i){if(e)return n(e);if(r.isDirectory())return n(l.EISDIR(i));var o=r&&r.blob||i;b.read(o,function(e,r){if(e)return n(e);n(null,t.encoding?r.toString(t.encoding):r)})})},g.createReadStream=function(e,t){t||(t={});var r=!1,o=i.readable(function(i){_.follow(e,function(e,s,a){if(e)return i(e);if(s.isDirectory())return i(l.EISDIR(a));var u=s&&s.blob||a,f=b.createReadStream(u,t);o.emit("open"),f.on("end",function(){n.nextTick(function(){r||o.emit("close")})}),i(null,f)})});return o.on("close",function(){r=!0}),o},g.createWriteStream=function(e,t){t||(t={});var n=t.flags||"w",r=!1,o=t.mode||f(666);t.append="a"===n[0];var s=i.writable(function(i){_.follow(e,function(e,a,u){if(e&&"ENOENT"!==e.code)return i(e);if(a&&a.isDirectory())return i(l.EISDIR(u));if(a&&"x"===n[1])return i(l.EEXIST(u));var f=a&&a.blob||u;_.writable(f,function(e){if(e)return i(e);var n={ctime:a?a.ctime:new Date,mtime:new Date,mode:o,type:"file"};_.put(u,n,function(e){if(e)return i(e);var o=b.createWriteStream(f,t);s.emit("open"),o.on("finish",function(){n.mtime=new Date,_.put(u,n,function(){m.change(u),r||s.emit("close")})}),i(null,o)})})})});return s.on("close",function(){r=!0}),s},g.truncate=function(e,t,n){_.follow(e,function(e,i,o){if(e)return n(e);var s=i&&i.blob||o;b.size(s,function(e,i){if(e)return n(e);_.writable(o,function(e){if(e)return n(e);if(n=u(m.cb(o,n)),!t)return b.remove(s,n);var a=b.createWriteStream(s,{start:i<t?t-1:t});a.on("error",n),a.on("finish",n),i<t&&a.write(new r([0])),a.end()})})})},g.watchFile=function(e,t,n){return"function"==typeof t?g.watchFile(e,null,t):m.watch(_.normalize(e),n)},g.unwatchFile=function(e,t){m.unwatch(_.normalize(e),t)},g.watch=function(e,t,n){return"function"==typeof t?g.watch(e,null,t):m.watcher(_.normalize(e),n)},g.notify=function(e){m.on("change",e)},g.open=function(e,t,n,r){if("function"==typeof n)return g.open(e,t,null,n);_.follow(e,function(e,i,o){if(e&&"ENOENT"!==e.code)return r(e);var s=t[0],a="+"===t[1]||"+"===t[2],u=i&&i.blob||o,c={key:o,blob:u,mode:n||f(666),readable:"r"===s||("w"===s||"a"===s)&&a,writable:"w"===s||"a"===s||"r"===s&&a,append:"a"===s};return"r"===s&&e?r(e):"x"===t[1]&&i?r(l.EEXIST(o)):i&&i.isDirectory()?r(l.EISDIR(o)):void b.size(u,function(e,t){if(e)return r(e);c.append&&(c.writePos=t),_.writable(o,function(e){if(e)return r(e);var t=function(e){if(e)return r(e);var t=v.indexOf(null);-1===t&&(t=10+v.push(v.length+10)-1),c.fd=t,v[t]=c,m.change(o),r(null,c.fd)},n=function(e){return e?r(e):i?t():void _.put(u,{ctime:i&&i.ctime,type:"file"},t)};if(!c.append&&c.writable)return b.remove(u,n);n()})})})},g.close=function(e,t){var n=v[e];if(!n)return d(t,l.EBADF());v[e]=null,d(m.cb(n.key,t))},g.write=function(e,t,n,r,i,o){var s=v[e];if(o||(o=p),!s||!s.writable)return d(o,l.EBADF());null===i&&(i=s.writePos||0);var a=t.slice(n,n+r);s.writePos=i+a.length,b.write(s.blob,a,{start:i,append:!0},function(e){if(e)return o(e);o(null,r,t)})},g.read=function(e,t,n,r,i,o){var s=v[e];if(o||(o=p),!s||!s.readable)return d(o,l.EBADF());null===i&&(i=g.readPos||0),b.read(s.blob,{start:i,end:i+r-1},function(e,s){if(e)return o(e);var a=s.slice(0,r);a.copy(t,n),g.readPos=i+a.length,o(null,a.length,t)})},g.fsync=function(e,t){var n=v[e];if(t||(t=p),!n||!n.writable)return d(t,l.EBADF());d(t)},g.ftruncate=function(e,t,n){var r=v[e];if(n||(n=p),!r)return d(n,l.EBADF());g.truncate(r.blob,t,n)},g.fchown=function(e,t,n,r){var i=v[e];if(r||(r=p),!i)return d(r,l.EBADF());g.chown(i.key,t,n,r)},g.fchmod=function(e,t,n){var r=v[e];if(n||(n=p),!r)return d(n,l.EBADF());g.chmod(r.key,t,n)},g.futimes=function(e,t,n,r){var i=v[e];if(r||(r=p),!i)return d(r,l.EBADF());g.utimes(i.key,t,n,r)},g.fstat=function(e,t){var n=v[e];if(!n)return d(t,l.EBADF());g.stat(n.key,t)},g.symlink=function(e,t,n){n||(n=p),_.follow(e,function(e,r,i){if(e)return n(e);_.get(t,function(e,r){return e&&"ENOENT"!==e.code?n(e):r?n(l.EEXIST(t)):void _.put(t,{type:"symlink",target:i,mode:f(777)},n)})})},g.readlink=function(e,t){_.get(e,function(n,r){return n?t(n):r.target?void t(null,r.target):t(l.EINVAL(e))})},g.link=function(e,t,n){n||(n=p),_.follow(e,function(e,r,i){return e?n(e):r.isFile()?void _.get(t,function(e,o){if(e&&"ENOENT"!==e.code)return n(e);if(o)return n(l.EEXIST(t));var s=i+""+E();y.put(i+"",i,function(e){if(e)return n(e);y.put(s,i,function(e){if(e)return n(e);_.put(t,{type:"file",link:s,blob:i,mode:r.mode},n)})})}):n(l.EINVAL(i))})},g}}).call(this,e("_process"),e("buffer").Buffer)},{"./errno":54,"./paths":59,"./watchers":61,_process:134,buffer:19,"fwd-stream":28,"level-blobs":45,"level-peek":72,"level-sublevel":75,octal:97,once:98}],56:[function(e,t,n){(function(n){function r(e,t){if(!(this instanceof r))return new r(e,t);"function"==typeof e&&(t=e,e={}),e||(e={});var n=e.encoding,i=!1;n?"u8"!==(n=String(n).toLowerCase())&&"uint8"!==n||(n="uint8array"):i=!0,l.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=i,t&&this.on("finish",function(){t(this.getBody())}),this.body=[]}function i(e){return/Array\]$/.test(Object.prototype.toString.call(e))}function o(e){return"string"==typeof e||i(e)||e&&"function"==typeof e.subarray}function s(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];"string"==typeof i?t.push(i):n.isBuffer(i)?t.push(i):o(i)?t.push(new n(i)):t.push(new n(String(i)))}return t=n.isBuffer(e[0])?(t=n.concat(t)).toString("utf8"):t.join("")}function a(e){for(var t=[],r=0;r<e.length;r++){var i=e[r];n.isBuffer(i)?t.push(i):o(i)?t.push(new n(i)):t.push(new n(String(i)))}return n.concat(t)}function u(e){for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n]);return t}function f(e){for(var t=0,r=0;r<e.length;r++)"string"==typeof e[r]&&(e[r]=new n(e[r])),t+=e[r].length;for(var i=new h(t),r=0,o=0;r<e.length;r++)for(var s=e[r],a=0;a<s.length;a++)i[o++]=s[a];return i}var l=e("readable-stream").Writable,c=e("inherits");if("undefined"==typeof Uint8Array)h=e("typedarray").Uint8Array;else var h=Uint8Array;t.exports=r,c(r,l),r.prototype._write=function(e,t,n){this.body.push(e),n()},r.prototype.inferEncoding=function(e){var t=void 0===e?this.body[0]:e;return n.isBuffer(t)?"buffer":"undefined"!=typeof Uint8Array&&t instanceof Uint8Array?"uint8array":Array.isArray(t)?"array":"string"==typeof t?"string":"[object Object]"===Object.prototype.toString.call(t)?"object":"buffer"},r.prototype.getBody=function(){return this.encoding||0!==this.body.length?(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),"array"===this.encoding?u(this.body):"string"===this.encoding?s(this.body):"buffer"===this.encoding?a(this.body):"uint8array"===this.encoding?f(this.body):this.body):[]};Array.isArray}).call(this,e("buffer").Buffer)},{buffer:19,inherits:40,"readable-stream":147,typedarray:155}],57:[function(e,t,n){t.exports=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}},{}],58:[function(e,t,n){var r=e("./has-keys");t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];if(r(n))for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}},{"./has-keys":57}],59:[function(e,t,n){(function(n){var r=e("path"),i=e("once"),o=e("concat-stream"),s=e("octal"),a=e("./stat"),u=e("xtend"),f=e("./errno"),l=a({type:"directory",mode:s(777),size:4096}),c=function(e){return e="/"===e[0]?e:"/"+e,"/"===(e=r.normalize(e))?e:"/"===e[e.length-1]?e.slice(0,-1):e},h=function(e){var t=e.split("/").length.toString(36);return"0000000000".slice(t.length)+t+e};t.exports=function(e){var t={};t.normalize=c,t.get=function(t,r){if("/"===(t=c(t)))return n.nextTick(r.bind(null,null,l,"/"));e.get(h(t),{valueEncoding:"json"},function(e,n){return e&&e.notFound?r(f.ENOENT(t),null,t):e?r(e,null,t):void r(null,a(n),t)})},t.writable=function(e,i){if("/"===(e=c(e)))return n.nextTick(i.bind(null,f.EPERM(e)));t.follow(r.dirname(e),function(t,n){return t?i(t):n.isDirectory()?void i(null,e):i(f.ENOTDIR(e))})},t.list=function(t,n){t=c(t);var r=h("/"===t?t:t+"/"),s=e.createKeyStream({start:r,end:r+""});n=i(n),s.on("error",n),s.pipe(o({encoding:"object"},function(e){e=e.map(function(e){return e.split("/").pop()}),n(null,e)}))};var s=function(e,n){var i="/",o=e.split("/").slice(1),s=function(){t.get(r.join(i,o.shift()),function(t,r,a){return t?n(t,r,e):(i=r.target||a,o.length?void s():n(null,r,a))})};s()};return t.follow=function(e,n){s(c(e),function e(r,i,o){return r?n(r,null,o):i.target?t.get(i.target,e):void n(null,a(i),o)})},t.update=function(e,n,r){t.get(e,function(e,i,o){return e?r(e):"/"===o?r(f.EPERM(o)):void t.put(o,u(i,n),r)})},t.put=function(n,r,i){t.writable(n,function(t,n){if(t)return i(t);e.put(h(n),a(r),{valueEncoding:"json"},i)})},t.del=function(t,r){if("/"===(t=c(t)))return n.nextTick(r.bind(null,f.EPERM(t)));e.del(h(t),r)},t}}).call(this,e("_process"))},{"./errno":54,"./stat":60,_process:134,"concat-stream":56,octal:97,once:98,path:110,xtend:58}],60:[function(e,t,n){var r=function(e){return e?"string"==typeof e?new Date(e):e:new Date},i=function(e){this.uid=e.uid||0,this.gid=e.gid||0,this.mode=e.mode||0,this.size=e.size||0,this.mtime=r(e.mtime),this.atime=r(e.atime),this.ctime=r(e.ctime),this.type=e.type,this.target=e.target,this.link=e.link,this.blob=e.blob};i.prototype.isDirectory=function(){return"directory"===this.type},i.prototype.isFile=function(){return"file"===this.type},i.prototype.isBlockDevice=function(){return!1},i.prototype.isCharacterDevice=function(){return!1},i.prototype.isSymbolicLink=function(){return"symlink"===this.type},i.prototype.isFIFO=function(){return!1},i.prototype.isSocket=function(){return!1},t.exports=function(e){return new i(e)}},{}],61:[function(e,t,n){var r=e("events");t.exports=function(){var e={},t=new r.EventEmitter;return t.watch=function(t,n){return e[t]||(e[t]=new r.EventEmitter,e[t].setMaxListeners(0)),n&&e[t].on("change",n),e[t]},t.watcher=function(e,n){var i=new r.EventEmitter,o=function(){i.emit("change","change",e)};return t.watch(e,o),n&&i.on("change",n),i.close=function(){t.unwatch(e,o)},i},t.unwatch=function(t,n){e[t]&&(n?e[t].removeListener("change",n):e[t].removeAllListeners("change"),e[t].listeners("change").length||delete e[t])},t.change=function(n){e[n]&&e[n].emit("change"),t.emit("change",n)},t.cb=function(e,n){return function(r,i){e&&t.change(e),n&&n(r,i)}},t}},{events:26}],62:[function(e,t,n){var r=e("clone");t.exports=function(e){var t=(e=r(e)).reverse,n=e.max||e.end,i=e.min||e.start,o=[i,n];return null!=i&&null!=n&&o.sort(),t&&(o=o.reverse()),e.start=o[0],e.end=o[1],delete e.min,delete e.max,e}},{clone:20}],63:[function(e,t,n){var r=e("string-range");t.exports=function(e){function t(e){return e&&("string"==typeof e?e:"string"==typeof e.prefix?e.prefix:"function"==typeof e.prefix?e.prefix():"")}function n(e){if(e&&e._getKeyEncoding)return e._getKeyEncoding(e)}function i(e){if(e&&e._getValueEncoding)return e._getValueEncoding(e)}function o(e,t){return function(){var n=e.indexOf(t);return!!~n&&(e.splice(n,1),!0)}}function s(e){e&&e.type&&u.forEach(function(t){t.test(e.key)&&t.hook(e)})}function a(r,o,s,a){try{o.forEach(function e(r,s){f.forEach(function(a){if(a.test(String(r.key))){var u={add:function(r,u){if(void 0===r)return this;if(!1===r)return delete o[s];var f=t(r.prefix)||t(u)||a.prefix||"";if(f&&(r.prefix=f),r.key=f+r.key,a.safe&&a.test(String(r.key)))throw new Error("prehook cannot insert into own range");var l=r.keyEncoding||n(r.prefix),c=r.valueEncoding||i(r.prefix);return l&&(r.keyEncoding=l),c&&(r.valueEncoding=c),o.push(r),e(r,o.length-1),this},put:function(e,t){return"object"==typeof e&&(e.type="put"),this.add(e,t)},del:function(e,t){return"object"==typeof e&&(e.type="del"),this.add(e,t)},veto:function(){return this.add(!1)}};a.hook.call(u,r,u.add,o)}})})}catch(e){return(a||s)(e)}if(1==(o=o.filter(function(e){return e&&e.type})).length&&!r){var u=o[0];return"put"==u.type?l.call(e,u.key,u.value,s,a):c.call(e,u.key,s,a)}return h.call(e,o,s,a)}if(!e.hooks){var u=[],f=[];e.hooks={post:function(e,t){t||(t=e,e="");var n={test:r.checker(e),hook:t};return u.push(n),o(u,n)},pre:function(e,t){t||(t=e,e="");var n={test:r.checker(e),hook:t,safe:!1!==e.safe};return f.push(n),o(f,n)},posthooks:u,prehooks:f},e.on("put",function(e,t){s({type:"put",key:e,value:t})}),e.on("del",function(e,t){s({type:"del",key:e,value:t})}),e.on("batch",function(e){e.forEach(s)});var l=e.put,c=e.del,h=e.batch;e.put=function(e,t,n,r){return a(!1,[{key:e,value:t,type:"put"}],n,r)},e.del=function(e,t,n){return a(!1,[{key:e,type:"del"}],t,n)},e.batch=function(e,t,n){return a(!0,e,t,n)}}}},{"string-range":152}],64:[function(e,t,n){(function(n){function r(e){if(!(this instanceof r))return new r(e);if(!e)throw new Error("constructor requires at least a location argument");this.IDBOptions={},this.location=e}t.exports=r;var i=e("idb-wrapper"),o=e("abstract-leveldown").AbstractLevelDOWN,s=e("util"),a=e("./iterator"),u=e("isbuffer"),f=e("xtend"),l=e("typedarray-to-buffer");s.inherits(r,o),r.prototype._open=function(e,t){var n=this,r={storeName:this.location,autoIncrement:!1,keyPath:null,onStoreReady:function(){t&&t(null,n.idb)},onError:function(e){t&&t(e)}};f(r,e),this.IDBOptions=r,this.idb=new i(r)},r.prototype._get=function(e,t,r){this.idb.get(e,function(i){if(void 0===i)return r(new Error("NotFound"));var o=!0;return!1===t.asBuffer&&(o=!1),t.raw&&(o=!1),o&&(i=i instanceof Uint8Array?l(i):new n(String(i))),r(null,i,e)},r)},r.prototype._del=function(e,t,n){this.idb.remove(e,n,n)},r.prototype._put=function(e,t,r,i){t instanceof ArrayBuffer&&(t=l(new Uint8Array(t)));var o=this.convertEncoding(e,t,r);n.isBuffer(o.value)&&("function"==typeof t.toArrayBuffer?o.value=new Uint8Array(t.toArrayBuffer()):o.value=new Uint8Array(t)),this.idb.put(o.key,o.value,function(){i()},i)},r.prototype.convertEncoding=function(e,t,n){if(n.raw)return{key:e,value:t};if(t){var r=t.toString();"NaN"===r&&(t="NaN")}var i=n.valueEncoding,o={key:e,value:t};return!t||i&&"binary"===i||"object"!=typeof o.value&&(o.value=r),o},r.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),new a(this.idb,e)},r.prototype._batch=function(e,t,n){var r,i,o,s,a=[];if(0===e.length)return setTimeout(n,0);for(r=0;r<e.length;r++){o={},s=e[r],a[r]=o;var u=this.convertEncoding(s.key,s.value,t);s.key=u.key,s.value=u.value;for(i in s)"type"===i&&"del"==s[i]?o[i]="remove":o[i]=s[i]}return this.idb.batch(a,function(){n()},n)},r.prototype._close=function(e){this.idb.db.close(),e()},r.prototype._approximateSize=function(e,t,n){var r=new Error("Not implemented");if(n)return n(r);throw r},r.prototype._isBuffer=function(e){return n.isBuffer(e)},r.destroy=function(e,t){if("object"==typeof e)var n=e.IDBOptions.storePrefix||"IDBWrapper-",r=e.location;else var n="IDBWrapper-",r=e;var i=indexedDB.deleteDatabase(n+r);i.onsuccess=function(){t()},i.onerror=function(e){t(e)}};r.prototype._checkKeyValue=function(e,t){return null===e||void 0===e?new Error(t+" cannot be `null` or `undefined`"):null===e||void 0===e?new Error(t+" cannot be `null` or `undefined`"):u(e)&&0===e.byteLength?new Error(t+" cannot be an empty ArrayBuffer"):""===String(e)?new Error(t+" cannot be an empty String"):0===e.length?new Error(t+" cannot be an empty Array"):void 0}}).call(this,e("buffer").Buffer)},{"./iterator":65,"abstract-leveldown":3,buffer:19,"idb-wrapper":38,isbuffer:44,"typedarray-to-buffer":154,util:159,xtend:71}],65:[function(e,t,n){function r(e,t){t||(t={}),this.options=t,o.call(this,e),this._order=t.reverse?"DESC":"ASC",this._limit=t.limit,this._count=0,this._done=!1;var n=s.lowerBound(t),r=s.upperBound(t);try{this._keyRange=n||r?this.db.makeKeyRange({lower:n,upper:r,excludeLower:s.lowerBoundExclusive(t),excludeUpper:s.upperBoundExclusive(t)}):null}catch(e){this._keyRangeError=!0}this.callback=null}var i=e("util"),o=e("abstract-leveldown").AbstractIterator,s=e("ltgt");t.exports=r,i.inherits(r,o),r.prototype.createIterator=function(){var e=this;e.iterator=e.db.iterate(function(){e.onItem.apply(e,arguments)},{keyRange:e._keyRange,autoContinue:!1,order:e._order,onError:function(e){console.log("horrible error",e)}})},r.prototype.onItem=function(e,t,n){if(!t&&this.callback)return this.callback(),void(this.callback=!1);var r=!0;this._limit&&this._limit>0&&this._count++>=this._limit&&(r=!1),r&&this.callback(!1,t.key,t.value),t&&t.continue()},r.prototype._next=function(e){return e?this._keyRangeError?e():(this._started||(this.createIterator(),this._started=!0),void(this.callback=e)):new Error("next() requires a callback argument")}},{"abstract-leveldown":3,ltgt:96,util:159}],66:[function(e,t,n){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(e){var t="function"==typeof e&&!(e instanceof RegExp)||"[object Function]"===i.call(e);return t||"undefined"==typeof window||(t=e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt),t};t.exports=function(e,t){if(!o(t))throw new TypeError("iterator must be a function");var n,i,s="string"==typeof e,a=e.length,u=arguments.length>2?arguments[2]:null;if(a===+a)for(n=0;n<a;n++)null===u?t(s?e.charAt(n):e[n],n,e):t.call(u,s?e.charAt(n):e[n],n,e);else for(i in e)r.call(e,i)&&(null===u?t(e[i],i,e):t.call(u,e[i],i,e))}},{}],67:[function(e,t,n){t.exports=Object.keys||e("./shim")},{"./shim":69}],68:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},{}],69:[function(e,t,n){!function(){"use strict";var n,r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=e("./foreach"),s=e("./isArguments"),a=!{toString:null}.propertyIsEnumerable("toString"),u=function(){}.propertyIsEnumerable("prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];n=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),l=s(e),c=[];if(!t&&!n&&!l)throw new TypeError("Object.keys called on a non-object");if(l)o(e,function(e){c.push(e)});else{var h,d=u&&n;for(h in e)d&&"prototype"===h||!r.call(e,h)||c.push(h)}if(a){var p=e.constructor,g=p&&p.prototype===e;o(f,function(t){g&&"constructor"===t||!r.call(e,t)||c.push(t)})}return c},t.exports=n}()},{"./foreach":66,"./isArguments":68}],70:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],71:[function(e,t,n){var r=e("object-keys"),i=e("./has-keys");t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];if(i(n))for(var o=r(n),s=0;s<o.length;s++){var a=o[s];e[a]=n[a]}}return e}},{"./has-keys":70,"object-keys":67}],72:[function(e,t,n){function r(e,t,n){var r=[];return t.forEach(function(t){function i(e){!1!==n(t,e)&&r.forEach(function(e){e()})}e.on(t,i),r.push(function(){e.removeListener(t,i)})}),e}function i(e,t,n){t.limit=t.reverse?2:1;r(e.createReadStream(t),["data","error","end"],function(e,r){if(t.reverse&&r&&t.start&&r.key.toString()>t.start)return!1;"error"==e?n(r):"end"==e?n(new Error("range not found"),null,null):n(null,r.key,r.value)})}var o=e("level-fix-range");(n=t.exports=i).first=function(e,t,n){return n||(n=t,t={}),t.reverse=!1,i(e,o(t),n)},n.last=function(e,t,n){n||(n=t,t={});t.start;return t.reverse=!0,i(e,o(t),function(r,o,s){if(r){var a=t.start;t.start=null,i(e,t,function(e,i,o){if(!i)return n(r,null,null);var s=i.toString();s<=a&&(!t.end||s>=t.end)?n(e,i,o):n(r,null,null)})}else n(r,o,s)})}},{"level-fix-range":73}],73:[function(e,t,n){t.exports=function(e){var t=e.reverse,n=e.end,r=e.start,i=[r,n];return null!=r&&null!=n&&i.sort(),t&&(i=i.reverse()),e.start=i[0],e.end=i[1],e}},{}],74:[function(e,t,n){function r(e,t,n,r){var i={type:e,key:t,value:n,options:r};return r&&r.prefix&&(i.prefix=r.prefix,delete r.prefix),this._operations.push(i),this}function i(e){this._operations=[],this._sdb=e,this.put=r.bind(this,"put"),this.del=r.bind(this,"del")}var o=i.prototype;o.clear=function(){this._operations=[]},o.write=function(e){this._sdb.batch(this._operations,e)},t.exports=i},{}],75:[function(e,t,n){(function(n){e("events").EventEmitter,n.nextTick;var r=e("./sub"),i=e("./batch"),o=e("level-fix-range"),s=e("level-hooks");t.exports=function(e,t){function n(){}function a(e){return function(t){return t=t||{},(t=o(t)).reverse?t.start=t.start||f:t.end=t.end||f,e.call(u,t)}}n.prototype=e;var u=new n;if(u.sublevel)return u;var f=(t=t||{}).sep=t.sep||"";u._options=t,s(u),u.sublevels={},u.sublevel=function(e,t){return u.sublevels[e]?u.sublevels[e]:new r(u,e,t||this._options)},u.methods={},u.prefix=function(e){return""+(e||"")},u.pre=function(e,t){return t||(t=e,e={max:f}),u.hooks.pre(e,t)},u.post=function(e,t){return t||(t=e,e={max:f}),u.hooks.post(e,t)},u.readStream=u.createReadStream=a(u.createReadStream),u.keyStream=u.createKeyStream=a(u.createKeyStream),u.valuesStream=u.createValueStream=a(u.createValueStream);var l=u.batch;return u.batch=function(e,t,n){if(!Array.isArray(e))return new i(u);e.forEach(function(e){e.prefix&&("function"==typeof e.prefix.prefix?e.key=e.prefix.prefix(e.key):"string"==typeof e.prefix&&(e.key=e.prefix+e.key))}),l.call(u,e,t,n)},u}}).call(this,e("_process"))},{"./batch":74,"./sub":80,_process:134,events:26,"level-fix-range":62,"level-hooks":63}],76:[function(e,t,n){arguments[4][67][0].apply(n,arguments)},{"./shim":77,dup:67}],77:[function(e,t,n){!function(){"use strict";var n,r=Object.prototype.hasOwnProperty,i=e("is"),o=e("foreach"),s=!{toString:null}.propertyIsEnumerable("toString"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];n=function(e){if(!i.object(e)&&!i.array(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)r.call(e,t)&&n.push(t);return s&&o(a,function(t){r.call(e,t)&&n.push(t)}),n},t.exports=n}()},{foreach:27,is:42}],78:[function(e,t,n){arguments[4][57][0].apply(n,arguments)},{dup:57}],79:[function(e,t,n){arguments[4][71][0].apply(n,arguments)},{"./has-keys":78,dup:71,"object-keys":76}],80:[function(e,t,n){function r(e,t,n){if("string"==typeof n&&(console.error("db.sublevel(name, seperator<string>) is depreciated"),console.error("use db.sublevel(name, {sep: separator})) if you must"),n={sep:n}),!(this instanceof r))return new r(e,t,n);if(!e)throw new Error("must provide db");if(!t)throw new Error("must provide prefix");(n=n||{}).sep=n.sep||"",this._parent=e,this._options=n,this.options=n,this._prefix=t,this._root=o(this),e.sublevels[t]=this,this.sublevels={},this.methods={};var i=this;this.hooks={pre:function(){return i.pre.apply(i,arguments)},post:function(){return i.post.apply(i,arguments)}}}function i(e,t){["valueEncoding","encoding","keyEncoding","reverse","values","keys","limit","fillCache"].forEach(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})}function o(e){return e._parent?o(e._parent):e}var s=e("events").EventEmitter,a=e("util").inherits,u=e("string-range"),f=e("level-fix-range"),l=e("xtend"),c=e("./batch");a(r,s);var h=r.prototype;h._key=function(e){var t=this._options.sep;return t+this._prefix+t+e},h._getOptsAndCb=function(e,t){return"function"==typeof e&&(t=e,e={}),{opts:l(e,this._options),cb:t}},h.sublevel=function(e,t){return this.sublevels[e]?this.sublevels[e]:new r(this,e,t||this._options)},h.put=function(e,t,n,r){var i=this._getOptsAndCb(n,r);this._root.put(this.prefix(e),t,i.opts,i.cb)},h.get=function(e,t,n){var r=this._getOptsAndCb(t,n);this._root.get(this.prefix(e),r.opts,r.cb)},h.del=function(e,t,n){var r=this._getOptsAndCb(t,n);this._root.del(this.prefix(e),r.opts,r.cb)},h.batch=function(e,t,n){if(!Array.isArray(e))return new c(this);var r=this,i=this._getOptsAndCb(t,n);e.forEach(function(e){"string"==typeof e.prefix?e.key=e.prefix+e.key:e.key=(e.prefix||r).prefix(e.key),e.prefix&&(e.prefix=null)}),this._root.batch(e,i.opts,i.cb)},h._getKeyEncoding=function(){return this.options.keyEncoding?this.options.keyEncoding:this._parent&&this._parent._getKeyEncoding?this._parent._getKeyEncoding():void 0},h._getValueEncoding=function(){return this.options.valueEncoding?this.options.valueEncoding:this._parent&&this._parent._getValueEncoding?this._parent._getValueEncoding():void 0},h.prefix=function(e){var t=this._options.sep;return this._parent.prefix()+t+this._prefix+t+(e||"")},h.keyStream=h.createKeyStream=function(e){return e=e||{},e.keys=!0,e.values=!1,this.createReadStream(e)},h.valueStream=h.createValueStream=function(e){return e=e||{},e.keys=!1,e.values=!0,e.keys=!1,this.createReadStream(e)},h.readStream=h.createReadStream=function(e){e=e||{};var t=o(this),n=this.prefix(),r=u.prefix(e,n);i(r,l(e,this._options));var s=t.createReadStream(r);if(!1===r.values){if(f=s.read)s.read=function(e){var t=f.call(this,e);return t&&(t=t.substring(n.length)),t};else{var a=s.emit;s.emit=function(e,t){"data"===e?a.call(this,"data",t.substring(n.length)):a.call(this,e,t)}}return s}if(!1===r.keys)return s;var f=s.read;return f?s.read=function(e){var t=f.call(this,e);return t&&(t.key=t.key.substring(n.length)),t}:s.on("data",function(e){e.key=e.key.substring(n.length)}),s},h.writeStream=h.createWriteStream=function(){var e=o(this),t=this.prefix(),n=e.createWriteStream.apply(e,arguments),r=n.write,i=this._options.encoding,s=this._options.valueEncoding,a=this._options.keyEncoding,u=!i&&!s&&!a;return n.write=u?function(e){return e.key=t+e.key,r.call(n,e)}:function(e){return e.key=t+e.key,i&&void 0===e.encoding&&(e.encoding=i),s&&void 0===e.valueEncoding&&(e.valueEncoding=s),a&&void 0===e.keyEncoding&&(e.keyEncoding=a),r.call(n,e)},n},h.approximateSize=function(){var e=o(db);return e.approximateSize.apply(e,arguments)},h.pre=function(e,t){t||(t=e,e=null),e=u.prefix(e,this.prefix(),this._options.sep);var n=o(this._parent),r=this.prefix();return n.hooks.pre(f(e),function(e,n,i){t({key:e.key.substring(r.length),value:e.value,type:e.type},function(e,t){n(e,e.prefix?t:t||r)},i)})},h.post=function(e,t){t||(t=e,e=null);var n=o(this._parent),r=this.prefix();return e=u.prefix(e,r,this._options.sep),n.hooks.post(f(e),function(e){t({key:e.key.substring(r.length),value:e.value,type:e.type})})};t.exports=r},{"./batch":74,events:26,"level-fix-range":62,"string-range":152,util:159,xtend:79}],81:[function(e,t,n){function r(e){this._levelup=e,this.batch=e.db.batch(),this.ops=[]}var i=e("./util"),o=e("./errors").WriteError,s=i.getOptions,a=i.dispatchError;r.prototype.put=function(e,t,n){n=s(this._levelup,n);var r=i.encodeKey(e,n),a=i.encodeValue(t,n);try{this.batch.put(r,a)}catch(e){throw new o(e)}return this.ops.push({type:"put",key:r,value:a}),this},r.prototype.del=function(e,t){t=s(this._levelup,t);var n=i.encodeKey(e,t);try{this.batch.del(n)}catch(e){throw new o(e)}return this.ops.push({type:"del",key:n}),this},r.prototype.clear=function(){try{this.batch.clear()}catch(e){throw new o(e)}return this.ops=[],this},r.prototype.write=function(e){var t=this._levelup,n=this.ops;try{this.batch.write(function(r){if(r)return a(t,new o(r),e);t.emit("batch",n),e&&e()})}catch(e){throw new o(e)}},t.exports=r},{"./errors":82,"./util":85}],82:[function(e,t,n){var r=e("errno").create,i=r("LevelUPError"),o=r("NotFoundError",i);o.prototype.notFound=!0,o.prototype.status=404,t.exports={LevelUPError:i,InitializationError:r("InitializationError",i),OpenError:r("OpenError",i),ReadError:r("ReadError",i),WriteError:r("WriteError",i),NotFoundError:o,EncodingError:r("EncodingError",i)}},{errno:25}],83:[function(e,t,n){(function(n){function r(e,t){return"function"==typeof e?e:t}function i(e,t,r){if(!(this instanceof i))return new i(e,t,r);var o;if(s.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(o=new b("Must provide a location for the database"),r)return n.nextTick(function(){r(o)});throw o}t=w(this,t),this.options=u(E,t),this._status="new",f(this,"location",e,"e"),this.open(r)}function o(e){return function(t,n){k()[e](t,n||function(){})}}var s=e("events").EventEmitter,a=e("util").inherits,u=e("xtend"),f=e("prr"),l=e("deferred-leveldown"),c=e("./errors").WriteError,h=e("./errors").ReadError,d=e("./errors").NotFoundError,p=e("./errors").OpenError,g=e("./errors").EncodingError,b=e("./errors").InitializationError,_=e("./read-stream"),y=e("./write-stream"),m=e("./util"),v=e("./batch"),w=m.getOptions,E=m.defaultOptions,k=m.getLevelDOWN,x=m.dispatchError;a(i,s),i.prototype.open=function(e){var t,r,i=this;return this.isOpen()?(e&&n.nextTick(function(){e(null,i)}),this):this._isOpening()?e&&this.once("open",function(){e(null,i)}):(this.emit("opening"),this._status="opening",this.db=new l(this.location),t=this.options.db||k(),void(r=t(this.location)).open(this.options,function(t){if(t)return x(i,new p(t),e);i.db.setDb(r),i.db=r,i._status="open",e&&e(null,i),i.emit("open"),i.emit("ready")}))},i.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close(function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)}),this.emit("closing"),this.db=null;else{if("closed"==this._status&&e)return n.nextTick(e);"closing"==this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",function(){t.close(e)})}},i.prototype.isOpen=function(){return"open"==this._status},i.prototype._isOpening=function(){return"opening"==this._status},i.prototype.isClosed=function(){return/^clos/.test(this._status)},i.prototype.get=function(e,t,n){var i,o=this;return"function"!=typeof(n=r(t,n))?x(this,new h("get() requires key and callback arguments")):this._isOpening()||this.isOpen()?(t=m.getOptions(this,t),i=m.encodeKey(e,t),t.asBuffer=m.isValueAsBuffer(t),void this.db.get(i,t,function(r,i){if(r)return r=/notfound/i.test(r)?new d("Key not found in database ["+e+"]",r):new h(r),x(o,r,n);if(n){try{i=m.decodeValue(i,t)}catch(e){return n(new g(e))}n(null,i)}})):x(this,new h("Database is not open"),n)},i.prototype.put=function(e,t,n,i){var o,s,a=this;return i=r(n,i),null===e||void 0===e||null===t||void 0===t?x(this,new c("put() requires key and value arguments"),i):this._isOpening()||this.isOpen()?(n=w(this,n),o=m.encodeKey(e,n),s=m.encodeValue(t,n),void this.db.put(o,s,n,function(n){if(n)return x(a,new c(n),i);a.emit("put",e,t),i&&i()})):x(this,new c("Database is not open"),i)},i.prototype.del=function(e,t,n){var i,o=this;return n=r(t,n),null===e||void 0===e?x(this,new c("del() requires a key argument"),n):this._isOpening()||this.isOpen()?(t=w(this,t),i=m.encodeKey(e,t),void this.db.del(i,t,function(t){if(t)return x(o,new c(t),n);o.emit("del",e),n&&n()})):x(this,new c("Database is not open"),n)},i.prototype.batch=function(e,t,n){var i,o,s,a=this;return arguments.length?(n=r(t,n),Array.isArray(e)?this._isOpening()||this.isOpen()?(t=w(this,t),i=t.keyEncoding,o=t.valueEncoding,s=e.map(function(e){if(void 0===e.type||void 0===e.key)return{};var n,r=e.keyEncoding||i,s=e.valueEncoding||e.encoding||o;return"utf8"!=r&&"binary"!=r||"utf8"!=s&&"binary"!=s?(n={type:e.type,key:m.encodeKey(e.key,t,e)},void 0!==e.value&&(n.value=m.encodeValue(e.value,t,e)),n):e}),void this.db.batch(s,t,function(t){if(t)return x(a,new c(t),n);a.emit("batch",e),n&&n()})):x(this,new c("Database is not open"),n):x(this,new c("batch() requires an array argument"),n)):new v(this)},i.prototype.approximateSize=function(e,t,n){var r,i,o=this;return null===e||void 0===e||null===t||void 0===t||"function"!=typeof n?x(this,new h("approximateSize() requires start, end and callback arguments"),n):(r=m.encodeKey(e,this.options),i=m.encodeKey(t,this.options),this._isOpening()||this.isOpen()?void this.db.approximateSize(r,i,function(e,t){if(e)return x(o,new p(e),n);n&&n(null,t)}):x(this,new c("Database is not open"),n))},i.prototype.readStream=i.prototype.createReadStream=function(e){var t=this;return e=u(this.options,e),new _(e,this,function(e){return t.db.iterator(e)})},i.prototype.keyStream=i.prototype.createKeyStream=function(e){return this.createReadStream(u(e,{keys:!0,values:!1}))},i.prototype.valueStream=i.prototype.createValueStream=function(e){return this.createReadStream(u(e,{keys:!1,values:!0}))},i.prototype.writeStream=i.prototype.createWriteStream=function(e){return new y(u(e),this)},i.prototype.toString=function(){return"LevelUP"},t.exports=i,t.exports.copy=m.copy,t.exports.destroy=o("destroy"),t.exports.repair=o("repair")}).call(this,e("_process"))},{"./batch":81,"./errors":82,"./read-stream":84,"./util":85,"./write-stream":86,_process:134,"deferred-leveldown":22,events:26,prr:135,util:159,xtend:94}],84:[function(e,t,n){function r(e,t,n){if(!(this instanceof r))return new r(e,t,n);i.call(this,{objectMode:!0,highWaterMark:e.highWaterMark}),this._db=t,e=this._options=s(f,e),this._keyEncoding=e.keyEncoding||e.encoding,this._valueEncoding=e.valueEncoding||e.encoding,void 0!==this._options.start&&(this._options.start=u.encodeKey(this._options.start,this._options)),void 0!==this._options.end&&(this._options.end=u.encodeKey(this._options.end,this._options)),"number"!=typeof this._options.limit&&(this._options.limit=-1),this._options.keyAsBuffer=u.isKeyAsBuffer(this._options),this._options.valueAsBuffer=u.isValueAsBuffer(this._options),this._makeData=this._options.keys&&this._options.values?l:this._options.keys?c:this._options.values?h:d;var o=this;this._db.isOpen()?this._iterator=n(this._options):this._db.once("ready",function(){o._destroyed||(o._iterator=n(o._options))})}var i=e("readable-stream").Readable,o=e("util").inherits,s=e("xtend"),a=e("./errors").EncodingError,u=e("./util"),f={keys:!0,values:!0},l=function(e,t){return{key:u.decodeKey(e,this._options),value:u.decodeValue(t,this._options)}},c=function(e){return u.decodeKey(e,this._options)},h=function(e,t){return u.decodeValue(t,this._options)},d=function(){return null};o(r,i),r.prototype._read=function e(){var t=this;if(!t._db.isOpen())return t._db.once("ready",function(){e.call(t)});t._destroyed||t._iterator.next(function(e,n,r){if(e||void 0===n&&void 0===r)return e||t._destroyed||t.push(null),t._cleanup(e);try{r=t._makeData(n,r)}catch(e){return t._cleanup(new a(e))}t._destroyed||t.push(r)})},r.prototype._cleanup=function(e){if(!this._destroyed){this._destroyed=!0;var t=this;e&&t.emit("error",e),t._iterator?t._iterator.end(function(){t._iterator=null,t.emit("close")}):t.emit("close")}},r.prototype.destroy=function(){this._cleanup()},r.prototype.toString=function(){return"LevelUP.ReadStream"},t.exports=r},{"./errors":82,"./util":85,"readable-stream":93,util:159,xtend:94}],85:[function(e,t,n){(function(n,r){function i(e,t){var n=t&&t.keyEncoding||e.keyEncoding||"utf8";return c[n]||n}function o(e,t){var n=t&&(t.valueEncoding||t.encoding)||e.valueEncoding||e.encoding||"utf8";return c[n]||n}var s,a=e("xtend"),u=e("./errors").LevelUPError,f=["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le"],l={createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},c=function(){function e(e){return void 0===e||null===e||r.isBuffer(e)}var t={};return t.utf8=t["utf-8"]={encode:function(t){return e(t)?t:String(t)},decode:function(e){return e},buffer:!1,type:"utf8"},t.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},f.forEach(function(i){t[i]||(t[i]={encode:function(t){return e(t)?t:new r(t,i)},decode:function(e){return n.browser?e.toString(i):e},buffer:!0,type:i})}),t}(),h=function(){var e={};return f.forEach(function(t){e[t]={valueEncoding:t}}),e}();t.exports={defaultOptions:l,copy:function(e,t,n){e.readStream().pipe(t.writeStream()).on("close",n||function(){}).on("error",n||function(e){throw e})},getOptions:function(e,t){var n="string"==typeof t;return!n&&t&&t.encoding&&!t.valueEncoding&&(t.valueEncoding=t.encoding),a(e&&e.options||{},n?h[t]||h[l.valueEncoding]:t)},getLevelDOWN:function(){if(s)return s;var t,n=e("../package.json").devDependencies.leveldown;try{t=e("leveldown/package").version}catch(e){throw new u("Could not locate LevelDOWN, try `npm install leveldown`")}if(!e("semver").satisfies(t,n))throw new u("Installed version of LevelDOWN ("+t+") does not match required version ("+n+")");try{return s=e("leveldown")}catch(e){throw new u("Could not locate LevelDOWN, try `npm install leveldown`")}},dispatchError:function(e,t,n){return"function"==typeof n?n(t):e.emit("error",t)},encodeKey:function(e,t,n){return i(t,n).encode(e)},encodeValue:function(e,t,n){return o(t,n).encode(e)},isValueAsBuffer:function(e,t){return o(e,t).buffer},isKeyAsBuffer:function(e,t){return i(e,t).buffer},decodeValue:function(e,t){return o(t).decode(e)},decodeKey:function(e,t){return i(t).decode(e)}}}).call(this,e("_process"),e("buffer").Buffer)},{"../package.json":95,"./errors":82,_process:134,buffer:19,leveldown:15,"leveldown/package":15,semver:15,xtend:94}],86:[function(e,t,n){(function(n,r){function i(e,t){if(!(this instanceof i))return new i(e,t);o.call(this),this._options=a(c,l(t,e)),this._db=t,this._buffer=[],this._status="init",this._end=!1,this.writable=!0,this.readable=!1;var n=this,r=function(){n.writable&&(n._status="ready",n.emit("ready"),n._process())};t.isOpen()?f(r):t.once("ready",r)}var o=e("stream").Stream,s=e("util").inherits,a=e("xtend"),u=e("bl"),f=r.setImmediate||n.nextTick,l=e("./util").getOptions,c={type:"put"};s(i,o),i.prototype.write=function(e){return!!this.writable&&(this._buffer.push(e),"init"!=this._status&&this._processDelayed(),!(this._options.maxBufferLength&&this._buffer.length>this._options.maxBufferLength)||(this._writeBlock=!0,!1))},i.prototype.end=function(e){var t=this;e&&this.write(e),f(function(){t._end=!0,t._process()})},i.prototype.destroy=function(){this.writable=!1,this.end()},i.prototype.destroySoon=function(){this.end()},i.prototype.add=function(e){if(e.props)return e.props.Directory?e.pipe(this._db.writeStream(this._options)):(e.props.File||e.File||"File"==e.type)&&this._write(e),!0},i.prototype._processDelayed=function(){var e=this;f(function(){e._process()})},i.prototype._process=function(){var e,t=this;if("ready"==t._status||!t.writable)return t._buffer.length&&t.writable?(t._status="writing",e=t._buffer,t._buffer=[],t._db.batch(e.map(function(e){return{type:e.type||t._options.type,key:e.key,value:e.value,keyEncoding:e.keyEncoding||t._options.keyEncoding,valueEncoding:e.valueEncoding||e.encoding||t._options.valueEncoding}}),function(e){if(t.writable){if("closed"!=t._status&&(t._status="ready"),e)return t.writable=!1,t.emit("error",e);t._process()}}),void(t._writeBlock&&(t._writeBlock=!1,t.emit("drain")))):void(t._end&&"closed"!=t._status&&(t._status="closed",t.writable=!1,t.emit("close")));t._buffer.length&&"closed"!=t._status&&t._processDelayed()},i.prototype._write=function(e){var t=e.path||e.props.path,n=this;t&&e.pipe(u(function(e,r){if(e)return n.writable=!1,n.emit("error",e);n._options.fstreamRoot&&t.indexOf(n._options.fstreamRoot)>-1&&(t=t.substr(n._options.fstreamRoot.length+1)),n.write({key:t,value:r.slice(0)})}))},i.prototype.toString=function(){return"LevelUP.WriteStream"},t.exports=i}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util":85,_process:134,bl:7,stream:151,util:159,xtend:94}],87:[function(e,t,n){arguments[4][8][0].apply(n,arguments)},{dup:8}],88:[function(e,t,n){arguments[4][9][0].apply(n,arguments)},{"./_stream_readable":90,"./_stream_writable":92,_process:134,"core-util-is":21,dup:9,inherits:40}],89:[function(e,t,n){arguments[4][10][0].apply(n,arguments)},{"./_stream_transform":91,"core-util-is":21,dup:10,inherits:40}],90:[function(e,t,n){arguments[4][11][0].apply(n,arguments)},{_process:134,buffer:19,"core-util-is":21,dup:11,events:26,inherits:40,isarray:87,stream:151,"string_decoder/":153}],91:[function(e,t,n){arguments[4][12][0].apply(n,arguments)},{"./_stream_duplex":88,"core-util-is":21,dup:12,inherits:40}],92:[function(e,t,n){arguments[4][13][0].apply(n,arguments)},{"./_stream_duplex":88,_process:134,buffer:19,"core-util-is":21,dup:13,inherits:40,stream:151}],93:[function(e,t,n){arguments[4][14][0].apply(n,arguments)},{"./lib/_stream_duplex.js":88,"./lib/_stream_passthrough.js":89,"./lib/_stream_readable.js":90,"./lib/_stream_transform.js":91,"./lib/_stream_writable.js":92,_process:134,dup:14,stream:151}],94:[function(e,t,n){arguments[4][4][0].apply(n,arguments)},{dup:4}],95:[function(e,t,n){t.exports={name:"levelup",description:"Fast & simple storage - a Node.js-style LevelDB wrapper",version:"0.18.6",contributors:["Rod Vagg <r@va.gg> (https://github.com/rvagg)","John Chesley <john@chesl.es> (https://github.com/chesles/)","Jake Verbaten <raynos2@gmail.com> (https://github.com/raynos)","Dominic Tarr <dominic.tarr@gmail.com> (https://github.com/dominictarr)","Max Ogden <max@maxogden.com> (https://github.com/maxogden)","Lars-Magnus Skog <lars.magnus.skog@gmail.com> (https://github.com/ralphtheninja)","David Bjrklund <david.bjorklund@gmail.com> (https://github.com/kesla)","Julian Gruber <julian@juliangruber.com> (https://github.com/juliangruber)","Paolo Fragomeni <paolo@async.ly> (https://github.com/hij1nx)","Anton Whalley <anton.whalley@nearform.com> (https://github.com/No9)","Matteo Collina <matteo.collina@gmail.com> (https://github.com/mcollina)","Pedro Teixeira <pedro.teixeira@gmail.com> (https://github.com/pgte)","James Halliday <mail@substack.net> (https://github.com/substack)"],repository:{type:"git",url:"https://github.com/rvagg/node-levelup.git"},homepage:"https://github.com/rvagg/node-levelup",keywords:["leveldb","stream","database","db","store","storage","json"],main:"lib/levelup.js",dependencies:{bl:"~0.8.1","deferred-leveldown":"~0.2.0",errno:"~0.1.1",prr:"~0.0.0","readable-stream":"~1.0.26",semver:"~2.3.1",xtend:"~3.0.0"},devDependencies:{leveldown:"~0.10.0",bustermove:"*",tap:"*",referee:"*",rimraf:"*",async:"*",fstream:"*",tar:"*",mkfiletree:"*",readfiletree:"*","slow-stream":">=0.0.4",delayed:"*",boganipsum:"*",du:"*",memdown:"*","msgpack-js":"*"},browser:{leveldown:!1,"leveldown/package":!1,semver:!1},scripts:{test:"tap test/*-test.js --stderr",functionaltests:"node ./test/functional/fstream-test.js && node ./test/functional/binary-data-test.js && node ./test/functional/compat-test.js",alltests:"npm test && npm run-script functionaltests"},license:"MIT"}},{}],96:[function(e,t,n){(function(e){function t(e,t){return Object.hasOwnProperty.call(e,t)}function r(e){return void 0!==e&&""!==e}function t(e,t){return Object.hasOwnProperty.call(e,t)}function i(e,t){return Object.hasOwnProperty.call(e,t)&&t}function o(e){return e}n.compare=function(t,n){if(e.isBuffer(t)){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var o=t[i]-n[i];if(o)return o}return t.length-n.length}return t<n?-1:t>n?1:0};var s=n.lowerBoundKey=function(e){return i(e,"gt")||i(e,"gte")||i(e,"min")||(e.reverse?i(e,"end"):i(e,"start"))||void 0},a=n.lowerBound=function(e,t){var n=s(e);return n?e[n]:t},u=n.lowerBoundInclusive=function(e){return!t(e,"gt")},f=n.upperBoundInclusive=function(e){return!t(e,"lt")},l=n.lowerBoundExclusive=function(e){return!u(e)},c=n.upperBoundExclusive=function(e){return!f(e)},h=n.upperBoundKey=function(e){return i(e,"lt")||i(e,"lte")||i(e,"max")||(e.reverse?i(e,"start"):i(e,"end"))||void 0},d=n.upperBound=function(e,t){var n=h(e);return n?e[n]:t};n.start=function(e,t){return e.reverse?d(e,t):a(e,t)},n.end=function(e,t){return e.reverse?a(e,t):d(e,t)},n.startInclusive=function(e){return e.reverse?f(e):u(e)},n.endInclusive=function(e){return e.reverse?u(e):f(e)},n.toLtgt=function(e,r,i,s,a){r=r||{},i=i||o;var u=arguments.length>3,f=n.lowerBoundKey(e),l=n.upperBoundKey(e);return f?"gt"===f?r.gt=i(e.gt,!1):r.gte=i(e[f],!1):u&&(r.gte=i(s,!1)),l?"lt"===l?r.lt=i(e.lt,!0):r.lte=i(e[l],!0):u&&(r.lte=i(a,!0)),null!=e.reverse&&(r.reverse=!!e.reverse),t(r,"max")&&delete r.max,t(r,"min")&&delete r.min,t(r,"start")&&delete r.start,t(r,"end")&&delete r.end,r},n.contains=function(e,t,i){i=i||n.compare;var o=a(e);if(r(o)&&((u=i(t,o))<0||0===u&&l(e)))return!1;var s=d(e);if(r(s)){var u=i(t,s);if(u>0||0===u&&c(e))return!1}return!0},n.filter=function(e,t){return function(r){return n.contains(e,r,t)}}}).call(this,{isBuffer:e("../is-buffer/index.js")})},{"../is-buffer/index.js":41}],97:[function(e,t,n){t.exports=function(e,t){return parseInt(e.toString(),t||8)}},{}],98:[function(e,t,n){function r(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}var o=e("wrappy");t.exports=o(r),t.exports.strict=o(i),r.proto=r(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return r(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},{wrappy:160}],99:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],100:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--s);i%=65521,o%=65521}return i|o<<16|0}},{}],101:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],102:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],103:[function(e,t,n){"use strict";function r(e,t){return e.msg=A[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function s(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(x.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function a(e,t){S._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,s(e.strm)}function u(e,t){e.pending_buf[e.pending++]=t}function f(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,x.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=T(e.adler,t,i,n):2===e.state.wrap&&(e.adler=R(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function c(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-re?e.strstart-(e.w_size-re):0,f=e.window,l=e.w_mask,c=e.prev,h=e.strstart+ne,d=f[o+s-1],p=f[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,f[n+s]===p&&f[n+s-1]===d&&f[n]===f[o]&&f[++n]===f[o+1]){o+=2,n++;do{}while(f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&f[++o]===f[++n]&&o<h);if(r=ne-(h-o),o=h-ne,r>s){if(e.match_start=t,s=r,r>=a)break;d=f[o+s-1],p=f[o+s]}}}while((t=c[t&l])>u&&0!=--i);return s<=e.lookahead?s:e.lookahead}function h(e){var t,n,r,i,o,s=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=s+(s-re)){x.arraySet(e.window,e.window,s,s,0),e.match_start-=s,e.strstart-=s,e.block_start-=s,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=s?r-s:0}while(--n);t=n=s;do{r=e.prev[--t],e.prev[t]=r>=s?r-s:0}while(--n);i+=s}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=te)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+te-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<te)););}while(e.lookahead<re&&0!==e.strm.avail_in)}function d(e,t){for(var n,r;;){if(e.lookahead<re){if(h(e),e.lookahead<re&&t===I)return he;if(0===e.lookahead)break}if(n=0,e.lookahead>=te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-re&&(e.match_length=c(e,n)),e.match_length>=te)if(r=S._tr_tally(e,e.strstart-e.match_start,e.match_length-te),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=te){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(a(e,!1),0===e.strm.avail_out))return he}return e.insert=e.strstart<te-1?e.strstart:te-1,t===B?(a(e,!0),0===e.strm.avail_out?pe:ge):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?he:de}function p(e,t){for(var n,r,i;;){if(e.lookahead<re){if(h(e),e.lookahead<re&&t===I)return he;if(0===e.lookahead)break}if(n=0,e.lookahead>=te&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=te-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-re&&(e.match_length=c(e,n),e.match_length<=5&&(e.strategy===z||e.match_length===te&&e.strstart-e.match_start>4096)&&(e.match_length=te-1)),e.prev_length>=te&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-te,r=S._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-te),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+te-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=te-1,e.strstart++,r&&(a(e,!1),0===e.strm.avail_out))return he}else if(e.match_available){if((r=S._tr_tally(e,0,e.window[e.strstart-1]))&&a(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return he}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=S._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<te-1?e.strstart:te-1,t===B?(a(e,!0),0===e.strm.avail_out?pe:ge):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?he:de}function g(e,t){for(var n,r,i,o,s=e.window;;){if(e.lookahead<=ne){if(h(e),e.lookahead<=ne&&t===I)return he;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=te&&e.strstart>0&&(i=e.strstart-1,(r=s[i])===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+ne;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=ne-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=te?(n=S._tr_tally(e,1,e.match_length-te),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(a(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===B?(a(e,!0),0===e.strm.avail_out?pe:ge):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?he:de}function b(e,t){for(var n;;){if(0===e.lookahead&&(h(e),0===e.lookahead)){if(t===I)return he;break}if(e.match_length=0,n=S._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(a(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===B?(a(e,!0),0===e.strm.avail_out?pe:ge):e.last_lit&&(a(e,!1),0===e.strm.avail_out)?he:de}function _(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function y(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=k[e.level].max_lazy,e.good_match=k[e.level].good_length,e.nice_match=k[e.level].nice_length,e.max_chain_length=k[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=te-1,e.match_available=0,e.ins_h=0}function m(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(2*Q),this.dyn_dtree=new x.Buf16(2*(2*J+1)),this.bl_tree=new x.Buf16(2*(2*$+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(ee+1),this.heap=new x.Buf16(2*X+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*X+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Y,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?oe:le,e.adler=2===t.wrap?0:1,t.last_flush=I,S._tr_init(t),j):r(e,C)}function w(e){var t=v(e);return t===j&&y(e.state),t}function E(e,t,n,i,o,s){if(!e)return C;var a=1;if(t===U&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>V||n!==q||i<8||i>15||t<0||t>9||s<0||s>H)return r(e,C);8===i&&(i=9);var u=new m;return e.state=u,u.strm=e,u.wrap=a,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+te-1)/te),u.window=new x.Buf8(2*u.w_size),u.head=new x.Buf16(u.hash_size),u.prev=new x.Buf16(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new x.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=s,u.method=n,w(e)}var k,x=e("../utils/common"),S=e("./trees"),T=e("./adler32"),R=e("./crc32"),A=e("./messages"),I=0,O=1,L=3,B=4,N=5,j=0,D=1,C=-2,M=-3,P=-5,U=-1,z=1,F=2,W=3,H=4,Z=0,Y=2,q=8,V=9,K=15,G=8,X=286,J=30,$=19,Q=2*X+1,ee=15,te=3,ne=258,re=ne+te+1,ie=32,oe=42,se=69,ae=73,ue=91,fe=103,le=113,ce=666,he=1,de=2,pe=3,ge=4,be=3;k=[new _(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(h(e),0===e.lookahead&&t===I)return he;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,a(e,!1),0===e.strm.avail_out))return he;if(e.strstart-e.block_start>=e.w_size-re&&(a(e,!1),0===e.strm.avail_out))return he}return e.insert=0,t===B?(a(e,!0),0===e.strm.avail_out?pe:ge):(e.strstart>e.block_start&&(a(e,!1),e.strm.avail_out),he)}),new _(4,4,8,4,d),new _(4,5,16,8,d),new _(4,6,32,32,d),new _(4,4,16,16,p),new _(8,16,32,32,p),new _(8,16,128,128,p),new _(8,32,128,256,p),new _(32,128,258,1024,p),new _(32,258,258,4096,p)],n.deflateInit=function(e,t){return E(e,t,q,K,G,Z)},n.deflateInit2=E,n.deflateReset=w,n.deflateResetKeep=v,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?C:(e.state.gzhead=t,j):C},n.deflate=function(e,t){var n,a,l,c;if(!e||!e.state||t>N||t<0)return e?r(e,C):C;if(a=e.state,!e.output||!e.input&&0!==e.avail_in||a.status===ce&&t!==B)return r(e,0===e.avail_out?P:C);if(a.strm=e,n=a.last_flush,a.last_flush=t,a.status===oe)if(2===a.wrap)e.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=F||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(e.adler=R(e.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=se):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=F||a.level<2?4:0),u(a,be),a.status=le);else{var h=q+(a.w_bits-8<<4)<<8;h|=(a.strategy>=F||a.level<2?0:a.level<6?1:6===a.level?2:3)<<6,0!==a.strstart&&(h|=ie),h+=31-h%31,a.status=le,f(a,h),0!==a.strstart&&(f(a,e.adler>>>16),f(a,65535&e.adler)),e.adler=1}if(a.status===se)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ae)}else a.status=ae;if(a.status===ae)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.gzindex=0,a.status=ue)}else a.status=ue;if(a.status===ue)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),s(e),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(e.adler=R(e.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.status=fe)}else a.status=fe;if(a.status===fe&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(e),a.pending+2<=a.pending_buf_size&&(u(a,255&e.adler),u(a,e.adler>>8&255),e.adler=0,a.status=le)):a.status=le),0!==a.pending){if(s(e),0===e.avail_out)return a.last_flush=-1,j}else if(0===e.avail_in&&i(t)<=i(n)&&t!==B)return r(e,P);if(a.status===ce&&0!==e.avail_in)return r(e,P);if(0!==e.avail_in||0!==a.lookahead||t!==I&&a.status!==ce){var d=a.strategy===F?b(a,t):a.strategy===W?g(a,t):k[a.level].func(a,t);if(d!==pe&&d!==ge||(a.status=ce),d===he||d===pe)return 0===e.avail_out&&(a.last_flush=-1),j;if(d===de&&(t===O?S._tr_align(a):t!==N&&(S._tr_stored_block(a,0,0,!1),t===L&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(e),0===e.avail_out))return a.last_flush=-1,j}return t!==B?j:a.wrap<=0?D:(2===a.wrap?(u(a,255&e.adler),u(a,e.adler>>8&255),u(a,e.adler>>16&255),u(a,e.adler>>24&255),u(a,255&e.total_in),u(a,e.total_in>>8&255),u(a,e.total_in>>16&255),u(a,e.total_in>>24&255)):(f(a,e.adler>>>16),f(a,65535&e.adler)),s(e),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?j:D)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==oe&&t!==se&&t!==ae&&t!==ue&&t!==fe&&t!==le&&t!==ce?r(e,C):(e.state=null,t===le?r(e,M):j):C},n.deflateSetDictionary=function(e,t){var n,r,i,s,a,u,f,l,c=t.length;if(!e||!e.state)return C;if(n=e.state,2===(s=n.wrap)||1===s&&n.status!==oe||n.lookahead)return C;for(1===s&&(e.adler=T(e.adler,t,c,0)),n.wrap=0,c>=n.w_size&&(0===s&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new x.Buf8(n.w_size),x.arraySet(l,t,c-n.w_size,n.w_size,0),t=l,c=n.w_size),a=e.avail_in,u=e.next_in,f=e.input,e.avail_in=c,e.next_in=0,e.input=t,h(n);n.lookahead>=te;){r=n.strstart,i=n.lookahead-(te-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+te-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=te-1,h(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=te-1,n.match_available=0,e.next_in=u,e.input=f,e.avail_in=a,n.wrap=s,j},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":99,"./adler32":100,"./crc32":102,"./messages":107,"./trees":108}],104:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,s,a,u,f,l,c,h,d,p,g,b,_,y,m,v,w,E,k,x,S,T;n=e.state,r=e.next_in,S=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),u=n.dmax,f=n.wsize,l=n.whave,c=n.wnext,h=n.window,d=n.hold,p=n.bits,g=n.lencode,b=n.distcode,_=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),m=g[d&_];t:for(;;){if(v=m>>>24,d>>>=v,p-=v,0===(v=m>>>16&255))T[o++]=65535&m;else{if(!(16&v)){if(0==(64&v)){m=g[(65535&m)+(d&(1<<v)-1)];continue t}if(32&v){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&m,(v&=15)&&(p<v&&(d+=S[r++]<<p,p+=8),w+=d&(1<<v)-1,d>>>=v,p-=v),p<15&&(d+=S[r++]<<p,p+=8,d+=S[r++]<<p,p+=8),m=b[d&y];n:for(;;){if(v=m>>>24,d>>>=v,p-=v,!(16&(v=m>>>16&255))){if(0==(64&v)){m=b[(65535&m)+(d&(1<<v)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(E=65535&m,v&=15,p<v&&(d+=S[r++]<<p,(p+=8)<v&&(d+=S[r++]<<p,p+=8)),(E+=d&(1<<v)-1)>u){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=v,p-=v,v=o-s,E>v){if((v=E-v)>l&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=0,x=h,0===c){if(k+=f-v,v<w){w-=v;do{T[o++]=h[k++]}while(--v);k=o-E,x=T}}else if(c<v){if(k+=f+c-v,(v-=c)<w){w-=v;do{T[o++]=h[k++]}while(--v);if(k=0,c<w){w-=v=c;do{T[o++]=h[k++]}while(--v);k=o-E,x=T}}}else if(k+=c-v,v<w){w-=v;do{T[o++]=h[k++]}while(--v);k=o-E,x=T}for(;w>2;)T[o++]=x[k++],T[o++]=x[k++],T[o++]=x[k++],w-=3;w&&(T[o++]=x[k++],w>1&&(T[o++]=x[k++]))}else{k=o-E;do{T[o++]=T[k++],T[o++]=T[k++],T[o++]=T[k++],w-=3}while(w>2);w&&(T[o++]=T[k++],w>1&&(T[o++]=T[k++]))}break}}break}}while(r<i&&o<a);r-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=p}},{}],105:[function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new d.Buf16(320),this.work=new d.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=B,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new d.Buf32(le),t.distcode=t.distdyn=new d.Buf32(ce),t.sane=1,t.back=-1,x):R}function s(e){var t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,o(e)):R}function a(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?R:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,s(e))):R}function u(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,(n=a(e,t))!==x&&(e.state=null),n):R}function f(e){if(de){var t;for(c=new d.Buf32(512),h=new d.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(_(m,e.lens,0,288,c,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;_(v,e.lens,0,32,h,0,e.work,{bits:5}),de=!1}e.lencode=c,e.lenbits=9,e.distcode=h,e.distbits=5}function l(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new d.Buf8(o.wsize)),r>=o.wsize?(d.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),d.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(d.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var c,h,d=e("../utils/common"),p=e("./adler32"),g=e("./crc32"),b=e("./inffast"),_=e("./inftrees"),y=0,m=1,v=2,w=4,E=5,k=6,x=0,S=1,T=2,R=-2,A=-3,I=-4,O=-5,L=8,B=1,N=2,j=3,D=4,C=5,M=6,P=7,U=8,z=9,F=10,W=11,H=12,Z=13,Y=14,q=15,V=16,K=17,G=18,X=19,J=20,$=21,Q=22,ee=23,te=24,ne=25,re=26,ie=27,oe=28,se=29,ae=30,ue=31,fe=32,le=852,ce=592,he=15,de=!0;n.inflateReset=s,n.inflateReset2=a,n.inflateResetKeep=o,n.inflateInit=function(e){return u(e,he)},n.inflateInit2=u,n.inflate=function(e,t){var n,i,o,s,a,u,c,h,le,ce,he,de,pe,ge,be,_e,ye,me,ve,we,Ee,ke,xe,Se,Te=0,Re=new d.Buf8(4),Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return R;(n=e.state).mode===H&&(n.mode=Z),a=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,i=e.input,u=e.avail_in,h=n.hold,le=n.bits,ce=u,he=c,ke=x;e:for(;;)switch(n.mode){case B:if(0===n.wrap){n.mode=Z;break}for(;le<16;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(2&n.wrap&&35615===h){n.check=0,Re[0]=255&h,Re[1]=h>>>8&255,n.check=g(n.check,Re,2,0),h=0,le=0,n.mode=N;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",n.mode=ae;break}if((15&h)!==L){e.msg="unknown compression method",n.mode=ae;break}if(h>>>=4,le-=4,Ee=8+(15&h),0===n.wbits)n.wbits=Ee;else if(Ee>n.wbits){e.msg="invalid window size",n.mode=ae;break}n.dmax=1<<Ee,e.adler=n.check=1,n.mode=512&h?F:H,h=0,le=0;break;case N:for(;le<16;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(n.flags=h,(255&n.flags)!==L){e.msg="unknown compression method",n.mode=ae;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=ae;break}n.head&&(n.head.text=h>>8&1),512&n.flags&&(Re[0]=255&h,Re[1]=h>>>8&255,n.check=g(n.check,Re,2,0)),h=0,le=0,n.mode=j;case j:for(;le<32;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.head&&(n.head.time=h),512&n.flags&&(Re[0]=255&h,Re[1]=h>>>8&255,Re[2]=h>>>16&255,Re[3]=h>>>24&255,n.check=g(n.check,Re,4,0)),h=0,le=0,n.mode=D;case D:for(;le<16;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.head&&(n.head.xflags=255&h,n.head.os=h>>8),512&n.flags&&(Re[0]=255&h,Re[1]=h>>>8&255,n.check=g(n.check,Re,2,0)),h=0,le=0,n.mode=C;case C:if(1024&n.flags){for(;le<16;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.length=h,n.head&&(n.head.extra_len=h),512&n.flags&&(Re[0]=255&h,Re[1]=h>>>8&255,n.check=g(n.check,Re,2,0)),h=0,le=0}else n.head&&(n.head.extra=null);n.mode=M;case M:if(1024&n.flags&&((de=n.length)>u&&(de=u),de&&(n.head&&(Ee=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),d.arraySet(n.head.extra,i,s,de,Ee)),512&n.flags&&(n.check=g(n.check,i,de,s)),u-=de,s+=de,n.length-=de),n.length))break e;n.length=0,n.mode=P;case P:if(2048&n.flags){if(0===u)break e;de=0;do{Ee=i[s+de++],n.head&&Ee&&n.length<65536&&(n.head.name+=String.fromCharCode(Ee))}while(Ee&&de<u);if(512&n.flags&&(n.check=g(n.check,i,de,s)),u-=de,s+=de,Ee)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=U;case U:if(4096&n.flags){if(0===u)break e;de=0;do{Ee=i[s+de++],n.head&&Ee&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ee))}while(Ee&&de<u);if(512&n.flags&&(n.check=g(n.check,i,de,s)),u-=de,s+=de,Ee)break e}else n.head&&(n.head.comment=null);n.mode=z;case z:if(512&n.flags){for(;le<16;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(h!==(65535&n.check)){e.msg="header crc mismatch",n.mode=ae;break}h=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=H;break;case F:for(;le<32;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}e.adler=n.check=r(h),h=0,le=0,n.mode=W;case W:if(0===n.havedict)return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=u,n.hold=h,n.bits=le,T;e.adler=n.check=1,n.mode=H;case H:if(t===E||t===k)break e;case Z:if(n.last){h>>>=7&le,le-=7&le,n.mode=ie;break}for(;le<3;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}switch(n.last=1&h,h>>>=1,le-=1,3&h){case 0:n.mode=Y;break;case 1:if(f(n),n.mode=J,t===k){h>>>=2,le-=2;break e}break;case 2:n.mode=K;break;case 3:e.msg="invalid block type",n.mode=ae}h>>>=2,le-=2;break;case Y:for(h>>>=7&le,le-=7&le;le<32;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",n.mode=ae;break}if(n.length=65535&h,h=0,le=0,n.mode=q,t===k)break e;case q:n.mode=V;case V:if(de=n.length){if(de>u&&(de=u),de>c&&(de=c),0===de)break e;d.arraySet(o,i,s,de,a),u-=de,s+=de,c-=de,a+=de,n.length-=de;break}n.mode=H;break;case K:for(;le<14;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(n.nlen=257+(31&h),h>>>=5,le-=5,n.ndist=1+(31&h),h>>>=5,le-=5,n.ncode=4+(15&h),h>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=ae;break}n.have=0,n.mode=G;case G:for(;n.have<n.ncode;){for(;le<3;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.lens[Ae[n.have++]]=7&h,h>>>=3,le-=3}for(;n.have<19;)n.lens[Ae[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xe={bits:n.lenbits},ke=_(y,n.lens,0,19,n.lencode,0,n.work,xe),n.lenbits=xe.bits,ke){e.msg="invalid code lengths set",n.mode=ae;break}n.have=0,n.mode=X;case X:for(;n.have<n.nlen+n.ndist;){for(;Te=n.lencode[h&(1<<n.lenbits)-1],be=Te>>>24,_e=Te>>>16&255,ye=65535&Te,!(be<=le);){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(ye<16)h>>>=be,le-=be,n.lens[n.have++]=ye;else{if(16===ye){for(Se=be+2;le<Se;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(h>>>=be,le-=be,0===n.have){e.msg="invalid bit length repeat",n.mode=ae;break}Ee=n.lens[n.have-1],de=3+(3&h),h>>>=2,le-=2}else if(17===ye){for(Se=be+3;le<Se;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}le-=be,Ee=0,de=3+(7&(h>>>=be)),h>>>=3,le-=3}else{for(Se=be+7;le<Se;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}le-=be,Ee=0,de=11+(127&(h>>>=be)),h>>>=7,le-=7}if(n.have+de>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=ae;break}for(;de--;)n.lens[n.have++]=Ee}}if(n.mode===ae)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=ae;break}if(n.lenbits=9,xe={bits:n.lenbits},ke=_(m,n.lens,0,n.nlen,n.lencode,0,n.work,xe),n.lenbits=xe.bits,ke){e.msg="invalid literal/lengths set",n.mode=ae;break}if(n.distbits=6,n.distcode=n.distdyn,xe={bits:n.distbits},ke=_(v,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xe),n.distbits=xe.bits,ke){e.msg="invalid distances set",n.mode=ae;break}if(n.mode=J,t===k)break e;case J:n.mode=$;case $:if(u>=6&&c>=258){e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=u,n.hold=h,n.bits=le,b(e,he),a=e.next_out,o=e.output,c=e.avail_out,s=e.next_in,i=e.input,u=e.avail_in,h=n.hold,le=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;Te=n.lencode[h&(1<<n.lenbits)-1],be=Te>>>24,_e=Te>>>16&255,ye=65535&Te,!(be<=le);){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(_e&&0==(240&_e)){for(me=be,ve=_e,we=ye;Te=n.lencode[we+((h&(1<<me+ve)-1)>>me)],be=Te>>>24,_e=Te>>>16&255,ye=65535&Te,!(me+be<=le);){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}h>>>=me,le-=me,n.back+=me}if(h>>>=be,le-=be,n.back+=be,n.length=ye,0===_e){n.mode=re;break}if(32&_e){n.back=-1,n.mode=H;break}if(64&_e){e.msg="invalid literal/length code",n.mode=ae;break}n.extra=15&_e,n.mode=Q;case Q:if(n.extra){for(Se=n.extra;le<Se;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=ee;case ee:for(;Te=n.distcode[h&(1<<n.distbits)-1],be=Te>>>24,_e=Te>>>16&255,ye=65535&Te,!(be<=le);){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(0==(240&_e)){for(me=be,ve=_e,we=ye;Te=n.distcode[we+((h&(1<<me+ve)-1)>>me)],be=Te>>>24,_e=Te>>>16&255,ye=65535&Te,!(me+be<=le);){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}h>>>=me,le-=me,n.back+=me}if(h>>>=be,le-=be,n.back+=be,64&_e){e.msg="invalid distance code",n.mode=ae;break}n.offset=ye,n.extra=15&_e,n.mode=te;case te:if(n.extra){for(Se=n.extra;le<Se;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=ae;break}n.mode=ne;case ne:if(0===c)break e;if(de=he-c,n.offset>de){if((de=n.offset-de)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=ae;break}de>n.wnext?(de-=n.wnext,pe=n.wsize-de):pe=n.wnext-de,de>n.length&&(de=n.length),ge=n.window}else ge=o,pe=a-n.offset,de=n.length;de>c&&(de=c),c-=de,n.length-=de;do{o[a++]=ge[pe++]}while(--de);0===n.length&&(n.mode=$);break;case re:if(0===c)break e;o[a++]=n.length,c--,n.mode=$;break;case ie:if(n.wrap){for(;le<32;){if(0===u)break e;u--,h|=i[s++]<<le,le+=8}if(he-=c,e.total_out+=he,n.total+=he,he&&(e.adler=n.check=n.flags?g(n.check,o,he,a-he):p(n.check,o,he,a-he)),he=c,(n.flags?h:r(h))!==n.check){e.msg="incorrect data check",n.mode=ae;break}h=0,le=0}n.mode=oe;case oe:if(n.wrap&&n.flags){for(;le<32;){if(0===u)break e;u--,h+=i[s++]<<le,le+=8}if(h!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=ae;break}h=0,le=0}n.mode=se;case se:ke=S;break e;case ae:ke=A;break e;case ue:return I;case fe:default:return R}return e.next_out=a,e.avail_out=c,e.next_in=s,e.avail_in=u,n.hold=h,n.bits=le,(n.wsize||he!==e.avail_out&&n.mode<ae&&(n.mode<ie||t!==w))&&l(e,e.output,e.next_out,he-e.avail_out)?(n.mode=ue,I):(ce-=e.avail_in,he-=e.avail_out,e.total_in+=ce,e.total_out+=he,n.total+=he,n.wrap&&he&&(e.adler=n.check=n.flags?g(n.check,o,he,e.next_out-he):p(n.check,o,he,e.next_out-he)),e.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===J||n.mode===q?256:0),(0===ce&&0===he||t===w)&&ke===x&&(ke=O),ke)},n.inflateEnd=function(e){if(!e||!e.state)return R;var t=e.state;return t.window&&(t.window=null),e.state=null,x},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?R:(n.head=t,t.done=!1,x):R},n.inflateSetDictionary=function(e,t){var n,r,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==W?R:n.mode===W&&(r=1,(r=p(r,t,i,0))!==n.check)?A:l(e,t,i,i)?(n.mode=ue,I):(n.havedict=1,x):R},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":99,"./adler32":100,"./crc32":102,"./inffast":104,"./inftrees":106}],106:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,u,f,l,c,h){var d,p,g,b,_,y,m,v,w,E=h.bits,k=0,x=0,S=0,T=0,R=0,A=0,I=0,O=0,L=0,B=0,N=null,j=0,D=new r.Buf16(16),C=new r.Buf16(16),M=null,P=0;for(k=0;k<=15;k++)D[k]=0;for(x=0;x<u;x++)D[t[n+x]]++;for(R=E,T=15;T>=1&&0===D[T];T--);if(R>T&&(R=T),0===T)return f[l++]=20971520,f[l++]=20971520,h.bits=1,0;for(S=1;S<T&&0===D[S];S++);for(R<S&&(R=S),O=1,k=1;k<=15;k++)if(O<<=1,(O-=D[k])<0)return-1;if(O>0&&(0===e||1!==T))return-1;for(C[1]=0,k=1;k<15;k++)C[k+1]=C[k]+D[k];for(x=0;x<u;x++)0!==t[n+x]&&(c[C[t[n+x]]++]=x);if(0===e?(N=M=c,y=19):1===e?(N=i,j-=257,M=o,P-=257,y=256):(N=s,M=a,y=-1),B=0,x=0,k=S,_=l,A=R,I=0,g=-1,L=1<<R,b=L-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){0,m=k-I,c[x]<y?(v=0,w=c[x]):c[x]>y?(v=M[P+c[x]],w=N[j+c[x]]):(v=96,w=0),d=1<<k-I,S=p=1<<A;do{f[_+(B>>I)+(p-=d)]=m<<24|v<<16|w|0}while(0!==p);for(d=1<<k-1;B&d;)d>>=1;if(0!==d?(B&=d-1,B+=d):B=0,x++,0==--D[k]){if(k===T)break;k=t[n+c[x]]}if(k>R&&(B&b)!==g){for(0===I&&(I=R),_+=S,O=1<<(A=k-I);A+I<T&&!((O-=D[A+I])<=0);)A++,O<<=1;if(L+=1<<A,1===e&&L>852||2===e&&L>592)return 1;f[g=B&b]=R<<24|A<<16|_-l|0}}return 0!==B&&(f[_+B]=k-I<<24|64<<16|0),h.bits=R,0}},{"../utils/common":99}],107:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],108:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function s(e){return e<256?te[e]:te[256+(e>>>7)]}function a(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function u(e,t,n){e.bi_valid>H-n?(e.bi_buf|=t<<e.bi_valid&65535,a(e,e.bi_buf),e.bi_buf=t>>H-e.bi_valid,e.bi_valid+=n-H):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function f(e,t,n){u(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function c(e){16===e.bi_valid?(a(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function h(e,t){var n,r,i,o,s,a,u=t.dyn_tree,f=t.max_code,l=t.stat_desc.static_tree,c=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=W;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<F;n++)(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,g++),u[2*r+1]=o,r>f||(e.bl_count[o]++,s=0,r>=d&&(s=h[r-d]),a=u[2*r],e.opt_len+=a*(o+s),c&&(e.static_len+=a*(l[2*r+1]+s)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>f||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}function d(e,t,n){var r,i,o=new Array(W+1),s=0;for(r=1;r<=W;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=l(o[a]++,a))}}function p(){var e,t,n,r,o,s=new Array(W+1);for(n=0,r=0;r<C-1;r++)for(re[r]=n,e=0;e<1<<G[r];e++)ne[n++]=r;for(ne[n-1]=r,o=0,r=0;r<16;r++)for(ie[r]=o,e=0;e<1<<X[r];e++)te[o++]=r;for(o>>=7;r<U;r++)for(ie[r]=o<<7,e=0;e<1<<X[r]-7;e++)te[256+o++]=r;for(t=0;t<=W;t++)s[t]=0;for(e=0;e<=143;)Q[2*e+1]=8,e++,s[8]++;for(;e<=255;)Q[2*e+1]=9,e++,s[9]++;for(;e<=279;)Q[2*e+1]=7,e++,s[7]++;for(;e<=287;)Q[2*e+1]=8,e++,s[8]++;for(d(Q,P+1,s),e=0;e<U;e++)ee[2*e+1]=5,ee[2*e]=l(e,5);oe=new i(Q,G,M+1,P,W),se=new i(ee,X,0,U,W),ae=new i(new Array(0),J,0,z,Z)}function g(e){var t;for(t=0;t<P;t++)e.dyn_ltree[2*t]=0;for(t=0;t<U;t++)e.dyn_dtree[2*t]=0;for(t=0;t<z;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function b(e){e.bi_valid>8?a(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function _(e,t,n,r){b(e),r&&(a(e,n),a(e,~n)),A.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function y(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function m(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&y(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!y(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function v(e,t,n){var r,i,o,a,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?f(e,i,t):(f(e,(o=ne[i])+M+1,t),0!==(a=G[o])&&u(e,i-=re[o],a),f(e,o=s(--r),n),0!==(a=X[o])&&u(e,r-=ie[o],a))}while(l<e.last_lit);f(e,Y,t)}function w(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=F,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=f=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=f,n=e.heap_len>>1;n>=1;n--)m(e,o,n);i=u;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],m(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,m(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],h(e,t),d(o,f,e.bl_count)}function E(e,t,n){var r,i,o=-1,s=t[1],a=0,u=7,f=4;for(0===s&&(u=138,f=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<u&&i===s||(a<f?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*q]++):a<=10?e.bl_tree[2*V]++:e.bl_tree[2*K]++,a=0,o=i,0===s?(u=138,f=3):i===s?(u=6,f=3):(u=7,f=4))}function k(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)do{f(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(f(e,i,e.bl_tree),a--),f(e,q,e.bl_tree),u(e,a-3,2)):a<=10?(f(e,V,e.bl_tree),u(e,a-3,3)):(f(e,K,e.bl_tree),u(e,a-11,7));a=0,o=i,0===s?(l=138,c=3):i===s?(l=6,c=3):(l=7,c=4)}}function x(e){var t;for(E(e,e.dyn_ltree,e.l_desc.max_code),E(e,e.dyn_dtree,e.d_desc.max_code),w(e,e.bl_desc),t=z-1;t>=3&&0===e.bl_tree[2*$[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function S(e,t,n,r){var i;for(u(e,t-257,5),u(e,n-1,5),u(e,r-4,4),i=0;i<r;i++)u(e,e.bl_tree[2*$[i]+1],3);k(e,e.dyn_ltree,t-1),k(e,e.dyn_dtree,n-1)}function T(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return O;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<M;t++)if(0!==e.dyn_ltree[2*t])return L;return O}function R(e,t,n,r){u(e,(N<<1)+(r?1:0),3),_(e,t,n,!0)}var A=e("../utils/common"),I=4,O=0,L=1,B=2,N=0,j=1,D=2,C=29,M=256,P=M+1+C,U=30,z=19,F=2*P+1,W=15,H=16,Z=7,Y=256,q=16,V=17,K=18,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],X=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=new Array(2*(P+2));r(Q);var ee=new Array(2*U);r(ee);var te=new Array(512);r(te);var ne=new Array(256);r(ne);var re=new Array(C);r(re);var ie=new Array(U);r(ie);var oe,se,ae,ue=!1;n._tr_init=function(e){ue||(p(),ue=!0),e.l_desc=new o(e.dyn_ltree,oe),e.d_desc=new o(e.dyn_dtree,se),e.bl_desc=new o(e.bl_tree,ae),e.bi_buf=0,e.bi_valid=0,g(e)},n._tr_stored_block=R,n._tr_flush_block=function(e,t,n,r){var i,o,s=0;e.level>0?(e.strm.data_type===B&&(e.strm.data_type=T(e)),w(e,e.l_desc),w(e,e.d_desc),s=x(e),i=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?R(e,t,n,r):e.strategy===I||o===i?(u(e,(j<<1)+(r?1:0),3),v(e,Q,ee)):(u(e,(D<<1)+(r?1:0),3),S(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),v(e,e.dyn_ltree,e.dyn_dtree)),g(e),r&&b(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ne[n]+M+1)]++,e.dyn_dtree[2*s(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){u(e,j<<1,3),f(e,Y,Q),c(e)}},{"../utils/common":99}],109:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],110:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===s(e,-1);return(e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),s=Math.min(i.length,o.length),a=s,u=0;u<s;u++)if(i[u]!==o[u]){a=u;break}for(var f=[],u=a;u<i.length;u++)f.push("..");return(f=f.concat(o.slice(a))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var s="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:134}],111:[function(e,t,n){(function(t){"use strict";function r(e,t){function n(){if(i===e.length)throw new Error("Ran out of data");var n=e[i];i++;var o,s,a,u,f,l,c,h;switch(t){default:throw new Error("unrecognised depth");case 16:c=e[i],i++,r.push((n<<8)+c);break;case 4:c=15&n,h=n>>4,r.push(h,c);break;case 2:f=3&n,l=n>>2&3,c=n>>4&3,h=n>>6&3,r.push(h,c,l,f);break;case 1:o=1&n,s=n>>1&1,a=n>>2&1,u=n>>3&1,f=n>>4&1,l=n>>5&1,c=n>>6&1,h=n>>7&1,r.push(h,c,l,f,u,a,s,o)}}var r=[],i=0;return{get:function(e){for(;r.length<e;)n();var t=r.slice(0,e);return r=r.slice(e),t},resetAfterLine:function(){r.length=0},end:function(){if(i!==e.length)throw new Error("extra data found")}}}function i(e,t,n,r,i,o){for(var s=e.width,u=e.height,f=e.index,l=0;l<u;l++)for(var c=0;c<s;c++){for(var h=n(c,l,f),d=0;d<4;d++){var p=a[r][d];if(255===p)t[h+d]=255;else{var g=p+o;if(g===i.length)throw new Error("Ran out of data");t[h+d]=i[g]}}o+=r}return o}function o(e,t,n,r,i,o){for(var s=e.width,u=e.height,f=e.index,l=0;l<u;l++){for(var c=0;c<s;c++)for(var h=i.get(r),d=n(c,l,f),p=0;p<4;p++){var g=a[r][p];t[d+p]=255!==g?h[g]:o}i.resetAfterLine()}}var s=e("./interlace"),a={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};n.dataToBitMap=function(e,n){var a=n.width,u=n.height,f=n.depth,l=n.bpp,c=n.interlace;if(8!==f)var h=r(e,f);var d;d=f<=8?new t(a*u*4):new Uint16Array(a*u*4);var p,g,b=Math.pow(2,f)-1,_=0;if(c)p=s.getImagePasses(a,u),g=s.getInterlaceIterator(a,u);else{var y=0;g=function(){var e=y;return y+=4,e},p=[{width:a,height:u}]}for(var m=0;m<p.length;m++)8===f?_=i(p[m],d,g,l,e,_):o(p[m],d,g,l,h,b);if(8===f){if(_!==e.length)throw new Error("extra data found")}else h.end();return d}}).call(this,e("buffer").Buffer)},{"./interlace":121,buffer:19}],112:[function(e,t,n){(function(n){"use strict";var r=e("./constants");t.exports=function(e,t,i,o){var s=-1!==[r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(o.colorType);if(o.colorType===o.inputColorType){var a=function(){var e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256!==new Int16Array(e)[0]}();if(8===o.bitDepth||16===o.bitDepth&&a)return e}var u=16!==o.bitDepth?e:new Uint16Array(e.buffer),f=255,l=r.COLORTYPE_TO_BPP_MAP[o.inputColorType],c=r.COLORTYPE_TO_BPP_MAP[o.colorType];16===o.bitDepth&&(f=65535,c*=2);var h=new n(t*i*c),d=0,p=0,g=o.bgColor||{};void 0===g.red&&(g.red=f),void 0===g.green&&(g.green=f),void 0===g.blue&&(g.blue=f);for(var b=0;b<i;b++)for(var _=0;_<t;_++){var y=function(e,t){var n,i,a,u=f;switch(o.inputColorType){case r.COLORTYPE_COLOR_ALPHA:u=e[t+3],n=e[t],i=e[t+1],a=e[t+2];break;case r.COLORTYPE_COLOR:n=e[t],i=e[t+1],a=e[t+2];break;case r.COLORTYPE_ALPHA:u=e[t+1],i=n=e[t],a=n;break;case r.COLORTYPE_GRAYSCALE:i=n=e[t],a=n;break;default:throw new Error("input color type:"+o.inputColorType+" is not supported at present")}return o.inputHasAlpha&&(s||(u/=f,n=Math.min(Math.max(Math.round((1-u)*g.red+u*n),0),f),i=Math.min(Math.max(Math.round((1-u)*g.green+u*i),0),f),a=Math.min(Math.max(Math.round((1-u)*g.blue+u*a),0),f))),{red:n,green:i,blue:a,alpha:u}}(u,d);switch(o.colorType){case r.COLORTYPE_COLOR_ALPHA:case r.COLORTYPE_COLOR:8===o.bitDepth?(h[p]=y.red,h[p+1]=y.green,h[p+2]=y.blue,s&&(h[p+3]=y.alpha)):(h.writeUInt16BE(y.red,p),h.writeUInt16BE(y.green,p+2),h.writeUInt16BE(y.blue,p+4),s&&h.writeUInt16BE(y.alpha,p+6));break;case r.COLORTYPE_ALPHA:case r.COLORTYPE_GRAYSCALE:var m=(y.red+y.green+y.blue)/3;8===o.bitDepth?(h[p]=m,s&&(h[p+1]=y.alpha)):(h.writeUInt16BE(m,p),s&&h.writeUInt16BE(y.alpha,p+2))}d+=l,p+=c}return h}}).call(this,e("buffer").Buffer)},{"./constants":114,buffer:19}],113:[function(e,t,n){(function(n,r){"use strict";var i=e("util"),o=e("stream"),s=t.exports=function(){o.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};i.inherits(s,o),s.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t}),n.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},s.prototype.write=function(e,t){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var n;return n=r.isBuffer(e)?e:new r(e,t||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&0===this._reads.length&&(this._paused=!0),this.writable&&!this._paused},s.prototype.end=function(e,t){e&&this.write(e,t),this.writable=!1,this._buffers&&(0===this._buffers.length?this._end():(this._buffers.push(null),this._process()))},s.prototype.destroySoon=s.prototype.end,s.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},s.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},s.prototype._processReadAllowingLess=function(e){this._reads.shift();var t=this._buffers[0];t.length>e.length?(this._buffered-=e.length,this._buffers[0]=t.slice(e.length),e.func.call(this,t.slice(0,e.length))):(this._buffered-=t.length,this._buffers.shift(),e.func.call(this,t))},s.prototype._processRead=function(e){this._reads.shift();for(var t=0,n=0,i=new r(e.length);t<e.length;){var o=this._buffers[n++],s=Math.min(o.length,e.length-t);o.copy(i,t,0,s),t+=s,s!==o.length&&(this._buffers[--n]=o.slice(s))}n>0&&this._buffers.splice(0,n),this._buffered-=e.length,e.func.call(this,i)},s.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var e=this._reads[0];if(e.allowLess)this._processReadAllowingLess(e);else{if(!(this._buffered>=e.length))break;this._processRead(e)}}this._buffers&&this._buffers.length>0&&null===this._buffers[0]&&this._end()}catch(e){this.emit("error",e)}}}).call(this,e("_process"),e("buffer").Buffer)},{_process:134,buffer:19,stream:151,util:159}],114:[function(e,t,n){"use strict";t.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],115:[function(e,t,n){"use strict";var r=[];!function(){for(var e=0;e<256;e++){for(var t=e,n=0;n<8;n++)1&t?t=3988292384^t>>>1:t>>>=1;r[e]=t}}();var i=t.exports=function(){this._crc=-1};i.prototype.write=function(e){for(var t=0;t<e.length;t++)this._crc=r[255&(this._crc^e[t])]^this._crc>>>8;return!0},i.prototype.crc32=function(){return-1^this._crc},i.crc32=function(e){for(var t=-1,n=0;n<e.length;n++)t=r[255&(t^e[n])]^t>>>8;return-1^t}},{}],116:[function(e,t,n){(function(n){"use strict";var r=e("./paeth-predictor"),i={0:function(e,t,n,r,i){e.copy(r,i,t,t+n)},1:function(e,t,n,r,i,o){for(var s=0;s<n;s++){var a=s>=o?e[t+s-o]:0,u=e[t+s]-a;r[i+s]=u}},2:function(e,t,n,r,i){for(var o=0;o<n;o++){var s=t>0?e[t+o-n]:0,a=e[t+o]-s;r[i+o]=a}},3:function(e,t,n,r,i,o){for(var s=0;s<n;s++){var a=s>=o?e[t+s-o]:0,u=t>0?e[t+s-n]:0,f=e[t+s]-(a+u>>1);r[i+s]=f}},4:function(e,t,n,i,o,s){for(var a=0;a<n;a++){var u=a>=s?e[t+a-s]:0,f=t>0?e[t+a-n]:0,l=t>0&&a>=s?e[t+a-(n+s)]:0,c=e[t+a]-r(u,f,l);i[o+a]=c}}},o={0:function(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++)r+=Math.abs(e[o]);return r},1:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var s=o>=r?e[t+o-r]:0,a=e[t+o]-s;i+=Math.abs(a)}return i},2:function(e,t,n){for(var r=0,i=t+n,o=t;o<i;o++){var s=t>0?e[o-n]:0,a=e[o]-s;r+=Math.abs(a)}return r},3:function(e,t,n,r){for(var i=0,o=0;o<n;o++){var s=o>=r?e[t+o-r]:0,a=t>0?e[t+o-n]:0,u=e[t+o]-(s+a>>1);i+=Math.abs(u)}return i},4:function(e,t,n,i){for(var o=0,s=0;s<n;s++){var a=s>=i?e[t+s-i]:0,u=t>0?e[t+s-n]:0,f=t>0&&s>=i?e[t+s-(n+i)]:0,l=e[t+s]-r(a,u,f);o+=Math.abs(l)}return o}};t.exports=function(e,t,r,s,a){var u;if("filterType"in s&&-1!==s.filterType){if("number"!=typeof s.filterType)throw new Error("unrecognised filter types");u=[s.filterType]}else u=[0,1,2,3,4];16===s.bitDepth&&(a*=2);for(var f=t*a,l=0,c=0,h=new n((f+1)*r),d=u[0],p=0;p<r;p++){if(u.length>1)for(var g=1/0,b=0;b<u.length;b++){var _=o[u[b]](e,c,f,a);_<g&&(d=u[b],g=_)}h[l]=d,l++,i[d](e,c,f,h,l,a),l+=f,c+=f}return h}}).call(this,e("buffer").Buffer)},{"./paeth-predictor":125,buffer:19}],117:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("./chunkstream"),o=e("./filter-parse"),s=t.exports=function(e){i.call(this);var t=[],r=this;this._filter=new o(e,{read:this.read.bind(this),write:function(e){t.push(e)},complete:function(){r.emit("complete",n.concat(t))}}),this._filter.start()};r.inherits(s,i)}).call(this,e("buffer").Buffer)},{"./chunkstream":113,"./filter-parse":119,buffer:19,util:159}],118:[function(e,t,n){(function(t){"use strict";var r=e("./sync-reader"),i=e("./filter-parse");n.process=function(e,n){var o=[],s=new r(e);return new i(n,{read:s.read.bind(s),write:function(e){o.push(e)},complete:function(){}}).start(),s.process(),t.concat(o)}}).call(this,e("buffer").Buffer)},{"./filter-parse":119,"./sync-reader":132,buffer:19}],119:[function(e,t,n){(function(n){"use strict";function r(e,t,n){var r=e*t;return 8!==n&&(r=Math.ceil(r/(8/n))),r}var i=e("./interlace"),o=e("./paeth-predictor"),s=t.exports=function(e,t){var n=e.width,o=e.height,s=e.interlace,a=e.bpp,u=e.depth;if(this.read=t.read,this.write=t.write,this.complete=t.complete,this._imageIndex=0,this._images=[],s)for(var f=i.getImagePasses(n,o),l=0;l<f.length;l++)this._images.push({byteWidth:r(f[l].width,a,u),height:f[l].height,lineIndex:0});else this._images.push({byteWidth:r(n,a,u),height:o,lineIndex:0});this._xComparison=8===u?a:16===u?2*a:1};s.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},s.prototype._unFilterType1=function(e,t,n){for(var r=this._xComparison,i=r-1,o=0;o<n;o++){var s=e[1+o],a=o>i?t[o-r]:0;t[o]=s+a}},s.prototype._unFilterType2=function(e,t,n){for(var r=this._lastLine,i=0;i<n;i++){var o=e[1+i],s=r?r[i]:0;t[i]=o+s}},s.prototype._unFilterType3=function(e,t,n){for(var r=this._xComparison,i=r-1,o=this._lastLine,s=0;s<n;s++){var a=e[1+s],u=o?o[s]:0,f=s>i?t[s-r]:0,l=Math.floor((f+u)/2);t[s]=a+l}},s.prototype._unFilterType4=function(e,t,n){for(var r=this._xComparison,i=r-1,s=this._lastLine,a=0;a<n;a++){var u=e[1+a],f=s?s[a]:0,l=a>i?t[a-r]:0,c=a>i&&s?s[a-r]:0,h=o(l,f,c);t[a]=u+h}},s.prototype._reverseFilterLine=function(e){var t,r=e[0],i=this._images[this._imageIndex],o=i.byteWidth;if(0===r)t=e.slice(1,o+1);else switch(t=new n(o),r){case 1:this._unFilterType1(e,t,o);break;case 2:this._unFilterType2(e,t,o);break;case 3:this._unFilterType3(e,t,o);break;case 4:this._unFilterType4(e,t,o);break;default:throw new Error("Unrecognised filter type - "+r)}this.write(t),i.lineIndex++,i.lineIndex>=i.height?(this._lastLine=null,this._imageIndex++,i=this._images[this._imageIndex]):this._lastLine=t,i?this.read(i.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,e("buffer").Buffer)},{"./interlace":121,"./paeth-predictor":125,buffer:19}],120:[function(e,t,n){(function(e){"use strict";function n(e,t,n,r,i){for(var o=0,s=0;s<r;s++)for(var a=0;a<n;a++){var u=i[e[o]];if(!u)throw new Error("index "+e[o]+" not in palette");for(var f=0;f<4;f++)t[o+f]=u[f];o+=4}}function r(e,t,n,r,i){for(var o=0,s=0;s<r;s++)for(var a=0;a<n;a++){var u=!1;if(1===i.length?i[0]===e[o]&&(u=!0):i[0]===e[o]&&i[1]===e[o+1]&&i[2]===e[o+2]&&(u=!0),u)for(var f=0;f<4;f++)t[o+f]=0;o+=4}}function i(e,t,n,r,i){for(var o=Math.pow(2,i)-1,s=0,a=0;a<r;a++)for(var u=0;u<n;u++){for(var f=0;f<4;f++)t[s+f]=Math.floor(255*e[s+f]/o+.5);s+=4}}t.exports=function(t,o){var s=o.depth,a=o.width,u=o.height,f=o.colorType,l=o.transColor,c=o.palette,h=t;return 3===f?n(t,h,a,u,c):(l&&r(t,h,a,u,l),8!==s&&(16===s&&(h=new e(a*u*4)),i(t,h,a,u,s))),h}}).call(this,e("buffer").Buffer)},{buffer:19}],121:[function(e,t,n){"use strict";var r=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];n.getImagePasses=function(e,t){for(var n=[],i=e%8,o=t%8,s=(e-i)/8,a=(t-o)/8,u=0;u<r.length;u++){for(var f=r[u],l=s*f.x.length,c=a*f.y.length,h=0;h<f.x.length&&f.x[h]<i;h++)l++;for(h=0;h<f.y.length&&f.y[h]<o;h++)c++;l>0&&c>0&&n.push({width:l,height:c,index:u})}return n},n.getInterlaceIterator=function(e){return function(t,n,i){var o=t%r[i].x.length,s=(t-o)/r[i].x.length*8+r[i].x[o],a=n%r[i].y.length;return 4*s+((n-a)/r[i].y.length*8+r[i].y[a])*e*4}}},{}],122:[function(e,t,n){(function(n){"use strict";var r=e("util"),i=e("stream"),o=e("./constants"),s=e("./packer"),a=t.exports=function(e){i.call(this);var t=e||{};this._packer=new s(t),this._deflate=this._packer.createDeflate(),this.readable=!0};r.inherits(a,i),a.prototype.pack=function(e,t,r,i){this.emit("data",new n(o.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,r)),i&&this.emit("data",this._packer.packGAMA(i));var s=this._packer.filterData(e,t,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(e){this.emit("data",this._packer.packIDAT(e))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(s)}}).call(this,e("buffer").Buffer)},{"./constants":114,"./packer":124,buffer:19,stream:151,util:159}],123:[function(e,t,n){(function(n){"use strict";var r=e("zlib"),i=e("./constants"),o=e("./packer");t.exports=function(e,t){var s=new o(t||{}),a=[];a.push(new n(i.PNG_SIGNATURE)),a.push(s.packIHDR(e.width,e.height)),e.gamma&&a.push(s.packGAMA(e.gamma));var u=s.filterData(e.data,e.width,e.height),f=r.deflateSync(u,s.getDeflateOptions());if(u=null,!f||!f.length)throw new Error("bad png - invalid compressed data response");return a.push(s.packIDAT(f)),a.push(s.packIEND()),n.concat(a)}}).call(this,e("buffer").Buffer)},{"./constants":114,"./packer":124,buffer:19,zlib:18}],124:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=e("./bitpacker"),s=e("./filter-pack"),a=e("zlib"),u=t.exports=function(e){if(this._options=e,e.deflateChunkSize=e.deflateChunkSize||32768,e.deflateLevel=null!=e.deflateLevel?e.deflateLevel:9,e.deflateStrategy=null!=e.deflateStrategy?e.deflateStrategy:3,e.inputHasAlpha=null==e.inputHasAlpha||e.inputHasAlpha,e.deflateFactory=e.deflateFactory||a.createDeflate,e.bitDepth=e.bitDepth||8,e.colorType="number"==typeof e.colorType?e.colorType:r.COLORTYPE_COLOR_ALPHA,e.inputColorType="number"==typeof e.inputColorType?e.inputColorType:r.COLORTYPE_COLOR_ALPHA,-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.colorType))throw new Error("option color type:"+e.colorType+" is not supported at present");if(-1===[r.COLORTYPE_GRAYSCALE,r.COLORTYPE_COLOR,r.COLORTYPE_COLOR_ALPHA,r.COLORTYPE_ALPHA].indexOf(e.inputColorType))throw new Error("option input color type:"+e.inputColorType+" is not supported at present");if(8!==e.bitDepth&&16!==e.bitDepth)throw new Error("option bit depth:"+e.bitDepth+" is not supported at present")};u.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},u.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},u.prototype.filterData=function(e,t,n){var i=o(e,t,n,this._options),a=r.COLORTYPE_TO_BPP_MAP[this._options.colorType];return s(i,t,n,this._options,a)},u.prototype._packChunk=function(e,t){var r=t?t.length:0,o=new n(r+12);return o.writeUInt32BE(r,0),o.writeUInt32BE(e,4),t&&t.copy(o,8),o.writeInt32BE(i.crc32(o.slice(4,o.length-4)),o.length-4),o},u.prototype.packGAMA=function(e){var t=new n(4);return t.writeUInt32BE(Math.floor(e*r.GAMMA_DIVISION),0),this._packChunk(r.TYPE_gAMA,t)},u.prototype.packIHDR=function(e,t){var i=new n(13);return i.writeUInt32BE(e,0),i.writeUInt32BE(t,4),i[8]=this._options.bitDepth,i[9]=this._options.colorType,i[10]=0,i[11]=0,i[12]=0,this._packChunk(r.TYPE_IHDR,i)},u.prototype.packIDAT=function(e){return this._packChunk(r.TYPE_IDAT,e)},u.prototype.packIEND=function(){return this._packChunk(r.TYPE_IEND,null)}}).call(this,e("buffer").Buffer)},{"./bitpacker":112,"./constants":114,"./crc":115,"./filter-pack":116,buffer:19,zlib:18}],125:[function(e,t,n){"use strict";t.exports=function(e,t,n){var r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),s=Math.abs(r-n);return i<=o&&i<=s?e:o<=s?t:n}},{}],126:[function(e,t,n){"use strict";var r=e("util"),i=e("zlib"),o=e("./chunkstream"),s=e("./filter-parse-async"),a=e("./parser"),u=e("./bitmapper"),f=e("./format-normaliser"),l=t.exports=function(e){o.call(this),this._parser=new a(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};r.inherits(l,o),l.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this.errord=!0},l.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=i.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var t=(1+(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3))*this._bitmapInfo.height,n=Math.max(t,i.Z_MIN_CHUNK);this._inflate=i.createInflate({chunkSize:n});var r=t,o=this.emit.bind(this,"error");this._inflate.on("error",function(e){r&&o(e)}),this._filter.on("complete",this._complete.bind(this));var s=this._filter.write.bind(this._filter);this._inflate.on("data",function(e){r&&(e.length>r&&(e=e.slice(0,r)),r-=e.length,s(e))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},l.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new s(this._bitmapInfo)},l.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},l.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},l.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},l.prototype._complete=function(e){if(!this.errord){try{var t=u.dataToBitMap(e,this._bitmapInfo),n=f(t,this._bitmapInfo);t=null}catch(e){return void this._handleError(e)}this.emit("parsed",n)}}},{"./bitmapper":111,"./chunkstream":113,"./filter-parse-async":117,"./format-normaliser":120,"./parser":128,util:159,zlib:18}],127:[function(e,t,n){(function(n){"use strict";var r=e("zlib"),i=e("./sync-inflate"),o=e("./sync-reader"),s=e("./filter-parse-sync"),a=e("./parser"),u=e("./bitmapper"),f=e("./format-normaliser");t.exports=function(e,t){var l,c,h,d=[],p=new o(e);if(new a(t,{read:p.read.bind(p),error:function(e){l=e},metadata:function(e){c=e},gamma:function(e){h=e},palette:function(e){c.palette=e},transColor:function(e){c.transColor=e},inflateData:function(e){d.push(e)}}).start(),p.process(),l)throw l;var g=n.concat(d);d.length=0;var b;if(c.interlace)b=r.inflateSync(g);else{var _=(1+(c.width*c.bpp*c.depth+7>>3))*c.height;b=i(g,{chunkSize:_,maxLength:_})}if(g=null,!b||!b.length)throw new Error("bad png - invalid inflate data response");var y=s.process(b,c);g=null;var m=u.dataToBitMap(y,c);y=null;var v=f(m,c);return c.data=v,c.gamma=h||0,c}}).call(this,e("buffer").Buffer)},{"./bitmapper":111,"./filter-parse-sync":118,"./format-normaliser":120,"./parser":128,"./sync-inflate":131,"./sync-reader":132,buffer:19,zlib:18}],128:[function(e,t,n){(function(n){"use strict";var r=e("./constants"),i=e("./crc"),o=t.exports=function(e,t){this._options=e,e.checkCRC=!1!==e.checkCRC,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[r.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[r.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[r.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[r.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[r.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[r.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=t.read,this.error=t.error,this.metadata=t.metadata,this.gamma=t.gamma,this.transColor=t.transColor,this.palette=t.palette,this.parsed=t.parsed,this.inflateData=t.inflateData,this.finished=t.finished};o.prototype.start=function(){this.read(r.PNG_SIGNATURE.length,this._parseSignature.bind(this))},o.prototype._parseSignature=function(e){for(var t=r.PNG_SIGNATURE,n=0;n<t.length;n++)if(e[n]!==t[n])return void this.error(new Error("Invalid file signature"));this.read(8,this._parseChunkBegin.bind(this))},o.prototype._parseChunkBegin=function(e){for(var t=e.readUInt32BE(0),o=e.readUInt32BE(4),s="",a=4;a<8;a++)s+=String.fromCharCode(e[a]);var u=Boolean(32&e[4]);if(this._hasIHDR||o===r.TYPE_IHDR){if(this._crc=new i,this._crc.write(new n(s)),this._chunks[o])return this._chunks[o](t);u?this.read(t+4,this._skipChunk.bind(this)):this.error(new Error("Unsupported critical chunk type "+s))}else this.error(new Error("Expected IHDR on beggining"))},o.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},o.prototype._parseChunkEnd=function(e){var t=e.readInt32BE(0),n=this._crc.crc32();this._options.checkCRC&&n!==t?this.error(new Error("Crc error - "+t+" - "+n)):this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},o.prototype._handleIHDR=function(e){this.read(e,this._parseIHDR.bind(this))},o.prototype._parseIHDR=function(e){this._crc.write(e);var t=e.readUInt32BE(0),n=e.readUInt32BE(4),i=e[8],o=e[9],s=e[10],a=e[11],u=e[12];if(8===i||4===i||2===i||1===i||16===i)if(o in r.COLORTYPE_TO_BPP_MAP)if(0===s)if(0===a)if(0===u||1===u){this._colorType=o;var f=r.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:t,height:n,depth:i,interlace:Boolean(u),palette:Boolean(o&r.COLORTYPE_PALETTE),color:Boolean(o&r.COLORTYPE_COLOR),alpha:Boolean(o&r.COLORTYPE_ALPHA),bpp:f,colorType:o}),this._handleChunkEnd()}else this.error(new Error("Unsupported interlace method"));else this.error(new Error("Unsupported filter method"));else this.error(new Error("Unsupported compression method"));else this.error(new Error("Unsupported color type"));else this.error(new Error("Unsupported bit depth "+i))},o.prototype._handlePLTE=function(e){this.read(e,this._parsePLTE.bind(this))},o.prototype._parsePLTE=function(e){this._crc.write(e);for(var t=Math.floor(e.length/3),n=0;n<t;n++)this._palette.push([e[3*n],e[3*n+1],e[3*n+2],255]);this.palette(this._palette),this._handleChunkEnd()},o.prototype._handleTRNS=function(e){this.read(e,this._parseTRNS.bind(this))},o.prototype._parseTRNS=function(e){if(this._crc.write(e),this._colorType===r.COLORTYPE_PALETTE_COLOR){if(0===this._palette.length)return void this.error(new Error("Transparency chunk must be after palette"));if(e.length>this._palette.length)return void this.error(new Error("More transparent colors than palette size"));for(var t=0;t<e.length;t++)this._palette[t][3]=e[t];this.palette(this._palette)}this._colorType===r.COLORTYPE_GRAYSCALE&&this.transColor([e.readUInt16BE(0)]),this._colorType===r.COLORTYPE_COLOR&&this.transColor([e.readUInt16BE(0),e.readUInt16BE(2),e.readUInt16BE(4)]),this._handleChunkEnd()},o.prototype._handleGAMA=function(e){this.read(e,this._parseGAMA.bind(this))},o.prototype._parseGAMA=function(e){this._crc.write(e),this.gamma(e.readUInt32BE(0)/r.GAMMA_DIVISION),this._handleChunkEnd()},o.prototype._handleIDAT=function(e){this.read(-e,this._parseIDAT.bind(this,e))},o.prototype._parseIDAT=function(e,t){if(this._crc.write(t),this._colorType===r.COLORTYPE_PALETTE_COLOR&&0===this._palette.length)throw new Error("Expected palette not found");this.inflateData(t);var n=e-t.length;n>0?this._handleIDAT(n):this._handleChunkEnd()},o.prototype._handleIEND=function(e){this.read(e,this._parseIEND.bind(this))},o.prototype._parseIEND=function(e){this._crc.write(e),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,e("buffer").Buffer)},{"./constants":114,"./crc":115,buffer:19}],129:[function(e,t,n){"use strict";var r=e("./parser-sync"),i=e("./packer-sync");n.read=function(e,t){return r(e,t||{})},n.write=function(e,t){return i(e,t)}},{"./packer-sync":123,"./parser-sync":127}],130:[function(e,t,n){(function(t,r){"use strict";var i=e("util"),o=e("stream"),s=e("./parser-async"),a=e("./packer-async"),u=e("./png-sync"),f=n.PNG=function(e){o.call(this),e=e||{},this.width=0|e.width,this.height=0|e.height,this.data=this.width>0&&this.height>0?new r(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new s(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new a(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};i.inherits(f,o),f.sync=u,f.prototype.pack=function(){return this.data&&this.data.length?(t.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this):(this.emit("error","No data provided"),this)},f.prototype.parse=function(e,t){if(t){var n,r;n=function(e){this.removeListener("error",r),this.data=e,t(null,this)}.bind(this),r=function(e){this.removeListener("parsed",n),t(e,null)}.bind(this),this.once("parsed",n),this.once("error",r)}return this.end(e),this},f.prototype.write=function(e){return this._parser.write(e),!0},f.prototype.end=function(e){this._parser.end(e)},f.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},f.prototype._gamma=function(e){this.gamma=e},f.prototype._handleClose=function(){this._parser.writable||this._packer.readable||this.emit("close")},f.bitblt=function(e,t,n,r,i,o,s,a){if(n|=0,r|=0,i|=0,o|=0,s|=0,a|=0,n>e.width||r>e.height||n+i>e.width||r+o>e.height)throw new Error("bitblt reading outside image");if(s>t.width||a>t.height||s+i>t.width||a+o>t.height)throw new Error("bitblt writing outside image");for(var u=0;u<o;u++)e.data.copy(t.data,(a+u)*t.width+s<<2,(r+u)*e.width+n<<2,(r+u)*e.width+n+i<<2)},f.prototype.bitblt=function(e,t,n,r,i,o,s){return f.bitblt(this,e,t,n,r,i,o,s),this},f.adjustGamma=function(e){if(e.gamma){for(var t=0;t<e.height;t++)for(var n=0;n<e.width;n++)for(var r=e.width*t+n<<2,i=0;i<3;i++){var o=e.data[r+i]/255;o=Math.pow(o,1/2.2/e.gamma),e.data[r+i]=Math.round(255*o)}e.gamma=0}},f.prototype.adjustGamma=function(){f.adjustGamma(this)}}).call(this,e("_process"),e("buffer").Buffer)},{"./packer-async":122,"./parser-async":126,"./png-sync":129,_process:134,buffer:19,stream:151,util:159}],131:[function(e,t,n){(function(r,i){"use strict";function o(e){if(!(this instanceof o))return new o(e);e&&e.chunkSize<l.Z_MIN_CHUNK&&(e.chunkSize=l.Z_MIN_CHUNK),l.Inflate.call(this,e),e&&null!=e.maxLength&&(this._maxLength=e.maxLength)}function s(e,t){t&&r.nextTick(t),e._handle&&(e._handle.close(),e._handle=null)}function a(e,t){if("string"==typeof t&&(t=i.from(t)),!(t instanceof i))throw new TypeError("Not a string or buffer");var n=e._finishFlushFlag;return null==n&&(n=l.Z_FINISH),e._processChunk(t,n)}function u(e,t){return a(new o(t),e)}var f=e("assert").ok,l=e("zlib"),c=e("util"),h=e("buffer").kMaxLength;o.prototype._processChunk=function(e,t,n){if("function"==typeof n)return l.Inflate._processChunk.call(this,e,t,n);var r,o=this,a=e&&e.length,u=this._chunkSize-this._offset,c=this._maxLength,d=0,p=[],g=0;this.on("error",function(e){r=e}),f(this._handle,"zlib binding closed");do{var b=this._handle.writeSync(t,e,d,a,this._buffer,this._offset,u)}while(!this._hadError&&function(e,t){if(!o._hadError){var n=u-t;if(f(n>=0,"have should not go down"),n>0){var r=o._buffer.slice(o._offset,o._offset+n);if(o._offset+=n,r.length>c&&(r=r.slice(0,c)),p.push(r),g+=r.length,0==(c-=r.length))return!1}return(0===t||o._offset>=o._chunkSize)&&(u=o._chunkSize,o._offset=0,o._buffer=i.allocUnsafe(o._chunkSize)),0===t&&(d+=a-e,a=e,!0)}}(b[0],b[1]));if(this._hadError)throw r;if(g>=h)throw s(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+h.toString(16)+" bytes");var _=i.concat(p,g);return s(this),_},c.inherits(o,l.Inflate),t.exports=n=u,n.Inflate=o,n.createInflate=function(e){return new o(e)},n.inflateSync=u}).call(this,e("_process"),e("buffer").Buffer)},{_process:134,assert:5,buffer:19,util:159,zlib:18}],132:[function(e,t,n){"use strict";var r=t.exports=function(e){this._buffer=e,this._reads=[]};r.prototype.read=function(e,t){this._reads.push({length:Math.abs(e),allowLess:e<0,func:t})},r.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var e=this._reads[0];if(!this._buffer.length||!(this._buffer.length>=e.length||e.allowLess))break;this._reads.shift();var t=this._buffer;this._buffer=t.slice(e.length),e.func.call(this,t.slice(0,e.length))}return this._reads.length>0?new Error("There are some read requests waitng on finished stream"):this._buffer.length>0?new Error("unrecognised content at end of stream"):void 0}},{}],133:[function(e,t,n){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=function(t,n,r,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick(function(){t.apply(null,o)})}}:t.exports=e.nextTick}).call(this,e("_process"))},{_process:134}],134:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){b&&p&&(b=!1,p.length?g=p.concat(g):_=-1,g.length&&u())}function u(){if(!b){var e=o(a);b=!0;for(var t=g.length;t;){for(p=g,g=[];++_<t;)p&&p[_].run();_=-1,t=g.length}p=null,b=!1,s(e)}}function f(e,t){this.fun=e,this.array=t}function l(){}var c,h,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(e){c=r}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var p,g=[],b=!1,_=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new f(e,t)),1!==g.length||b||o(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],135:[function(e,t,n){!function(e,n,r){void 0!==t&&t.exports?t.exports=r():n.prr=r()}(0,this,function(){var e="function"==typeof Object.defineProperty?function(e,t,n){return Object.defineProperty(e,t,n),e}:function(e,t,n){return e[t]=n.value,e},t=function(e,t){var n="object"==typeof t,r=!n&&"string"==typeof t,i=function(e){return n?!!t[e]:!!r&&t.indexOf(e[0])>-1};return{enumerable:i("enumerable"),configurable:i("configurable"),writable:i("writable"),value:e}};return function(n,r,i,o){var s;if(o=t(i,o),"object"==typeof r){for(s in r)Object.hasOwnProperty.call(r,s)&&(o.value=r[s],e(n,s,o));return n}return e(n,r,o)}})},{}],136:[function(e,t,n){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":137}],137:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);f.call(this,e),l.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||s(o,this)}function o(e){e.end()}var s=e("process-nextick-args"),a=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};t.exports=r;var u=e("core-util-is");u.inherits=e("inherits");var f=e("./_stream_readable"),l=e("./_stream_writable");u.inherits(r,f);for(var c=a(l.prototype),h=0;h<c.length;h++){var d=c[h];r.prototype[d]||(r.prototype[d]=l.prototype[d])}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),r.prototype._destroy=function(e,t){this.push(null),this.end(),s(t,e)}},{"./_stream_readable":139,"./_stream_writable":141,"core-util-is":21,inherits:40,"process-nextick-args":133}],138:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.exports=r;var i=e("./_stream_transform"),o=e("core-util-is");o.inherits=e("inherits"),o.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{"./_stream_transform":140,"core-util-is":21,inherits:40}],139:[function(e,t,n){(function(n,r){"use strict";function i(e){return M.from(e)}function o(e){return M.isBuffer(e)||e instanceof P}function s(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?j(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}function a(t,n){N=N||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof N&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,i=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new H,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(W||(W=e("string_decoder/").StringDecoder),this.decoder=new W(t.encoding),this.encoding=t.encoding)}function u(t){if(N=N||e("./_stream_duplex"),!(this instanceof u))return new u(t);this._readableState=new a(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),C.call(this)}function f(e,t,n,r,o){var s=e._readableState;if(null===t)s.reading=!1,g(e,s);else{var a;o||(a=c(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===M.prototype||(t=i(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):l(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?l(e,s,t,!1):y(e,s)):l(e,s,t,!1))):r||(s.reading=!1)}return h(s)}function l(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&b(e)),y(e,t)}function c(e,t){var n;return o(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function d(e){return e>=q?e=q:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function p(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=d(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function g(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,b(e)}}function b(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(F("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?B(_,e):_(e))}function _(e){F("emit readable"),e.emit("readable"),x(e)}function y(e,t){t.readingMore||(t.readingMore=!0,B(m,e,t))}function m(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(F("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function v(e){return function(){var t=e._readableState;F("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&D(e,"data")&&(t.flowing=!0,x(e))}}function w(e){F("readable nexttick read 0"),e.read(0)}function E(e,t){t.resumeScheduled||(t.resumeScheduled=!0,B(k,e,t))}function k(e,t){t.reading||(F("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}function x(e){var t=e._readableState;for(F("flow",t.flowing);t.flowing&&null!==e.read(););}function S(e,t){if(0===t.length)return null;var n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=T(e,t.buffer,t.decoder),n}function T(e,t,n){var r;return e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?R(e,t):A(e,t),r}function R(e,t){var n=t.head,r=1,i=n.data;for(e-=i.length;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}function A(e,t){var n=M.allocUnsafe(e),r=t.head,i=1;for(r.data.copy(n),e-=r.data.length;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,B(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}var B=e("process-nextick-args");t.exports=u;var N,j=e("isarray");u.ReadableState=a;e("events").EventEmitter;var D=function(e,t){return e.listeners(t).length},C=e("./internal/streams/stream"),M=e("safe-buffer").Buffer,P=r.Uint8Array||function(){},U=e("core-util-is");U.inherits=e("inherits");var z=e("util"),F=void 0;F=z&&z.debuglog?z.debuglog("stream"):function(){};var W,H=e("./internal/streams/BufferList"),Z=e("./internal/streams/destroy");U.inherits(u,C);var Y=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),u.prototype.destroy=Z.destroy,u.prototype._undestroy=Z.undestroy,u.prototype._destroy=function(e,t){this.push(null),t(e)},u.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=M.from(e,t),t=""),n=!0),f(this,e,t,!1,n)},u.prototype.unshift=function(e){return f(this,e,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(t){return W||(W=e("string_decoder/").StringDecoder),this._readableState.decoder=new W(t),this._readableState.encoding=t,this};var q=8388608;u.prototype.read=function(e){F("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return F("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):b(this),null;if(0===(e=p(e,t))&&t.ended)return 0===t.length&&I(this),null;var r=t.needReadable;F("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&F("length less than watermark",r=!0),t.ended||t.reading?F("reading or ended",r=!1):r&&(F("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=p(n,t)));var i;return null===(i=e>0?S(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&I(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(e,t){function r(e,t){F("onunpipe"),e===h&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,o())}function i(){F("onend"),e.end()}function o(){F("cleanup"),e.removeListener("close",f),e.removeListener("finish",l),e.removeListener("drain",g),e.removeListener("error",u),e.removeListener("unpipe",r),h.removeListener("end",i),h.removeListener("end",c),h.removeListener("data",a),b=!0,!d.awaitDrain||e._writableState&&!e._writableState.needDrain||g()}function a(t){F("ondata"),_=!1,!1!==e.write(t)||_||((1===d.pipesCount&&d.pipes===e||d.pipesCount>1&&-1!==L(d.pipes,e))&&!b&&(F("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,_=!0),h.pause())}function u(t){F("onerror",t),c(),e.removeListener("error",u),0===D(e,"error")&&e.emit("error",t)}function f(){e.removeListener("finish",l),c()}function l(){F("onfinish"),e.removeListener("close",f),c()}function c(){F("unpipe"),h.unpipe(e)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=e;break;case 1:d.pipes=[d.pipes,e];break;default:d.pipes.push(e)}d.pipesCount+=1,F("pipe count=%d opts=%j",d.pipesCount,t);var p=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?i:c;d.endEmitted?B(p):h.once("end",p),e.on("unpipe",r);var g=v(h);e.on("drain",g);var b=!1,_=!1;return h.on("data",a),s(e,"error",u),e.once("close",f),e.once("finish",l),e.emit("pipe",h),d.flowing||(F("pipe resume"),h.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=L(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},u.prototype.on=function(e,t){var n=C.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&b(this):B(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(F("resume"),e.flowing=!0,E(this,e)),this},u.prototype.pause=function(){return F("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(F("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(F("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){F("wrapped data"),t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)&&(r.push(i)||(n=!0,e.pause()))});for(var i in e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<Y.length;o++)e.on(Y[o],r.emit.bind(r,Y[o]));return r._read=function(t){F("wrapped _read",t),n&&(n=!1,e.resume())},r},u._fromList=S}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":137,"./internal/streams/BufferList":142,"./internal/streams/destroy":143,"./internal/streams/stream":144,_process:134,"core-util-is":21,events:26,inherits:40,isarray:43,"process-nextick-args":133,"safe-buffer":150,"string_decoder/":145,util:15}],140:[function(e,t,n){"use strict";function r(e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e,t,n){var r=e._transformState;r.transforming=!1;var i=r.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&e.push(n),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);a.call(this,e),this._transformState=new r(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!==n&&void 0!==n&&e.push(n);var r=e._writableState,i=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}t.exports=o;var a=e("./_stream_duplex"),u=e("core-util-is");u.inherits=e("inherits"),u.inherits(o,a),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;a.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{"./_stream_duplex":137,"core-util-is":21,inherits:40}],141:[function(e,t,n){(function(n,r){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){T(t,e)}}function o(e){return N.from(e)}function s(e){return N.isBuffer(e)||e instanceof j}function a(){}function u(t,n){A=A||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,n instanceof A&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===t.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){_(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function f(t){if(A=A||e("./_stream_duplex"),!(C.call(f,this)||this instanceof A))return new f(t);this._writableState=new u(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),B.call(this)}function l(e,t){var n=new Error("write after end");e.emit("error",n),R(t,n)}function c(e,t,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),R(r,o),i=!1),i}function h(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=N.from(t,n)),t}function d(e,t,n,r,i,o){if(!n){var s=h(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else p(e,t,!1,a,r,i,o);return u}function p(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function g(e,t,n,r,i){--t.pendingcb,n?(R(i,r),R(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(i(r),e._writableState.errorEmitted=!0,e.emit("error",r),x(e,t))}function b(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function _(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if(b(n),t)g(e,n,r,t,i);else{var o=w(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?I(y,e,n,o,i):y(e,n,o,i)}}function y(e,t,n,r){n||m(e,t),t.pendingcb--,r(),x(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,u=!0;n;)o[a]=n,n.isBuf||(u=!1),n=n.next,a+=1;o.allBuffers=u,p(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t)}else{for(;n;){var f=n.chunk,l=n.encoding,c=n.callback;if(p(e,t,!1,t.objectMode?1:f.length,f,l,c),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function E(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),x(e,t)})}function k(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,R(E,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function x(e,t){var n=w(t);return n&&(k(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}function S(e,t,n){t.ending=!0,x(e,t),n&&(t.finished?R(n):e.once("finish",n)),t.ended=!0,e.writable=!1}function T(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}var R=e("process-nextick-args");t.exports=f;var A,I=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:R;f.WritableState=u;var O=e("core-util-is");O.inherits=e("inherits");var L={deprecate:e("util-deprecate")},B=e("./internal/streams/stream"),N=e("safe-buffer").Buffer,j=r.Uint8Array||function(){},D=e("./internal/streams/destroy");O.inherits(f,B),u.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(u.prototype,"buffer",{get:L.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}();var C;"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(C=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(e){return!!C.call(this,e)||e&&e._writableState instanceof u}})):C=function(e){return e instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(e,t,n){var r=this._writableState,i=!1,u=s(e)&&!r.objectMode;return u&&!N.isBuffer(e)&&(e=o(e)),"function"==typeof t&&(n=t,t=null),u?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=a),r.ended?l(this,n):(u||c(this,r,e,n))&&(r.pendingcb++,i=d(this,r,u,e,t,n)),i},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},f.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},f.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||S(this,r,n)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),f.prototype.destroy=D.destroy,f.prototype._undestroy=D.undestroy,f.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":137,"./internal/streams/destroy":143,"./internal/streams/stream":144,_process:134,"core-util-is":21,inherits:40,"process-nextick-args":133,"safe-buffer":150,"util-deprecate":156}],142:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){e.copy(t,n)}var o=e("safe-buffer").Buffer;t.exports=function(){function e(){r(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t=o.allocUnsafe(e>>>0),n=this.head,r=0;n;)i(n.data,t,r),r+=n.data.length,n=n.next;return t},e}()},{"safe-buffer":150}],143:[function(e,t,n){"use strict";function r(e,t){e.emit("error",t)}var i=e("process-nextick-args");t.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;o||s?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i(r,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(i(r,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":133}],144:[function(e,t,n){t.exports=e("events").EventEmitter},{events:26}],145:[function(e,t,n){"use strict";function r(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function i(e){var t=r(e);if("string"!=typeof t&&(b.isEncoding===_||!_(e)))throw new Error("Unknown encoding: "+e);return t||e}function o(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=h,this.end=d,t=3;break;default:return this.write=p,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=b.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:-1}function a(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}function u(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"".repeat(n);if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"".repeat(n+1);if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"".repeat(n+2)}}function f(e){var t=this.lastTotal-this.lastNeed,n=u(this,e,t);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function h(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function g(e){return e&&e.length?this.write(e):""}var b=e("safe-buffer").Buffer,_=b.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};n.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"".repeat(this.lastTotal-this.lastNeed):t},o.prototype.text=function(e,t){var n=a(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":150}],146:[function(e,t,n){t.exports=e("./readable").PassThrough},{"./readable":147}],147:[function(e,t,n){(n=t.exports=e("./lib/_stream_readable.js")).Stream=n,n.Readable=n,n.Writable=e("./lib/_stream_writable.js"),n.Duplex=e("./lib/_stream_duplex.js"),n.Transform=e("./lib/_stream_transform.js"),n.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":137,"./lib/_stream_passthrough.js":138,"./lib/_stream_readable.js":139,"./lib/_stream_transform.js":140,"./lib/_stream_writable.js":141}],148:[function(e,t,n){t.exports=e("./readable").Transform},{"./readable":147}],149:[function(e,t,n){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":141}],150:[function(e,t,n){function r(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return s(e,t,n)}var o=e("buffer"),s=o.Buffer;s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?t.exports=o:(r(o,n),n.Buffer=i),r(s,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return s(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=s(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return s(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:19}],151:[function(e,t,n){function r(){i.call(this)}t.exports=r;var i=e("events").EventEmitter;e("inherits")(r,i),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function n(t){e.writable&&!1===e.write(t)&&f.pause&&f.pause()}function r(){f.readable&&f.resume&&f.resume()}function o(){l||(l=!0,e.end())}function s(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){f.removeListener("data",n),e.removeListener("drain",r),f.removeListener("end",o),f.removeListener("close",s),f.removeListener("error",a),e.removeListener("error",a),f.removeListener("end",u),f.removeListener("close",u),e.removeListener("close",u)}var f=this;f.on("data",n),e.on("drain",r),e._isStdio||t&&!1===t.end||(f.on("end",o),f.on("close",s));var l=!1;return f.on("error",a),e.on("error",a),f.on("end",u),f.on("close",u),e.on("close",u),e.emit("pipe",f),e}},{events:26,inherits:40,"readable-stream/duplex.js":136,"readable-stream/passthrough.js":146,"readable-stream/readable.js":147,"readable-stream/transform.js":148,"readable-stream/writable.js":149}],152:[function(e,t,n){var r=n.range=function(e){return null==e?{}:"string"==typeof r?{min:r,max:r+""}:e},i=(n.prefix=function(e,t,r){e=n.range(e);var i={};return r=r||"",e instanceof RegExp||"function"==typeof e?(i.min=t,i.max=t+r,i.inner=function(n){var r=n.substring(t.length);return e.test?e.test(r):e(r)}):"object"==typeof e&&(i.min=t+(e.min||e.start||""),i.max=t+(e.max||e.end||r||"~"),i.reverse=!!e.reverse),i},n.checker=function(e){return e||(e={}),"string"==typeof e?function(t){return 0==t.indexOf(e)}:e instanceof RegExp?function(t){return e.test(t)}:"object"==typeof e?function(t){var n=e.min||e.start,r=e.max||e.end;return t=String(t),(!n||t>=n)&&(!r||t<=r)&&(!e.inner||(e.inner.test?e.inner.test(t):e.inner(t)))}:"function"==typeof e?e:void 0});n.satisfies=function(e,t){return i(t)(e)}},{}],153:[function(e,t,n){function r(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e("buffer").Buffer,u=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},f=n.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),r(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};f.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";if(e=e.slice(n,e.length),!((i=(t=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(t.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived);var r=(t+=e.toString(this.encoding,0,r)).length-1,i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,r)}return t},f.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},f.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},{buffer:19}],154:[function(e,t,n){(function(e){t.exports=function(t){return"function"==typeof e._augment&&e.TYPED_ARRAY_SUPPORT?e._augment(t):new e(t)}}).call(this,e("buffer").Buffer)},{buffer:19}],155:[function(e,t,n){function r(e){if(M&&T){var t,n=M(e);for(t=0;t<n.length;t+=1)T(e,n[t],{value:e[n[t]],writable:!1,enumerable:!1,configurable:!1})}}function i(e){if(T){if(e.length>A)throw new RangeError("Array too large for polyfill");var t;for(t=0;t<e.length;t+=1)!function(t){T(e,t,{get:function(){return e._getter(t)},set:function(n){e._setter(t,n)},enumerable:!0,configurable:!1})}(t)}}function o(e,t){var n=32-t;return e<<n>>n}function s(e,t){var n=32-t;return e<<n>>>n}function a(e){return[255&e]}function u(e){return o(e[0],8)}function f(e){return[255&e]}function l(e){return s(e[0],8)}function c(e){return e=C(Number(e)),[e<0?0:e>255?255:255&e]}function h(e){return[e>>8&255,255&e]}function d(e){return o(e[0]<<8|e[1],16)}function p(e){return[e>>8&255,255&e]}function g(e){return s(e[0]<<8|e[1],16)}function b(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function _(e){return o(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function y(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function m(e){return s(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function v(e,t,n){function r(e){var t=B(e),n=e-t;return n<.5?t:n>.5?t+1:t%2?t+1:t}var i,o,s,a,u,f,l,c=(1<<t-1)-1;for(e!==e?(o=(1<<t)-1,s=D(2,n-1),i=0):e===1/0||e===-1/0?(o=(1<<t)-1,s=0,i=e<0?1:0):0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=L(e))>=D(2,1-c)?(o=j(B(N(e)/O),1023),(s=r(e/D(2,o)*D(2,n)))/D(2,n)>=2&&(o+=1,s=1),o>c?(o=(1<<t)-1,s=0):(o+=c,s-=D(2,n))):(o=0,s=r(e/D(2,1-c-n)))),u=[],a=n;a;a-=1)u.push(s%2?1:0),s=B(s/2);for(a=t;a;a-=1)u.push(o%2?1:0),o=B(o/2);for(u.push(i?1:0),u.reverse(),f=u.join(""),l=[];f.length;)l.push(parseInt(f.substring(0,8),2)),f=f.substring(8);return l}function w(e,t,n){var r,i,o,s,a,u,f,l,c=[];for(r=e.length;r;r-=1)for(o=e[r-1],i=8;i;i-=1)c.push(o%2?1:0),o>>=1;return c.reverse(),s=c.join(""),a=(1<<t-1)-1,u=parseInt(s.substring(0,1),2)?-1:1,f=parseInt(s.substring(1,1+t),2),l=parseInt(s.substring(1+t),2),f===(1<<t)-1?0!==l?NaN:u*(1/0):f>0?u*D(2,f-a)*(1+l/D(2,n)):0!==l?u*D(2,-(a-1))*(l/D(2,n)):u<0?-0:0}function E(e){return w(e,11,52)}function k(e){return v(e,11,52)}function x(e){return w(e,8,23)}function S(e){return v(e,8,23)}var T,R=void 0,A=1e5,I=function(){var e=Object.prototype.toString,t=Object.prototype.hasOwnProperty;return{Class:function(t){return e.call(t).replace(/^\[object *|\]$/g,"")},HasProperty:function(e,t){return t in e},HasOwnProperty:function(e,n){return t.call(e,n)},IsCallable:function(e){return"function"==typeof e},ToInt32:function(e){return e>>0},ToUint32:function(e){return e>>>0}}}(),O=Math.LN2,L=Math.abs,B=Math.floor,N=Math.log,j=Math.min,D=Math.pow,C=Math.round;T=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()?Object.defineProperty:function(e,t,n){if(!e===Object(e))throw new TypeError("Object.defineProperty called on non-object");return I.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(e,t,n.get),I.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(e,t,n.set),I.HasProperty(n,"value")&&(e[t]=n.value),e};var M=Object.getOwnPropertyNames||function(e){if(e!==Object(e))throw new TypeError("Object.getOwnPropertyNames called on non-object");var t,n=[];for(t in e)I.HasOwnProperty(e,t)&&n.push(t);return n};!function(){function e(e,n,s){var a;return a=function(e,n,o){var s,u,f,l;if(arguments.length&&"number"!=typeof arguments[0])if("object"==typeof arguments[0]&&arguments[0].constructor===a)for(s=arguments[0],this.length=s.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,f=0;f<this.length;f+=1)this._setter(f,s._getter(f));else if("object"!=typeof arguments[0]||(arguments[0]instanceof t||"ArrayBuffer"===I.Class(arguments[0]))){if("object"!=typeof arguments[0]||!(arguments[0]instanceof t||"ArrayBuffer"===I.Class(arguments[0])))throw new TypeError("Unexpected argument type(s)");if(this.buffer=e,this.byteOffset=I.ToUint32(n),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=I.ToUint32(o),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else for(u=arguments[0],this.length=I.ToUint32(u.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,f=0;f<this.length;f+=1)l=u[f],this._setter(f,Number(l));else{if(this.length=I.ToInt32(arguments[0]),o<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}this.constructor=a,r(this),i(this)},a.prototype=new o,a.prototype.BYTES_PER_ELEMENT=e,a.prototype._pack=n,a.prototype._unpack=s,a.BYTES_PER_ELEMENT=e,a.prototype._getter=function(e){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if((e=I.ToUint32(e))>=this.length)return R;var t,n,r=[];for(t=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,n+=1)r.push(this.buffer._bytes[n]);return this._unpack(r)},a.prototype.get=a.prototype._getter,a.prototype._setter=function(e,t){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if((e=I.ToUint32(e))>=this.length)return R;var n,r,i=this._pack(t);for(n=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;n<this.BYTES_PER_ELEMENT;n+=1,r+=1)this.buffer._bytes[r]=i[n]},a.prototype.set=function(e,t){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var n,r,i,o,s,a,u,f,l,c;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(n=arguments[0],(i=I.ToUint32(arguments[1]))+n.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(f=this.byteOffset+i*this.BYTES_PER_ELEMENT,l=n.length*this.BYTES_PER_ELEMENT,n.buffer===this.buffer){for(c=[],s=0,a=n.byteOffset;s<l;s+=1,a+=1)c[s]=n.buffer._bytes[a];for(s=0,u=f;s<l;s+=1,u+=1)this.buffer._bytes[u]=c[s]}else for(s=0,a=n.byteOffset,u=f;s<l;s+=1,a+=1,u+=1)this.buffer._bytes[u]=n.buffer._bytes[a]}else{if("object"!=typeof arguments[0]||void 0===arguments[0].length)throw new TypeError("Unexpected argument type(s)");if(r=arguments[0],o=I.ToUint32(r.length),(i=I.ToUint32(arguments[1]))+o>this.length)throw new RangeError("Offset plus length of array is out of range");for(s=0;s<o;s+=1)a=r[s],this._setter(i+s,Number(a))}},a.prototype.subarray=function(e,t){function n(e,t,n){return e<t?t:e>n?n:e}e=I.ToInt32(e),t=I.ToInt32(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),e<0&&(e=this.length+e),t<0&&(t=this.length+t),e=n(e,0,this.length);var r=(t=n(t,0,this.length))-e;return r<0&&(r=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,r)},a}var t=function(e){if((e=I.ToInt32(e))<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=e,this._bytes=[],this._bytes.length=e;var t;for(t=0;t<this.byteLength;t+=1)this._bytes[t]=0;r(this)};n.ArrayBuffer=n.ArrayBuffer||t;var o=function(){},s=e(1,a,u),v=e(1,f,l),w=e(1,c,l),T=e(2,h,d),A=e(2,p,g),O=e(4,b,_),L=e(4,y,m),B=e(4,S,x),N=e(8,k,E);n.Int8Array=n.Int8Array||s,n.Uint8Array=n.Uint8Array||v,n.Uint8ClampedArray=n.Uint8ClampedArray||w,n.Int16Array=n.Int16Array||T,n.Uint16Array=n.Uint16Array||A,n.Int32Array=n.Int32Array||O,n.Uint32Array=n.Uint32Array||L,n.Float32Array=n.Float32Array||B,n.Float64Array=n.Float64Array||N}(),function(){function e(e,t){return I.IsCallable(e.get)?e.get(t):e[t]}function t(t){return function(r,i){if((r=I.ToUint32(r))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");r+=this.byteOffset;var s,a=new n.Uint8Array(this.buffer,r,t.BYTES_PER_ELEMENT),u=[];for(s=0;s<t.BYTES_PER_ELEMENT;s+=1)u.push(e(a,s));return Boolean(i)===Boolean(o)&&u.reverse(),e(new t(new n.Uint8Array(u).buffer),0)}}function i(t){return function(r,i,s){if((r=I.ToUint32(r))+t.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var a,u=new t([i]),f=new n.Uint8Array(u.buffer),l=[];for(a=0;a<t.BYTES_PER_ELEMENT;a+=1)l.push(e(f,a));Boolean(s)===Boolean(o)&&l.reverse(),new n.Uint8Array(this.buffer,r,t.BYTES_PER_ELEMENT).set(l)}}var o=function(){var t=new n.Uint16Array([4660]);return 18===e(new n.Uint8Array(t.buffer),0)}(),s=function(e,t,i){if(0===arguments.length)e=new n.ArrayBuffer(0);else if(!(e instanceof n.ArrayBuffer||"ArrayBuffer"===I.Class(e)))throw new TypeError("TypeError");if(this.buffer=e||new n.ArrayBuffer(0),this.byteOffset=I.ToUint32(t),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=I.ToUint32(i),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");r(this)};s.prototype.getUint8=t(n.Uint8Array),s.prototype.getInt8=t(n.Int8Array),s.prototype.getUint16=t(n.Uint16Array),s.prototype.getInt16=t(n.Int16Array),s.prototype.getUint32=t(n.Uint32Array),s.prototype.getInt32=t(n.Int32Array),s.prototype.getFloat32=t(n.Float32Array),s.prototype.getFloat64=t(n.Float64Array),s.prototype.setUint8=i(n.Uint8Array),s.prototype.setInt8=i(n.Int8Array),s.prototype.setUint16=i(n.Uint16Array),s.prototype.setInt16=i(n.Int16Array),s.prototype.setUint32=i(n.Uint32Array),s.prototype.setInt32=i(n.Int32Array),s.prototype.setFloat32=i(n.Float32Array),s.prototype.setFloat64=i(n.Float64Array),n.DataView=n.DataView||s}()},{}],156:[function(e,t,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(e){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],157:[function(e,t,n){arguments[4][40][0].apply(n,arguments)},{dup:40}],158:[function(e,t,n){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],159:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(t)?r.showHidden=t:t&&n._extend(r,t),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function s(e,t){return e}function a(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function u(e,t,r){if(e.customInspect&&t&&x(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return y(i)||(i=u(e,i,r)),i}var o=f(e,t);if(o)return o;var s=Object.keys(t),g=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),k(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(t);if(0===s.length){if(x(t)){var b=t.name?": "+t.name:"";return e.stylize("[Function"+b+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(E(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return l(t)}var _="",m=!1,w=["{","}"];if(p(t)&&(m=!0,w=["[","]"]),x(t)&&(_=" [Function"+(t.name?": "+t.name:"")+"]"),v(t)&&(_=" "+RegExp.prototype.toString.call(t)),E(t)&&(_=" "+Date.prototype.toUTCString.call(t)),k(t)&&(_=" "+l(t)),0===s.length&&(!m||0==t.length))return w[0]+_+w[1];if(r<0)return v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=m?c(e,t,r,g,s):s.map(function(n){return h(e,t,r,g,n,m)}),e.seen.pop(),d(S,_,w)}function f(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return _(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function c(e,t,n,r,i){for(var o=[],s=0,a=t.length;s<a;++s)A(t,String(s))?o.push(h(e,t,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))}),o}function h(e,t,n,r,i,o){var s,a,f;if((f=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=f.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):f.set&&(a=e.stylize("[Setter]","special")),A(r,i)||(s="["+i+"]"),a||(e.seen.indexOf(f.value)<0?(a=b(n)?u(e,f.value,null):u(e,f.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function b(e){return null===e}function _(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function v(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function E(e){return w(e)&&"[object Date]"===S(e)}function k(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function x(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}function R(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),B[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var I=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(e).replace(I,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),a=r[n];n<o;a=r[++n])b(a)||!w(a)?s+=" "+a:s+=" "+i(a);return s},n.deprecate=function(e,i){if(m(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return function(){if(!o){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var O,L={};n.debuglog=function(e){if(m(O)&&(O=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(O)){var r=t.pid;L[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else L[e]=function(){};return L[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=g,n.isNull=b,n.isNullOrUndefined=function(e){return null==e},n.isNumber=_,n.isString=y,n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=m,n.isRegExp=v,n.isObject=w,n.isDate=E,n.isError=k,n.isFunction=x,n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e("./support/isBuffer");var B=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",R(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":158,_process:134,inherits:157}],160:[function(e,t,n){function r(e,t){function n(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}if(e&&t)return r(e)(t);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(t){n[t]=e[t]}),n}t.exports=r},{}],161:[function(e,t,n){(function(n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("downloadjs"),s=e("pngjs").PNG,a=e("browserify-fs"),u=function(){function e(t,n,i,o){r(this,e),this.renderer=t,this.scene=n,this.camera=i,this.onStart=o?o.onStart:void 0,this.onBeforeRender=o?o.onBeforeRender:void 0,this.onAfterRender=o?o.onAfterRender:void 0,this.onExit=o?o.onExit:void 0,this.default={width:2048,height:2048},this.state={mode:"normal",maxFactor:1,originalWidth:null,originalHeight:null,width:null,height:null,factor:null,busy:!1};var s=this.renderer.capabilities.maxTextureSize,a=Math.floor(s/this.default.width);this.set("maxTextureSize",s),this.set("maxFactor",a),this.initUI()}return i(e,[{key:"set",value:function(e,t){this.state[e]=t}},{key:"get",value:function(e){return this.state[e]}},{key:"initUI",value:function(){this.initDom(),this.initStyles(),this.onResize(!0)}},{key:"activateUI",value:function(){if(!this.state.activeUI){this.set("activeUI",!0),this.hideAllMessages(),document.getElementById(this.domId+"").classList.add("show"),document.getElementById(this.domId+"-message").classList.add("show");var e=this.get("mode"),t=document.getElementById(this.domId+"-normal-mode-title"),n=document.getElementById(this.domId+"-depth-mode-title");"normal"===e?(t.classList.add("show"),n.classList.remove("show")):(t.classList.remove("show"),n.classList.add("show")),window.addEventListener("resize",this.onResize.bind(this)),console.log("Highres active.")}}},{key:"deactivateUI",value:function(){this.set("activeUI",!1),this.hideAllMessages(),document.getElementById(this.domId).classList.remove("show"),document.getElementById(this.domId+"-message").classList.add("show"),window.removeEventListener("resize",this.onResize.bind(this)),console.info("Highres inactive.")}},{key:"enable",value:function(){document.body.addEventListener("keyup",this.keyHandler.bind(this),!1)}},{key:"disable",value:function(){document.body.removeEventListener("keyup",this.keyHandler.bind(this))}},{key:"setupKeyEvents",value:function(){document.body.addEventListener("keyup",this.keyHandler.bind(this))}},{key:"keyHandler",value:function(e){var t=this;if(!this.state.busy){var n=function(){t.activateUI(),t.onStart&&t.onStart()};if("-"===e.key&&(this.set("mode","depth"),n()),"+"===e.key&&(this.set("mode","normal"),n()),27===e.keyCode&&(this.deactivateUI(),this.onExit&&this.onExit()),e.key.match(/^\d+$/)){if(!this.state.activeUI)return void console.warn("Highres is inactive. To activate press + (or - for depth rendering).");this.onBeforeRender&&this.onBeforeRender();var r=Math.min(parseInt(e.key),this.state.maxFactor);this.set("factor",r),this.showLoader(),this.set("startTime",Date.now()),setTimeout(function(){t.request(r).then(function(e){t.hideAllMessages(),t.set("endTime",Date.now());var n=t.get("endTime")-t.get("startTime");n=(n/1e3).toFixed(2),document.getElementById(t.domId+"-filename").innerHTML=e,document.getElementById(t.domId+"-duration").innerHTML=n+" seconds",document.getElementById(t.domId+"-complete").classList.add("show")})},250)}}}},{key:"showLoader",value:function(){var e=this.default.width*this.state.factor,t=this.default.height*this.state.factor;e=e||this.state.originalWidth,t=t||this.state.originalHeight,this.hideAllMessages(),document.getElementById(this.domId+"-width").innerHTML=e,document.getElementById(this.domId+"-height").innerHTML=t,document.getElementById(this.domId+"-dpi").innerHTML=Math.floor(e/300)+" x "+Math.floor(t/300),document.getElementById(this.domId+"-loader").classList.add("show")}},{key:"request",value:function(e){var t=this;return this.state.busy?Promise.resolve():(this.onResize(!0),new window.Promise(function(n,r){var i=void 0,o=void 0,s=void 0;0===e?(i=t.get("originalWidth"),o=t.get("originalHeight"),s=1):(i=t.default.width,o=t.default.height,s=e),t.set("width",i),t.set("height",o),t.set("factor",s),t.set("busy",!0),console.log("Highres ("+i*s+" x "+o*s+") rendering started."),t.onRendered=function(e){return n(e)},t.onError=function(){return r()},t.render()}))}},{key:"setupHighresRenderer",value:function(){this.camera.aspect=this.state.width/this.state.height,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(this.state.factor),this.renderer.setSize(this.state.width,this.state.height)}},{key:"render",value:function(){this.setupHighresRenderer();var e=this.renderer.getDrawingBufferSize(),t=e.width*e.height*4,n=new Uint8Array(t);"normal"===this.get("mode")?this.renderNormal(n,e):this.renderDepth(n,e)}},{key:"renderNormal",value:function(e,t){this.rt=new THREE.WebGLRenderTarget(t.width,t.height),this.renderer.render(this.scene,this.camera,this.rt),this.finishRender(e,t)}},{key:"renderDepth",value:function(e,t){this.rt=new THREE.WebGLRenderTarget(t.width,t.height);var n=new THREE.WebGLRenderTarget(t.width,t.height);n.texture.format=THREE.RGBFormat,n.texture.minFilter=THREE.NearestFilter,n.texture.magFilter=THREE.NearestFilter,n.texture.generateMipmaps=!1,n.stencilBuffer=!1,n.depthBuffer=!0,n.depthTexture=new THREE.DepthTexture,n.depthTexture.type=THREE.UnsignedShortType;var r=new THREE.OrthographicCamera(-1,1,1,-1,0,1),i=new THREE.ShaderMaterial({vertexShader:"\n        varying vec2 vUv;\n              void main() {\n                  vUv = uv;\n                  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n              }",fragmentShader:"\n        #include <packing>\n              varying vec2 vUv;\n              uniform sampler2D tDiffuse;\n              uniform sampler2D tDepth;\n              uniform float cameraNear;\n              uniform float cameraFar;\n              float readDepth (sampler2D depthSampler, vec2 coord) {\n                  float fragCoordZ = texture2D(depthSampler, coord).x;\n                  float viewZ = perspectiveDepthToViewZ( fragCoordZ, cameraNear, cameraFar );\n                  return viewZToOrthographicDepth( viewZ, cameraNear, cameraFar );\n              }\n              void main() {\n                  vec3 diffuse = texture2D(tDiffuse, vUv).rgb;\n                  float depth = readDepth(tDepth, vUv);\n                  gl_FragColor.rgb = vec3(depth);\n                  gl_FragColor.a = 1.0;\n              }",uniforms:{cameraNear:{value:this.camera.near},cameraFar:{value:this.camera.far},tDiffuse:{value:n.texture},tDepth:{value:n.depthTexture}}}),o=new THREE.PlaneBufferGeometry(2,2),s=new THREE.Mesh(o,i),a=new THREE.Scene;a.add(s),this.renderer.render(this.scene,this.camera,n),this.renderer.render(a,r,this.rt),this.finishRender(e,t)}},{key:"finishRender",value:function(e,t){this.renderer.readRenderTargetPixels(this.rt,0,0,t.width,t.height,e);var n=this.convertArrayToPNG(e,t);this.downloadPNG(n)}},{key:"convertArrayToPNG",value:function(e,t){for(var n=new s({width:t.width,height:t.height}),r=void 0,i=void 0,o=0;o<t.width;o++)for(var a=0;a<t.height;a++)r=t.width*a+o<<2,i=t.width*(t.height-a)+o<<2,n.data[r]=e[i],n.data[r+1]=e[i+1],n.data[r+2]=e[i+2],n.data[r+3]=e[i+3];return n}},{key:"downloadPNG",value:function(e){var t=this;try{e.pack().pipe(a.createWriteStream("newfile.png")).on("finish",function(e){a.readFile("newfile.png",function(e,n){if(e)t.manageError(e);else{var r=new window.Blob([n],{type:"image/png"}),i="hr-"+t.state.width*t.state.factor+"x"+t.state.height*t.state.factor+"-"+Date.now();o(r,i,"image/png"),t.restorePreviousState(),t.onRendered(i+".png")}})})}catch(e){this.manageError(e)}}},{key:"manageError",value:function(e){this.hideAllMessages(),document.getElementById(this.domId+"-error").classList.add("show"),this.onError(e),this.restorePreviousState()}},{key:"restorePreviousState",value:function(){this.set("busy",!1),this.set("activeUI",!1),this.rt.dispose(),this.onResize(),this.onAfterRender&&this.onAfterRender(),console.log("Highres rendering complete.")}},{key:"onResize",value:function(e){if(!this.state.busy){var t=window.innerWidth,n=window.innerHeight;this.set("originalWidth",t),this.set("originalHeight",n),this.resizeCaptureArea(),e||(this.camera.aspect=t/n,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(window.devicePixelRatio||1),this.renderer.setSize(t,n,!0))}}},{key:"resizeCaptureArea",value:function(){var e=document.getElementById(this.domId+"-capture-area"),t=this.get("originalHeight"),n=t*(this.default.width/this.default.height),r=t;e.style.width=n+"px",e.style.height=r+"px"}},{key:"initDom",value:function(){this.domId="high-res";var e=function(e){return document.getElementById(e)},t=this.domId+"-msg-box";this.dom("div",this.domId,document.body),this.dom("div",this.domId+"-capture-area",e(this.domId)),this.dom("div",this.domId+"-modal-wrapper",e(this.domId)),this.dom("div",this.domId+"-modal",e(this.domId+"-modal-wrapper")),this.dom("div",this.domId+"-message",e(this.domId+"-modal"),"show "+t),this.dom("div",this.domId+"-loader",e(this.domId+"-modal"),t),this.dom("div",this.domId+"-complete",e(this.domId+"-modal"),t),this.dom("div",this.domId+"-error",e(this.domId+"-modal"),t);var n=this.default.width,r=this.default.height,i=2+Math.round(Math.random()*(this.state.maxFactor-2)),o=n*i,s=r*i,a=Math.floor(o/300),u=Math.floor(s/300),f=this.state.maxTextureSize,l=this.state.maxFactor,c=Math.floor(f/300);this.html('<div class="title mode" id="'+this.domId+'-normal-mode-title">High resolution rendering</div>\n          \n          <div class="title mode" id="'+this.domId+'-depth-mode-title">Depth rendering</div>\n        <br><br>\n        WARNING: <i>This can take time. The browser tab will be busy for a few seconds (or more).</i>\n        <ul>\n          <li>\n              To start rendering press a number from <strong>0 to '+l+"</strong>.  \n              This value will be used as a factor of "+n+" x "+r+" and the result will be the size of the final PNG image (0 will result in a screenshot of the scene at your current resolution).\n          </li>\n          <li>\n              Your GPU supports "+f+" x "+f+" textures ("+c+" x "+c+" inches at 300 dpi), so the maximum factor you can use is <strong>"+l+"</strong>.\n          </li>\n          <li>\n              The rectangle shows the area that will be captured (it can be larger than the viewport).\n          </li>\n        </ul>\n        \n        <strong>Example:</strong>\n        <br>\n        If you select <strong>"+i+"</strong> you will get a "+i+"*"+n+" x "+i+"*"+r+" image = <strong>"+o+" x "+s+"</strong>.\n        <br>\n        That is a nice <strong>"+a+" x "+u+" inches</strong> print at <strong>300 dpi</strong>.\n        <br><br>\n        Press ESC to exit.\n        ",this.domId+"-message"),this.html('<div class="title">Rendering</div>\n      <br><br>\n      Sit back and relax. A beautiful <span id="'+this.domId+'-width"></span> x <span id="'+this.domId+'-height"></span> \n      image (<span id="'+this.domId+'-dpi"></span> inches at 300 dpi) is on the way<span id="loader-dots">...</span>\n      <br><br>\n      The scene may resize and look distorted for a few seconds.\n      ',this.domId+"-loader"),this.html('<div class="title">Rendering completed</div>\n      <br><br>\n      It took <strong id="'+this.domId+'-duration"></strong>. \n      The file <strong id="'+this.domId+'-filename"></strong> is ready.\n      <br><br>\n      Press ESC to exit. Press + or - to start again.\n      ',this.domId+"-complete"),this.html('<div class="title">Erm...</div>\n      <br><br>\n      There was an error.\n      <br><br>\n      Press ESC to exit or reload the page.\n      ',this.domId+"-error")}},{key:"dom",value:function(e,t,n,r){var i=document.createElement(e);i.setAttribute("id",t||""),i.className=r||"",n.appendChild(i)}},{key:"html",value:function(e,t){document.getElementById(t).innerHTML=e}},{key:"hideAllMessages",value:function(){for(var e=document.getElementsByClassName(this.domId+"-msg-box"),t=0;t<e.length;t++)e[t].classList.remove("show")}},{key:"initStyles",value:function(){var e="#"+this.domId+" {\n        position: fixed;\n        pointer-events: none;\n        z-index: 9999;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        left: 0;\n        display: none;\n        font-family: Helvetica, Arial, sans-serif;\n        font-size: 12px;\n      }\n  \n      #"+this.domId+".show {\n        display: block;\n      }\n      \n      #"+this.domId+"-modal-wrapper {\n        position: absolute;\n        width: 37.5%;\n        min-width: 400px;\n        bottom: 20px;\n        left: 50%;\n        transform: translateX(-50%);\n      }\n  \n      #"+this.domId+"-modal {\n        position: relative;\n        width: 100%;\n        background-color: #FFF;\n        box-shadow: 0px 0px 30px 0px rgba(0,0,0,0.2);\n        padding: 20px;\n        color: #333;\n        font-size: 12px;\n        border-radius: 5px;\n        box-sizing: border-box;\n      }\n  \n      #"+this.domId+"-message {\n        \n      }\n  \n      ."+this.domId+"-msg-box {\n        display: none;\n      }\n      ."+this.domId+"-msg-box.show {\n        display: block;\n      }\n  \n      .title {\n        font-size: 14px;\n        font-weight: bold;\n      }\n  \n      .mode {\n        display: none;\n      }\n  \n      .mode.show {\n        display: block;\n      }\n  \n      #"+this.domId+"-loader {\n        \n      }\n  \n      #"+this.domId+"-complete {\n      }\n  \n      #"+this.domId+"-capture-area {\n        position: absolute;\n        box-sizing: content-box;\n        border: 1px solid #FFF;\n        // box-shadow:inset 0 0 20px 0 rgba(0,0,0,0.3);\n        box-shadow: 0 0 40px 0 rgba(0,0,0,0.5);\n        background-color: transparent;\n        left: 50%;\n        top: 50%;\n        transform: translateX(-50%) translateY(-50%);\n      }\n      ";this.appendStyle(e)}},{key:"appendStyle",value:function(e){var t=window.document.head||window.document.getElementsByTagName("head")[0],n=window.document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}]),e}();n.Highres=u,t.exports=u}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"browserify-fs":16,downloadjs:23,pngjs:130}]},{},[161])(161)});